"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/got";
exports.ids = ["vendor-chunks/got"];
exports.modules = {

/***/ "(rsc)/./node_modules/got/dist/source/as-promise/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/got/dist/source/as-promise/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ asPromise)\n/* harmony export */ });\n/* harmony import */ var node_events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node:events */ \"node:events\");\n/* harmony import */ var _sindresorhus_is__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sindresorhus/is */ \"(rsc)/./node_modules/@sindresorhus/is/dist/index.js\");\n/* harmony import */ var p_cancelable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! p-cancelable */ \"(rsc)/./node_modules/p-cancelable/index.js\");\n/* harmony import */ var _core_errors_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/errors.js */ \"(rsc)/./node_modules/got/dist/source/core/errors.js\");\n/* harmony import */ var _core_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/index.js */ \"(rsc)/./node_modules/got/dist/source/core/index.js\");\n/* harmony import */ var _core_response_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/response.js */ \"(rsc)/./node_modules/got/dist/source/core/response.js\");\n/* harmony import */ var _core_utils_proxy_events_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/utils/proxy-events.js */ \"(rsc)/./node_modules/got/dist/source/core/utils/proxy-events.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./types.js */ \"(rsc)/./node_modules/got/dist/source/as-promise/types.js\");\n\n\n\n\n\n\n\n\nconst proxiedRequestEvents = [\n    'request',\n    'response',\n    'redirect',\n    'uploadProgress',\n    'downloadProgress',\n];\nfunction asPromise(firstRequest) {\n    let globalRequest;\n    let globalResponse;\n    let normalizedOptions;\n    const emitter = new node_events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();\n    const promise = new p_cancelable__WEBPACK_IMPORTED_MODULE_1__[\"default\"]((resolve, reject, onCancel) => {\n        onCancel(() => {\n            globalRequest.destroy();\n        });\n        onCancel.shouldReject = false;\n        onCancel(() => {\n            reject(new _types_js__WEBPACK_IMPORTED_MODULE_2__.CancelError(globalRequest));\n        });\n        const makeRequest = (retryCount) => {\n            // Errors when a new request is made after the promise settles.\n            // Used to detect a race condition.\n            // See https://github.com/sindresorhus/got/issues/1489\n            onCancel(() => { });\n            const request = firstRequest ?? new _core_index_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"](undefined, undefined, normalizedOptions);\n            request.retryCount = retryCount;\n            request._noPipe = true;\n            globalRequest = request;\n            request.once('response', async (response) => {\n                // Parse body\n                const contentEncoding = (response.headers['content-encoding'] ?? '').toLowerCase();\n                const isCompressed = contentEncoding === 'gzip' || contentEncoding === 'deflate' || contentEncoding === 'br';\n                const { options } = request;\n                if (isCompressed && !options.decompress) {\n                    response.body = response.rawBody;\n                }\n                else {\n                    try {\n                        response.body = (0,_core_response_js__WEBPACK_IMPORTED_MODULE_4__.parseBody)(response, options.responseType, options.parseJson, options.encoding);\n                    }\n                    catch (error) {\n                        // Fall back to `utf8`\n                        response.body = response.rawBody.toString();\n                        if ((0,_core_response_js__WEBPACK_IMPORTED_MODULE_4__.isResponseOk)(response)) {\n                            request._beforeError(error);\n                            return;\n                        }\n                    }\n                }\n                try {\n                    const hooks = options.hooks.afterResponse;\n                    for (const [index, hook] of hooks.entries()) {\n                        // @ts-expect-error TS doesn't notice that CancelableRequest is a Promise\n                        // eslint-disable-next-line no-await-in-loop\n                        response = await hook(response, async (updatedOptions) => {\n                            options.merge(updatedOptions);\n                            options.prefixUrl = '';\n                            if (updatedOptions.url) {\n                                options.url = updatedOptions.url;\n                            }\n                            // Remove any further hooks for that request, because we'll call them anyway.\n                            // The loop continues. We don't want duplicates (asPromise recursion).\n                            options.hooks.afterResponse = options.hooks.afterResponse.slice(0, index);\n                            throw new _core_errors_js__WEBPACK_IMPORTED_MODULE_5__.RetryError(request);\n                        });\n                        if (!(_sindresorhus_is__WEBPACK_IMPORTED_MODULE_6__[\"default\"].object(response) && _sindresorhus_is__WEBPACK_IMPORTED_MODULE_6__[\"default\"].number(response.statusCode) && !_sindresorhus_is__WEBPACK_IMPORTED_MODULE_6__[\"default\"].nullOrUndefined(response.body))) {\n                            throw new TypeError('The `afterResponse` hook returned an invalid value');\n                        }\n                    }\n                }\n                catch (error) {\n                    request._beforeError(error);\n                    return;\n                }\n                globalResponse = response;\n                if (!(0,_core_response_js__WEBPACK_IMPORTED_MODULE_4__.isResponseOk)(response)) {\n                    request._beforeError(new _core_errors_js__WEBPACK_IMPORTED_MODULE_5__.HTTPError(response));\n                    return;\n                }\n                request.destroy();\n                resolve(request.options.resolveBodyOnly ? response.body : response);\n            });\n            const onError = (error) => {\n                if (promise.isCanceled) {\n                    return;\n                }\n                const { options } = request;\n                if (error instanceof _core_errors_js__WEBPACK_IMPORTED_MODULE_5__.HTTPError && !options.throwHttpErrors) {\n                    const { response } = error;\n                    request.destroy();\n                    resolve(request.options.resolveBodyOnly ? response.body : response);\n                    return;\n                }\n                reject(error);\n            };\n            request.once('error', onError);\n            const previousBody = request.options?.body;\n            request.once('retry', (newRetryCount, error) => {\n                firstRequest = undefined;\n                const newBody = request.options.body;\n                if (previousBody === newBody && _sindresorhus_is__WEBPACK_IMPORTED_MODULE_6__[\"default\"].nodeStream(newBody)) {\n                    error.message = 'Cannot retry with consumed body stream';\n                    onError(error);\n                    return;\n                }\n                // This is needed! We need to reuse `request.options` because they can get modified!\n                // For example, by calling `promise.json()`.\n                normalizedOptions = request.options;\n                makeRequest(newRetryCount);\n            });\n            (0,_core_utils_proxy_events_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(request, emitter, proxiedRequestEvents);\n            if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_6__[\"default\"].undefined(firstRequest)) {\n                void request.flush();\n            }\n        };\n        makeRequest(0);\n    });\n    promise.on = (event, fn) => {\n        emitter.on(event, fn);\n        return promise;\n    };\n    promise.off = (event, fn) => {\n        emitter.off(event, fn);\n        return promise;\n    };\n    const shortcut = (responseType) => {\n        const newPromise = (async () => {\n            // Wait until downloading has ended\n            await promise;\n            const { options } = globalResponse.request;\n            return (0,_core_response_js__WEBPACK_IMPORTED_MODULE_4__.parseBody)(globalResponse, responseType, options.parseJson, options.encoding);\n        })();\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        Object.defineProperties(newPromise, Object.getOwnPropertyDescriptors(promise));\n        return newPromise;\n    };\n    promise.json = () => {\n        if (globalRequest.options) {\n            const { headers } = globalRequest.options;\n            if (!globalRequest.writableFinished && !('accept' in headers)) {\n                headers.accept = 'application/json';\n            }\n        }\n        return shortcut('json');\n    };\n    promise.buffer = () => shortcut('buffer');\n    promise.text = () => shortcut('text');\n    return promise;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2FzLXByb21pc2UvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQTJDO0FBQ1Q7QUFDSztBQUNvQjtBQUNwQjtBQUN1QjtBQUNOO0FBQ2Y7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixxREFBWTtBQUNwQyx3QkFBd0Isb0RBQVc7QUFDbkM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsdUJBQXVCLGtEQUFXO0FBQ2xDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QixnREFBZ0Qsc0RBQU87QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsVUFBVTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLDREQUFTO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLCtEQUFZO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLHVEQUFVO0FBQ2hELHlCQUF5QjtBQUN6Qiw4QkFBOEIsd0RBQUUscUJBQXFCLHdEQUFFLGlDQUFpQyx3REFBRTtBQUMxRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsK0RBQVk7QUFDakMsNkNBQTZDLHNEQUFTO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFVBQVU7QUFDbEMscUNBQXFDLHNEQUFTO0FBQzlDLDRCQUE0QixXQUFXO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Qsd0RBQUU7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixZQUFZLHVFQUFXO0FBQ3ZCLGdCQUFnQix3REFBRTtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsVUFBVTtBQUM5QixtQkFBbUIsNERBQVM7QUFDNUIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG5mbS1ib3QvLi9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2FzLXByb21pc2UvaW5kZXguanM/OGQ3ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdub2RlOmV2ZW50cyc7XG5pbXBvcnQgaXMgZnJvbSAnQHNpbmRyZXNvcmh1cy9pcyc7XG5pbXBvcnQgUENhbmNlbGFibGUgZnJvbSAncC1jYW5jZWxhYmxlJztcbmltcG9ydCB7IEhUVFBFcnJvciwgUmV0cnlFcnJvciwgfSBmcm9tICcuLi9jb3JlL2Vycm9ycy5qcyc7XG5pbXBvcnQgUmVxdWVzdCBmcm9tICcuLi9jb3JlL2luZGV4LmpzJztcbmltcG9ydCB7IHBhcnNlQm9keSwgaXNSZXNwb25zZU9rIH0gZnJvbSAnLi4vY29yZS9yZXNwb25zZS5qcyc7XG5pbXBvcnQgcHJveHlFdmVudHMgZnJvbSAnLi4vY29yZS91dGlscy9wcm94eS1ldmVudHMuanMnO1xuaW1wb3J0IHsgQ2FuY2VsRXJyb3IgfSBmcm9tICcuL3R5cGVzLmpzJztcbmNvbnN0IHByb3hpZWRSZXF1ZXN0RXZlbnRzID0gW1xuICAgICdyZXF1ZXN0JyxcbiAgICAncmVzcG9uc2UnLFxuICAgICdyZWRpcmVjdCcsXG4gICAgJ3VwbG9hZFByb2dyZXNzJyxcbiAgICAnZG93bmxvYWRQcm9ncmVzcycsXG5dO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXNQcm9taXNlKGZpcnN0UmVxdWVzdCkge1xuICAgIGxldCBnbG9iYWxSZXF1ZXN0O1xuICAgIGxldCBnbG9iYWxSZXNwb25zZTtcbiAgICBsZXQgbm9ybWFsaXplZE9wdGlvbnM7XG4gICAgY29uc3QgZW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICBjb25zdCBwcm9taXNlID0gbmV3IFBDYW5jZWxhYmxlKChyZXNvbHZlLCByZWplY3QsIG9uQ2FuY2VsKSA9PiB7XG4gICAgICAgIG9uQ2FuY2VsKCgpID0+IHtcbiAgICAgICAgICAgIGdsb2JhbFJlcXVlc3QuZGVzdHJveSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgb25DYW5jZWwuc2hvdWxkUmVqZWN0ID0gZmFsc2U7XG4gICAgICAgIG9uQ2FuY2VsKCgpID0+IHtcbiAgICAgICAgICAgIHJlamVjdChuZXcgQ2FuY2VsRXJyb3IoZ2xvYmFsUmVxdWVzdCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbWFrZVJlcXVlc3QgPSAocmV0cnlDb3VudCkgPT4ge1xuICAgICAgICAgICAgLy8gRXJyb3JzIHdoZW4gYSBuZXcgcmVxdWVzdCBpcyBtYWRlIGFmdGVyIHRoZSBwcm9taXNlIHNldHRsZXMuXG4gICAgICAgICAgICAvLyBVc2VkIHRvIGRldGVjdCBhIHJhY2UgY29uZGl0aW9uLlxuICAgICAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9zaW5kcmVzb3JodXMvZ290L2lzc3Vlcy8xNDg5XG4gICAgICAgICAgICBvbkNhbmNlbCgoKSA9PiB7IH0pO1xuICAgICAgICAgICAgY29uc3QgcmVxdWVzdCA9IGZpcnN0UmVxdWVzdCA/PyBuZXcgUmVxdWVzdCh1bmRlZmluZWQsIHVuZGVmaW5lZCwgbm9ybWFsaXplZE9wdGlvbnMpO1xuICAgICAgICAgICAgcmVxdWVzdC5yZXRyeUNvdW50ID0gcmV0cnlDb3VudDtcbiAgICAgICAgICAgIHJlcXVlc3QuX25vUGlwZSA9IHRydWU7XG4gICAgICAgICAgICBnbG9iYWxSZXF1ZXN0ID0gcmVxdWVzdDtcbiAgICAgICAgICAgIHJlcXVlc3Qub25jZSgncmVzcG9uc2UnLCBhc3luYyAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBQYXJzZSBib2R5XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGVudEVuY29kaW5nID0gKHJlc3BvbnNlLmhlYWRlcnNbJ2NvbnRlbnQtZW5jb2RpbmcnXSA/PyAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpc0NvbXByZXNzZWQgPSBjb250ZW50RW5jb2RpbmcgPT09ICdnemlwJyB8fCBjb250ZW50RW5jb2RpbmcgPT09ICdkZWZsYXRlJyB8fCBjb250ZW50RW5jb2RpbmcgPT09ICdicic7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBvcHRpb25zIH0gPSByZXF1ZXN0O1xuICAgICAgICAgICAgICAgIGlmIChpc0NvbXByZXNzZWQgJiYgIW9wdGlvbnMuZGVjb21wcmVzcykge1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5ib2R5ID0gcmVzcG9uc2UucmF3Qm9keTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5ib2R5ID0gcGFyc2VCb2R5KHJlc3BvbnNlLCBvcHRpb25zLnJlc3BvbnNlVHlwZSwgb3B0aW9ucy5wYXJzZUpzb24sIG9wdGlvbnMuZW5jb2RpbmcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmFsbCBiYWNrIHRvIGB1dGY4YFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keSA9IHJlc3BvbnNlLnJhd0JvZHkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1Jlc3BvbnNlT2socmVzcG9uc2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5fYmVmb3JlRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBob29rcyA9IG9wdGlvbnMuaG9va3MuYWZ0ZXJSZXNwb25zZTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBbaW5kZXgsIGhvb2tdIG9mIGhvb2tzLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUUyBkb2Vzbid0IG5vdGljZSB0aGF0IENhbmNlbGFibGVSZXF1ZXN0IGlzIGEgUHJvbWlzZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWF3YWl0LWluLWxvb3BcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgaG9vayhyZXNwb25zZSwgYXN5bmMgKHVwZGF0ZWRPcHRpb25zKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5tZXJnZSh1cGRhdGVkT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5wcmVmaXhVcmwgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXBkYXRlZE9wdGlvbnMudXJsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMudXJsID0gdXBkYXRlZE9wdGlvbnMudXJsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgYW55IGZ1cnRoZXIgaG9va3MgZm9yIHRoYXQgcmVxdWVzdCwgYmVjYXVzZSB3ZSdsbCBjYWxsIHRoZW0gYW55d2F5LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBsb29wIGNvbnRpbnVlcy4gV2UgZG9uJ3Qgd2FudCBkdXBsaWNhdGVzIChhc1Byb21pc2UgcmVjdXJzaW9uKS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmhvb2tzLmFmdGVyUmVzcG9uc2UgPSBvcHRpb25zLmhvb2tzLmFmdGVyUmVzcG9uc2Uuc2xpY2UoMCwgaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSZXRyeUVycm9yKHJlcXVlc3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShpcy5vYmplY3QocmVzcG9uc2UpICYmIGlzLm51bWJlcihyZXNwb25zZS5zdGF0dXNDb2RlKSAmJiAhaXMubnVsbE9yVW5kZWZpbmVkKHJlc3BvbnNlLmJvZHkpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBgYWZ0ZXJSZXNwb25zZWAgaG9vayByZXR1cm5lZCBhbiBpbnZhbGlkIHZhbHVlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3QuX2JlZm9yZUVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBnbG9iYWxSZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIGlmICghaXNSZXNwb25zZU9rKHJlc3BvbnNlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0Ll9iZWZvcmVFcnJvcihuZXcgSFRUUEVycm9yKHJlc3BvbnNlKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVxdWVzdC5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXF1ZXN0Lm9wdGlvbnMucmVzb2x2ZUJvZHlPbmx5ID8gcmVzcG9uc2UuYm9keSA6IHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3Qgb25FcnJvciA9IChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChwcm9taXNlLmlzQ2FuY2VsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB7IG9wdGlvbnMgfSA9IHJlcXVlc3Q7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgSFRUUEVycm9yICYmICFvcHRpb25zLnRocm93SHR0cEVycm9ycykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHJlc3BvbnNlIH0gPSBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVxdWVzdC5vcHRpb25zLnJlc29sdmVCb2R5T25seSA/IHJlc3BvbnNlLmJvZHkgOiByZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXF1ZXN0Lm9uY2UoJ2Vycm9yJywgb25FcnJvcik7XG4gICAgICAgICAgICBjb25zdCBwcmV2aW91c0JvZHkgPSByZXF1ZXN0Lm9wdGlvbnM/LmJvZHk7XG4gICAgICAgICAgICByZXF1ZXN0Lm9uY2UoJ3JldHJ5JywgKG5ld1JldHJ5Q291bnQsIGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgZmlyc3RSZXF1ZXN0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0JvZHkgPSByZXF1ZXN0Lm9wdGlvbnMuYm9keTtcbiAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNCb2R5ID09PSBuZXdCb2R5ICYmIGlzLm5vZGVTdHJlYW0obmV3Qm9keSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IubWVzc2FnZSA9ICdDYW5ub3QgcmV0cnkgd2l0aCBjb25zdW1lZCBib2R5IHN0cmVhbSc7XG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgbmVlZGVkISBXZSBuZWVkIHRvIHJldXNlIGByZXF1ZXN0Lm9wdGlvbnNgIGJlY2F1c2UgdGhleSBjYW4gZ2V0IG1vZGlmaWVkIVxuICAgICAgICAgICAgICAgIC8vIEZvciBleGFtcGxlLCBieSBjYWxsaW5nIGBwcm9taXNlLmpzb24oKWAuXG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZE9wdGlvbnMgPSByZXF1ZXN0Lm9wdGlvbnM7XG4gICAgICAgICAgICAgICAgbWFrZVJlcXVlc3QobmV3UmV0cnlDb3VudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHByb3h5RXZlbnRzKHJlcXVlc3QsIGVtaXR0ZXIsIHByb3hpZWRSZXF1ZXN0RXZlbnRzKTtcbiAgICAgICAgICAgIGlmIChpcy51bmRlZmluZWQoZmlyc3RSZXF1ZXN0KSkge1xuICAgICAgICAgICAgICAgIHZvaWQgcmVxdWVzdC5mbHVzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBtYWtlUmVxdWVzdCgwKTtcbiAgICB9KTtcbiAgICBwcm9taXNlLm9uID0gKGV2ZW50LCBmbikgPT4ge1xuICAgICAgICBlbWl0dGVyLm9uKGV2ZW50LCBmbik7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH07XG4gICAgcHJvbWlzZS5vZmYgPSAoZXZlbnQsIGZuKSA9PiB7XG4gICAgICAgIGVtaXR0ZXIub2ZmKGV2ZW50LCBmbik7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH07XG4gICAgY29uc3Qgc2hvcnRjdXQgPSAocmVzcG9uc2VUeXBlKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1Byb21pc2UgPSAoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgLy8gV2FpdCB1bnRpbCBkb3dubG9hZGluZyBoYXMgZW5kZWRcbiAgICAgICAgICAgIGF3YWl0IHByb21pc2U7XG4gICAgICAgICAgICBjb25zdCB7IG9wdGlvbnMgfSA9IGdsb2JhbFJlc3BvbnNlLnJlcXVlc3Q7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VCb2R5KGdsb2JhbFJlc3BvbnNlLCByZXNwb25zZVR5cGUsIG9wdGlvbnMucGFyc2VKc29uLCBvcHRpb25zLmVuY29kaW5nKTtcbiAgICAgICAgfSkoKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuZXdQcm9taXNlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhwcm9taXNlKSk7XG4gICAgICAgIHJldHVybiBuZXdQcm9taXNlO1xuICAgIH07XG4gICAgcHJvbWlzZS5qc29uID0gKCkgPT4ge1xuICAgICAgICBpZiAoZ2xvYmFsUmVxdWVzdC5vcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCB7IGhlYWRlcnMgfSA9IGdsb2JhbFJlcXVlc3Qub3B0aW9ucztcbiAgICAgICAgICAgIGlmICghZ2xvYmFsUmVxdWVzdC53cml0YWJsZUZpbmlzaGVkICYmICEoJ2FjY2VwdCcgaW4gaGVhZGVycykpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzLmFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2hvcnRjdXQoJ2pzb24nKTtcbiAgICB9O1xuICAgIHByb21pc2UuYnVmZmVyID0gKCkgPT4gc2hvcnRjdXQoJ2J1ZmZlcicpO1xuICAgIHByb21pc2UudGV4dCA9ICgpID0+IHNob3J0Y3V0KCd0ZXh0Jyk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/got/dist/source/as-promise/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/got/dist/source/as-promise/types.js":
/*!**********************************************************!*\
  !*** ./node_modules/got/dist/source/as-promise/types.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CancelError: () => (/* binding */ CancelError)\n/* harmony export */ });\n/* harmony import */ var _core_errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/errors.js */ \"(rsc)/./node_modules/got/dist/source/core/errors.js\");\n\n/**\nAn error to be thrown when the request is aborted with `.cancel()`.\n*/\nclass CancelError extends _core_errors_js__WEBPACK_IMPORTED_MODULE_0__.RequestError {\n    constructor(request) {\n        super('Promise was canceled', {}, request);\n        this.name = 'CancelError';\n        this.code = 'ERR_CANCELED';\n    }\n    /**\n    Whether the promise is canceled.\n    */\n    get isCanceled() {\n        return true;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2FzLXByb21pc2UvdHlwZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBaUQ7QUFDakQ7QUFDQTtBQUNBO0FBQ08sMEJBQTBCLHlEQUFZO0FBQzdDO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG5mbS1ib3QvLi9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2FzLXByb21pc2UvdHlwZXMuanM/ZmJlMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZXF1ZXN0RXJyb3IgfSBmcm9tICcuLi9jb3JlL2Vycm9ycy5qcyc7XG4vKipcbkFuIGVycm9yIHRvIGJlIHRocm93biB3aGVuIHRoZSByZXF1ZXN0IGlzIGFib3J0ZWQgd2l0aCBgLmNhbmNlbCgpYC5cbiovXG5leHBvcnQgY2xhc3MgQ2FuY2VsRXJyb3IgZXh0ZW5kcyBSZXF1ZXN0RXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHJlcXVlc3QpIHtcbiAgICAgICAgc3VwZXIoJ1Byb21pc2Ugd2FzIGNhbmNlbGVkJywge30sIHJlcXVlc3QpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnQ2FuY2VsRXJyb3InO1xuICAgICAgICB0aGlzLmNvZGUgPSAnRVJSX0NBTkNFTEVEJztcbiAgICB9XG4gICAgLyoqXG4gICAgV2hldGhlciB0aGUgcHJvbWlzZSBpcyBjYW5jZWxlZC5cbiAgICAqL1xuICAgIGdldCBpc0NhbmNlbGVkKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/got/dist/source/as-promise/types.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/got/dist/source/core/calculate-retry-delay.js":
/*!********************************************************************!*\
  !*** ./node_modules/got/dist/source/core/calculate-retry-delay.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst calculateRetryDelay = ({ attemptCount, retryOptions, error, retryAfter, computedValue, }) => {\n    if (error.name === 'RetryError') {\n        return 1;\n    }\n    if (attemptCount > retryOptions.limit) {\n        return 0;\n    }\n    const hasMethod = retryOptions.methods.includes(error.options.method);\n    const hasErrorCode = retryOptions.errorCodes.includes(error.code);\n    const hasStatusCode = error.response && retryOptions.statusCodes.includes(error.response.statusCode);\n    if (!hasMethod || (!hasErrorCode && !hasStatusCode)) {\n        return 0;\n    }\n    if (error.response) {\n        if (retryAfter) {\n            // In this case `computedValue` is `options.request.timeout`\n            if (retryAfter > computedValue) {\n                return 0;\n            }\n            return retryAfter;\n        }\n        if (error.response.statusCode === 413) {\n            return 0;\n        }\n    }\n    const noise = Math.random() * retryOptions.noise;\n    return Math.min(((2 ** (attemptCount - 1)) * 1000), retryOptions.backoffLimit) + noise;\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (calculateRetryDelay);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2NvcmUvY2FsY3VsYXRlLXJldHJ5LWRlbGF5LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSwrQkFBK0IsK0RBQStEO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFlLG1CQUFtQixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG5mbS1ib3QvLi9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2NvcmUvY2FsY3VsYXRlLXJldHJ5LWRlbGF5LmpzPzhkM2UiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgY2FsY3VsYXRlUmV0cnlEZWxheSA9ICh7IGF0dGVtcHRDb3VudCwgcmV0cnlPcHRpb25zLCBlcnJvciwgcmV0cnlBZnRlciwgY29tcHV0ZWRWYWx1ZSwgfSkgPT4ge1xuICAgIGlmIChlcnJvci5uYW1lID09PSAnUmV0cnlFcnJvcicpIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIGlmIChhdHRlbXB0Q291bnQgPiByZXRyeU9wdGlvbnMubGltaXQpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGNvbnN0IGhhc01ldGhvZCA9IHJldHJ5T3B0aW9ucy5tZXRob2RzLmluY2x1ZGVzKGVycm9yLm9wdGlvbnMubWV0aG9kKTtcbiAgICBjb25zdCBoYXNFcnJvckNvZGUgPSByZXRyeU9wdGlvbnMuZXJyb3JDb2Rlcy5pbmNsdWRlcyhlcnJvci5jb2RlKTtcbiAgICBjb25zdCBoYXNTdGF0dXNDb2RlID0gZXJyb3IucmVzcG9uc2UgJiYgcmV0cnlPcHRpb25zLnN0YXR1c0NvZGVzLmluY2x1ZGVzKGVycm9yLnJlc3BvbnNlLnN0YXR1c0NvZGUpO1xuICAgIGlmICghaGFzTWV0aG9kIHx8ICghaGFzRXJyb3JDb2RlICYmICFoYXNTdGF0dXNDb2RlKSkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7XG4gICAgICAgIGlmIChyZXRyeUFmdGVyKSB7XG4gICAgICAgICAgICAvLyBJbiB0aGlzIGNhc2UgYGNvbXB1dGVkVmFsdWVgIGlzIGBvcHRpb25zLnJlcXVlc3QudGltZW91dGBcbiAgICAgICAgICAgIGlmIChyZXRyeUFmdGVyID4gY29tcHV0ZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJldHJ5QWZ0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLnN0YXR1c0NvZGUgPT09IDQxMykge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgbm9pc2UgPSBNYXRoLnJhbmRvbSgpICogcmV0cnlPcHRpb25zLm5vaXNlO1xuICAgIHJldHVybiBNYXRoLm1pbigoKDIgKiogKGF0dGVtcHRDb3VudCAtIDEpKSAqIDEwMDApLCByZXRyeU9wdGlvbnMuYmFja29mZkxpbWl0KSArIG5vaXNlO1xufTtcbmV4cG9ydCBkZWZhdWx0IGNhbGN1bGF0ZVJldHJ5RGVsYXk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/got/dist/source/core/calculate-retry-delay.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/got/dist/source/core/errors.js":
/*!*****************************************************!*\
  !*** ./node_modules/got/dist/source/core/errors.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbortError: () => (/* binding */ AbortError),\n/* harmony export */   CacheError: () => (/* binding */ CacheError),\n/* harmony export */   HTTPError: () => (/* binding */ HTTPError),\n/* harmony export */   MaxRedirectsError: () => (/* binding */ MaxRedirectsError),\n/* harmony export */   ReadError: () => (/* binding */ ReadError),\n/* harmony export */   RequestError: () => (/* binding */ RequestError),\n/* harmony export */   RetryError: () => (/* binding */ RetryError),\n/* harmony export */   TimeoutError: () => (/* binding */ TimeoutError),\n/* harmony export */   UploadError: () => (/* binding */ UploadError)\n/* harmony export */ });\n/* harmony import */ var _sindresorhus_is__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sindresorhus/is */ \"(rsc)/./node_modules/@sindresorhus/is/dist/index.js\");\n\n// A hacky check to prevent circular references.\nfunction isRequest(x) {\n    return _sindresorhus_is__WEBPACK_IMPORTED_MODULE_0__[\"default\"].object(x) && '_onResponse' in x;\n}\n/**\nAn error to be thrown when a request fails.\nContains a `code` property with error class code, like `ECONNREFUSED`.\n*/\nclass RequestError extends Error {\n    constructor(message, error, self) {\n        super(message);\n        Object.defineProperty(this, \"input\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"code\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"stack\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"response\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"request\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"timings\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Error.captureStackTrace(this, this.constructor);\n        this.name = 'RequestError';\n        this.code = error.code ?? 'ERR_GOT_REQUEST_ERROR';\n        this.input = error.input;\n        if (isRequest(self)) {\n            Object.defineProperty(this, 'request', {\n                enumerable: false,\n                value: self,\n            });\n            Object.defineProperty(this, 'response', {\n                enumerable: false,\n                value: self.response,\n            });\n            this.options = self.options;\n        }\n        else {\n            this.options = self;\n        }\n        this.timings = this.request?.timings;\n        // Recover the original stacktrace\n        if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string(error.stack) && _sindresorhus_is__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string(this.stack)) {\n            const indexOfMessage = this.stack.indexOf(this.message) + this.message.length;\n            const thisStackTrace = this.stack.slice(indexOfMessage).split('\\n').reverse();\n            const errorStackTrace = error.stack.slice(error.stack.indexOf(error.message) + error.message.length).split('\\n').reverse();\n            // Remove duplicated traces\n            while (errorStackTrace.length > 0 && errorStackTrace[0] === thisStackTrace[0]) {\n                thisStackTrace.shift();\n            }\n            this.stack = `${this.stack.slice(0, indexOfMessage)}${thisStackTrace.reverse().join('\\n')}${errorStackTrace.reverse().join('\\n')}`;\n        }\n    }\n}\n/**\nAn error to be thrown when the server redirects you more than ten times.\nIncludes a `response` property.\n*/\nclass MaxRedirectsError extends RequestError {\n    constructor(request) {\n        super(`Redirected ${request.options.maxRedirects} times. Aborting.`, {}, request);\n        this.name = 'MaxRedirectsError';\n        this.code = 'ERR_TOO_MANY_REDIRECTS';\n    }\n}\n/**\nAn error to be thrown when the server response code is not 2xx nor 3xx if `options.followRedirect` is `true`, but always except for 304.\nIncludes a `response` property.\n*/\n// eslint-disable-next-line @typescript-eslint/naming-convention\nclass HTTPError extends RequestError {\n    constructor(response) {\n        super(`Response code ${response.statusCode} (${response.statusMessage})`, {}, response.request);\n        this.name = 'HTTPError';\n        this.code = 'ERR_NON_2XX_3XX_RESPONSE';\n    }\n}\n/**\nAn error to be thrown when a cache method fails.\nFor example, if the database goes down or there's a filesystem error.\n*/\nclass CacheError extends RequestError {\n    constructor(error, request) {\n        super(error.message, error, request);\n        this.name = 'CacheError';\n        this.code = this.code === 'ERR_GOT_REQUEST_ERROR' ? 'ERR_CACHE_ACCESS' : this.code;\n    }\n}\n/**\nAn error to be thrown when the request body is a stream and an error occurs while reading from that stream.\n*/\nclass UploadError extends RequestError {\n    constructor(error, request) {\n        super(error.message, error, request);\n        this.name = 'UploadError';\n        this.code = this.code === 'ERR_GOT_REQUEST_ERROR' ? 'ERR_UPLOAD' : this.code;\n    }\n}\n/**\nAn error to be thrown when the request is aborted due to a timeout.\nIncludes an `event` and `timings` property.\n*/\nclass TimeoutError extends RequestError {\n    constructor(error, timings, request) {\n        super(error.message, error, request);\n        Object.defineProperty(this, \"timings\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"event\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.name = 'TimeoutError';\n        this.event = error.event;\n        this.timings = timings;\n    }\n}\n/**\nAn error to be thrown when reading from response stream fails.\n*/\nclass ReadError extends RequestError {\n    constructor(error, request) {\n        super(error.message, error, request);\n        this.name = 'ReadError';\n        this.code = this.code === 'ERR_GOT_REQUEST_ERROR' ? 'ERR_READING_RESPONSE_STREAM' : this.code;\n    }\n}\n/**\nAn error which always triggers a new retry when thrown.\n*/\nclass RetryError extends RequestError {\n    constructor(request) {\n        super('Retrying', {}, request);\n        this.name = 'RetryError';\n        this.code = 'ERR_RETRYING';\n    }\n}\n/**\nAn error to be thrown when the request is aborted by AbortController.\n*/\nclass AbortError extends RequestError {\n    constructor(request) {\n        super('This operation was aborted.', {}, request);\n        this.code = 'ERR_ABORTED';\n        this.name = 'AbortError';\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2NvcmUvZXJyb3JzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBa0M7QUFDbEM7QUFDQTtBQUNBLFdBQVcsd0RBQUU7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHdEQUFFLHdCQUF3Qix3REFBRTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixvQ0FBb0MsRUFBRSxvQ0FBb0MsRUFBRSxxQ0FBcUM7QUFDN0k7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsNEJBQTRCLDhCQUE4QixxQkFBcUI7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLCtCQUErQixxQkFBcUIsR0FBRyx1QkFBdUIsTUFBTTtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsK0NBQStDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG5mbS1ib3QvLi9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2NvcmUvZXJyb3JzLmpzPzUwMWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGlzIGZyb20gJ0BzaW5kcmVzb3JodXMvaXMnO1xuLy8gQSBoYWNreSBjaGVjayB0byBwcmV2ZW50IGNpcmN1bGFyIHJlZmVyZW5jZXMuXG5mdW5jdGlvbiBpc1JlcXVlc3QoeCkge1xuICAgIHJldHVybiBpcy5vYmplY3QoeCkgJiYgJ19vblJlc3BvbnNlJyBpbiB4O1xufVxuLyoqXG5BbiBlcnJvciB0byBiZSB0aHJvd24gd2hlbiBhIHJlcXVlc3QgZmFpbHMuXG5Db250YWlucyBhIGBjb2RlYCBwcm9wZXJ0eSB3aXRoIGVycm9yIGNsYXNzIGNvZGUsIGxpa2UgYEVDT05OUkVGVVNFRGAuXG4qL1xuZXhwb3J0IGNsYXNzIFJlcXVlc3RFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBlcnJvciwgc2VsZikge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5wdXRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY29kZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdGFja1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZXNwb25zZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZXF1ZXN0XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRpbWluZ3NcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gICAgICAgIHRoaXMubmFtZSA9ICdSZXF1ZXN0RXJyb3InO1xuICAgICAgICB0aGlzLmNvZGUgPSBlcnJvci5jb2RlID8/ICdFUlJfR09UX1JFUVVFU1RfRVJST1InO1xuICAgICAgICB0aGlzLmlucHV0ID0gZXJyb3IuaW5wdXQ7XG4gICAgICAgIGlmIChpc1JlcXVlc3Qoc2VsZikpIHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncmVxdWVzdCcsIHtcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogc2VsZixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdyZXNwb25zZScsIHtcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogc2VsZi5yZXNwb25zZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gc2VsZi5vcHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gc2VsZjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRpbWluZ3MgPSB0aGlzLnJlcXVlc3Q/LnRpbWluZ3M7XG4gICAgICAgIC8vIFJlY292ZXIgdGhlIG9yaWdpbmFsIHN0YWNrdHJhY2VcbiAgICAgICAgaWYgKGlzLnN0cmluZyhlcnJvci5zdGFjaykgJiYgaXMuc3RyaW5nKHRoaXMuc3RhY2spKSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleE9mTWVzc2FnZSA9IHRoaXMuc3RhY2suaW5kZXhPZih0aGlzLm1lc3NhZ2UpICsgdGhpcy5tZXNzYWdlLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IHRoaXNTdGFja1RyYWNlID0gdGhpcy5zdGFjay5zbGljZShpbmRleE9mTWVzc2FnZSkuc3BsaXQoJ1xcbicpLnJldmVyc2UoKTtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yU3RhY2tUcmFjZSA9IGVycm9yLnN0YWNrLnNsaWNlKGVycm9yLnN0YWNrLmluZGV4T2YoZXJyb3IubWVzc2FnZSkgKyBlcnJvci5tZXNzYWdlLmxlbmd0aCkuc3BsaXQoJ1xcbicpLnJldmVyc2UoKTtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBkdXBsaWNhdGVkIHRyYWNlc1xuICAgICAgICAgICAgd2hpbGUgKGVycm9yU3RhY2tUcmFjZS5sZW5ndGggPiAwICYmIGVycm9yU3RhY2tUcmFjZVswXSA9PT0gdGhpc1N0YWNrVHJhY2VbMF0pIHtcbiAgICAgICAgICAgICAgICB0aGlzU3RhY2tUcmFjZS5zaGlmdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zdGFjayA9IGAke3RoaXMuc3RhY2suc2xpY2UoMCwgaW5kZXhPZk1lc3NhZ2UpfSR7dGhpc1N0YWNrVHJhY2UucmV2ZXJzZSgpLmpvaW4oJ1xcbicpfSR7ZXJyb3JTdGFja1RyYWNlLnJldmVyc2UoKS5qb2luKCdcXG4nKX1gO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG5BbiBlcnJvciB0byBiZSB0aHJvd24gd2hlbiB0aGUgc2VydmVyIHJlZGlyZWN0cyB5b3UgbW9yZSB0aGFuIHRlbiB0aW1lcy5cbkluY2x1ZGVzIGEgYHJlc3BvbnNlYCBwcm9wZXJ0eS5cbiovXG5leHBvcnQgY2xhc3MgTWF4UmVkaXJlY3RzRXJyb3IgZXh0ZW5kcyBSZXF1ZXN0RXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHJlcXVlc3QpIHtcbiAgICAgICAgc3VwZXIoYFJlZGlyZWN0ZWQgJHtyZXF1ZXN0Lm9wdGlvbnMubWF4UmVkaXJlY3RzfSB0aW1lcy4gQWJvcnRpbmcuYCwge30sIHJlcXVlc3QpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnTWF4UmVkaXJlY3RzRXJyb3InO1xuICAgICAgICB0aGlzLmNvZGUgPSAnRVJSX1RPT19NQU5ZX1JFRElSRUNUUyc7XG4gICAgfVxufVxuLyoqXG5BbiBlcnJvciB0byBiZSB0aHJvd24gd2hlbiB0aGUgc2VydmVyIHJlc3BvbnNlIGNvZGUgaXMgbm90IDJ4eCBub3IgM3h4IGlmIGBvcHRpb25zLmZvbGxvd1JlZGlyZWN0YCBpcyBgdHJ1ZWAsIGJ1dCBhbHdheXMgZXhjZXB0IGZvciAzMDQuXG5JbmNsdWRlcyBhIGByZXNwb25zZWAgcHJvcGVydHkuXG4qL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uYW1pbmctY29udmVudGlvblxuZXhwb3J0IGNsYXNzIEhUVFBFcnJvciBleHRlbmRzIFJlcXVlc3RFcnJvciB7XG4gICAgY29uc3RydWN0b3IocmVzcG9uc2UpIHtcbiAgICAgICAgc3VwZXIoYFJlc3BvbnNlIGNvZGUgJHtyZXNwb25zZS5zdGF0dXNDb2RlfSAoJHtyZXNwb25zZS5zdGF0dXNNZXNzYWdlfSlgLCB7fSwgcmVzcG9uc2UucmVxdWVzdCk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdIVFRQRXJyb3InO1xuICAgICAgICB0aGlzLmNvZGUgPSAnRVJSX05PTl8yWFhfM1hYX1JFU1BPTlNFJztcbiAgICB9XG59XG4vKipcbkFuIGVycm9yIHRvIGJlIHRocm93biB3aGVuIGEgY2FjaGUgbWV0aG9kIGZhaWxzLlxuRm9yIGV4YW1wbGUsIGlmIHRoZSBkYXRhYmFzZSBnb2VzIGRvd24gb3IgdGhlcmUncyBhIGZpbGVzeXN0ZW0gZXJyb3IuXG4qL1xuZXhwb3J0IGNsYXNzIENhY2hlRXJyb3IgZXh0ZW5kcyBSZXF1ZXN0RXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGVycm9yLCByZXF1ZXN0KSB7XG4gICAgICAgIHN1cGVyKGVycm9yLm1lc3NhZ2UsIGVycm9yLCByZXF1ZXN0KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0NhY2hlRXJyb3InO1xuICAgICAgICB0aGlzLmNvZGUgPSB0aGlzLmNvZGUgPT09ICdFUlJfR09UX1JFUVVFU1RfRVJST1InID8gJ0VSUl9DQUNIRV9BQ0NFU1MnIDogdGhpcy5jb2RlO1xuICAgIH1cbn1cbi8qKlxuQW4gZXJyb3IgdG8gYmUgdGhyb3duIHdoZW4gdGhlIHJlcXVlc3QgYm9keSBpcyBhIHN0cmVhbSBhbmQgYW4gZXJyb3Igb2NjdXJzIHdoaWxlIHJlYWRpbmcgZnJvbSB0aGF0IHN0cmVhbS5cbiovXG5leHBvcnQgY2xhc3MgVXBsb2FkRXJyb3IgZXh0ZW5kcyBSZXF1ZXN0RXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGVycm9yLCByZXF1ZXN0KSB7XG4gICAgICAgIHN1cGVyKGVycm9yLm1lc3NhZ2UsIGVycm9yLCByZXF1ZXN0KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ1VwbG9hZEVycm9yJztcbiAgICAgICAgdGhpcy5jb2RlID0gdGhpcy5jb2RlID09PSAnRVJSX0dPVF9SRVFVRVNUX0VSUk9SJyA/ICdFUlJfVVBMT0FEJyA6IHRoaXMuY29kZTtcbiAgICB9XG59XG4vKipcbkFuIGVycm9yIHRvIGJlIHRocm93biB3aGVuIHRoZSByZXF1ZXN0IGlzIGFib3J0ZWQgZHVlIHRvIGEgdGltZW91dC5cbkluY2x1ZGVzIGFuIGBldmVudGAgYW5kIGB0aW1pbmdzYCBwcm9wZXJ0eS5cbiovXG5leHBvcnQgY2xhc3MgVGltZW91dEVycm9yIGV4dGVuZHMgUmVxdWVzdEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihlcnJvciwgdGltaW5ncywgcmVxdWVzdCkge1xuICAgICAgICBzdXBlcihlcnJvci5tZXNzYWdlLCBlcnJvciwgcmVxdWVzdCk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRpbWluZ3NcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZXZlbnRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ1RpbWVvdXRFcnJvcic7XG4gICAgICAgIHRoaXMuZXZlbnQgPSBlcnJvci5ldmVudDtcbiAgICAgICAgdGhpcy50aW1pbmdzID0gdGltaW5ncztcbiAgICB9XG59XG4vKipcbkFuIGVycm9yIHRvIGJlIHRocm93biB3aGVuIHJlYWRpbmcgZnJvbSByZXNwb25zZSBzdHJlYW0gZmFpbHMuXG4qL1xuZXhwb3J0IGNsYXNzIFJlYWRFcnJvciBleHRlbmRzIFJlcXVlc3RFcnJvciB7XG4gICAgY29uc3RydWN0b3IoZXJyb3IsIHJlcXVlc3QpIHtcbiAgICAgICAgc3VwZXIoZXJyb3IubWVzc2FnZSwgZXJyb3IsIHJlcXVlc3QpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnUmVhZEVycm9yJztcbiAgICAgICAgdGhpcy5jb2RlID0gdGhpcy5jb2RlID09PSAnRVJSX0dPVF9SRVFVRVNUX0VSUk9SJyA/ICdFUlJfUkVBRElOR19SRVNQT05TRV9TVFJFQU0nIDogdGhpcy5jb2RlO1xuICAgIH1cbn1cbi8qKlxuQW4gZXJyb3Igd2hpY2ggYWx3YXlzIHRyaWdnZXJzIGEgbmV3IHJldHJ5IHdoZW4gdGhyb3duLlxuKi9cbmV4cG9ydCBjbGFzcyBSZXRyeUVycm9yIGV4dGVuZHMgUmVxdWVzdEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihyZXF1ZXN0KSB7XG4gICAgICAgIHN1cGVyKCdSZXRyeWluZycsIHt9LCByZXF1ZXN0KTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ1JldHJ5RXJyb3InO1xuICAgICAgICB0aGlzLmNvZGUgPSAnRVJSX1JFVFJZSU5HJztcbiAgICB9XG59XG4vKipcbkFuIGVycm9yIHRvIGJlIHRocm93biB3aGVuIHRoZSByZXF1ZXN0IGlzIGFib3J0ZWQgYnkgQWJvcnRDb250cm9sbGVyLlxuKi9cbmV4cG9ydCBjbGFzcyBBYm9ydEVycm9yIGV4dGVuZHMgUmVxdWVzdEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihyZXF1ZXN0KSB7XG4gICAgICAgIHN1cGVyKCdUaGlzIG9wZXJhdGlvbiB3YXMgYWJvcnRlZC4nLCB7fSwgcmVxdWVzdCk7XG4gICAgICAgIHRoaXMuY29kZSA9ICdFUlJfQUJPUlRFRCc7XG4gICAgICAgIHRoaXMubmFtZSA9ICdBYm9ydEVycm9yJztcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/got/dist/source/core/errors.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/got/dist/source/core/index.js":
/*!****************************************************!*\
  !*** ./node_modules/got/dist/source/core/index.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Request)\n/* harmony export */ });\n/* harmony import */ var node_process__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node:process */ \"node:process\");\n/* harmony import */ var node_buffer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! node:buffer */ \"node:buffer\");\n/* harmony import */ var node_stream__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! node:stream */ \"node:stream\");\n/* harmony import */ var node_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! node:http */ \"node:http\");\n/* harmony import */ var _szmarczak_http_timer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @szmarczak/http-timer */ \"(rsc)/./node_modules/@szmarczak/http-timer/dist/source/index.js\");\n/* harmony import */ var cacheable_request__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! cacheable-request */ \"(rsc)/./node_modules/cacheable-request/dist/index.js\");\n/* harmony import */ var decompress_response__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! decompress-response */ \"(rsc)/./node_modules/decompress-response/index.js\");\n/* harmony import */ var _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sindresorhus/is */ \"(rsc)/./node_modules/@sindresorhus/is/dist/index.js\");\n/* harmony import */ var get_stream__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! get-stream */ \"(rsc)/./node_modules/get-stream/index.js\");\n/* harmony import */ var form_data_encoder__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! form-data-encoder */ \"(rsc)/./node_modules/form-data-encoder/lib/util/isFormData.js\");\n/* harmony import */ var form_data_encoder__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! form-data-encoder */ \"(rsc)/./node_modules/form-data-encoder/lib/FormDataEncoder.js\");\n/* harmony import */ var _utils_get_body_size_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./utils/get-body-size.js */ \"(rsc)/./node_modules/got/dist/source/core/utils/get-body-size.js\");\n/* harmony import */ var _utils_is_form_data_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./utils/is-form-data.js */ \"(rsc)/./node_modules/got/dist/source/core/utils/is-form-data.js\");\n/* harmony import */ var _utils_proxy_events_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./utils/proxy-events.js */ \"(rsc)/./node_modules/got/dist/source/core/utils/proxy-events.js\");\n/* harmony import */ var _timed_out_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./timed-out.js */ \"(rsc)/./node_modules/got/dist/source/core/timed-out.js\");\n/* harmony import */ var _utils_url_to_options_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./utils/url-to-options.js */ \"(rsc)/./node_modules/got/dist/source/core/utils/url-to-options.js\");\n/* harmony import */ var _utils_weakable_map_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils/weakable-map.js */ \"(rsc)/./node_modules/got/dist/source/core/utils/weakable-map.js\");\n/* harmony import */ var _calculate_retry_delay_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./calculate-retry-delay.js */ \"(rsc)/./node_modules/got/dist/source/core/calculate-retry-delay.js\");\n/* harmony import */ var _options_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./options.js */ \"(rsc)/./node_modules/got/dist/source/core/options.js\");\n/* harmony import */ var _response_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./response.js */ \"(rsc)/./node_modules/got/dist/source/core/response.js\");\n/* harmony import */ var _utils_is_client_request_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./utils/is-client-request.js */ \"(rsc)/./node_modules/got/dist/source/core/utils/is-client-request.js\");\n/* harmony import */ var _utils_is_unix_socket_url_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./utils/is-unix-socket-url.js */ \"(rsc)/./node_modules/got/dist/source/core/utils/is-unix-socket-url.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./errors.js */ \"(rsc)/./node_modules/got/dist/source/core/errors.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst { buffer: getStreamAsBuffer } = get_stream__WEBPACK_IMPORTED_MODULE_7__;\nconst supportsBrotli = _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].string(node_process__WEBPACK_IMPORTED_MODULE_0__.versions.brotli);\nconst methodsWithoutBody = new Set(['GET', 'HEAD']);\nconst cacheableStore = new _utils_weakable_map_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"]();\nconst redirectCodes = new Set([300, 301, 302, 303, 304, 307, 308]);\nconst proxiedRequestEvents = [\n    'socket',\n    'connect',\n    'continue',\n    'information',\n    'upgrade',\n];\nconst noop = () => { };\nclass Request extends node_stream__WEBPACK_IMPORTED_MODULE_2__.Duplex {\n    constructor(url, options, defaults) {\n        super({\n            // Don't destroy immediately, as the error may be emitted on unsuccessful retry\n            autoDestroy: false,\n            // It needs to be zero because we're just proxying the data to another stream\n            highWaterMark: 0,\n        });\n        // @ts-expect-error - Ignoring for now.\n        Object.defineProperty(this, 'constructor', {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_noPipe\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        // @ts-expect-error https://github.com/microsoft/TypeScript/issues/9568\n        Object.defineProperty(this, \"options\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"response\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"requestUrl\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"redirectUrls\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"retryCount\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_stopRetry\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_downloadedSize\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_uploadedSize\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_stopReading\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_pipedServerResponses\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_request\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_responseSize\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_bodySize\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_unproxyEvents\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_isFromCache\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_cannotHaveBody\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_triggerRead\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_cancelTimeouts\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_removeListeners\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_nativeResponse\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_flushed\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_aborted\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        // We need this because `this._request` if `undefined` when using cache\n        Object.defineProperty(this, \"_requestInitialized\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this._downloadedSize = 0;\n        this._uploadedSize = 0;\n        this._stopReading = false;\n        this._pipedServerResponses = new Set();\n        this._cannotHaveBody = false;\n        this._unproxyEvents = noop;\n        this._triggerRead = false;\n        this._cancelTimeouts = noop;\n        this._removeListeners = noop;\n        this._jobs = [];\n        this._flushed = false;\n        this._requestInitialized = false;\n        this._aborted = false;\n        this.redirectUrls = [];\n        this.retryCount = 0;\n        this._stopRetry = noop;\n        this.on('pipe', (source) => {\n            if (source?.headers) {\n                Object.assign(this.options.headers, source.headers);\n            }\n        });\n        this.on('newListener', event => {\n            if (event === 'retry' && this.listenerCount('retry') > 0) {\n                throw new Error('A retry listener has been attached already.');\n            }\n        });\n        try {\n            this.options = new _options_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"](url, options, defaults);\n            if (!this.options.url) {\n                if (this.options.prefixUrl === '') {\n                    throw new TypeError('Missing `url` property');\n                }\n                this.options.url = '';\n            }\n            this.requestUrl = this.options.url;\n        }\n        catch (error) {\n            const { options } = error;\n            if (options) {\n                this.options = options;\n            }\n            this.flush = async () => {\n                this.flush = async () => { };\n                this.destroy(error);\n            };\n            return;\n        }\n        // Important! If you replace `body` in a handler with another stream, make sure it's readable first.\n        // The below is run only once.\n        const { body } = this.options;\n        if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].nodeStream(body)) {\n            body.once('error', error => {\n                if (this._flushed) {\n                    this._beforeError(new _errors_js__WEBPACK_IMPORTED_MODULE_11__.UploadError(error, this));\n                }\n                else {\n                    this.flush = async () => {\n                        this.flush = async () => { };\n                        this._beforeError(new _errors_js__WEBPACK_IMPORTED_MODULE_11__.UploadError(error, this));\n                    };\n                }\n            });\n        }\n        if (this.options.signal) {\n            const abort = () => {\n                this.destroy(new _errors_js__WEBPACK_IMPORTED_MODULE_11__.AbortError(this));\n            };\n            if (this.options.signal.aborted) {\n                abort();\n            }\n            else {\n                this.options.signal.addEventListener('abort', abort);\n                this._removeListeners = () => {\n                    this.options.signal?.removeEventListener('abort', abort);\n                };\n            }\n        }\n    }\n    async flush() {\n        if (this._flushed) {\n            return;\n        }\n        this._flushed = true;\n        try {\n            await this._finalizeBody();\n            if (this.destroyed) {\n                return;\n            }\n            await this._makeRequest();\n            if (this.destroyed) {\n                this._request?.destroy();\n                return;\n            }\n            // Queued writes etc.\n            for (const job of this._jobs) {\n                job();\n            }\n            // Prevent memory leak\n            this._jobs.length = 0;\n            this._requestInitialized = true;\n        }\n        catch (error) {\n            this._beforeError(error);\n        }\n    }\n    _beforeError(error) {\n        if (this._stopReading) {\n            return;\n        }\n        const { response, options } = this;\n        const attemptCount = this.retryCount + (error.name === 'RetryError' ? 0 : 1);\n        this._stopReading = true;\n        if (!(error instanceof _errors_js__WEBPACK_IMPORTED_MODULE_11__.RequestError)) {\n            error = new _errors_js__WEBPACK_IMPORTED_MODULE_11__.RequestError(error.message, error, this);\n        }\n        const typedError = error;\n        void (async () => {\n            // Node.js parser is really weird.\n            // It emits post-request Parse Errors on the same instance as previous request. WTF.\n            // Therefore we need to check if it has been destroyed as well.\n            //\n            // Furthermore, Node.js 16 `response.destroy()` doesn't immediately destroy the socket,\n            // but makes the response unreadable. So we additionally need to check `response.readable`.\n            if (response?.readable && !response.rawBody && !this._request?.socket?.destroyed) {\n                // @types/node has incorrect typings. `setEncoding` accepts `null` as well.\n                response.setEncoding(this.readableEncoding);\n                const success = await this._setRawBody(response);\n                if (success) {\n                    response.body = response.rawBody.toString();\n                }\n            }\n            if (this.listenerCount('retry') !== 0) {\n                let backoff;\n                try {\n                    let retryAfter;\n                    if (response && 'retry-after' in response.headers) {\n                        retryAfter = Number(response.headers['retry-after']);\n                        if (Number.isNaN(retryAfter)) {\n                            retryAfter = Date.parse(response.headers['retry-after']) - Date.now();\n                            if (retryAfter <= 0) {\n                                retryAfter = 1;\n                            }\n                        }\n                        else {\n                            retryAfter *= 1000;\n                        }\n                    }\n                    const retryOptions = options.retry;\n                    backoff = await retryOptions.calculateDelay({\n                        attemptCount,\n                        retryOptions,\n                        error: typedError,\n                        retryAfter,\n                        computedValue: (0,_calculate_retry_delay_js__WEBPACK_IMPORTED_MODULE_12__[\"default\"])({\n                            attemptCount,\n                            retryOptions,\n                            error: typedError,\n                            retryAfter,\n                            computedValue: retryOptions.maxRetryAfter ?? options.timeout.request ?? Number.POSITIVE_INFINITY,\n                        }),\n                    });\n                }\n                catch (error_) {\n                    void this._error(new _errors_js__WEBPACK_IMPORTED_MODULE_11__.RequestError(error_.message, error_, this));\n                    return;\n                }\n                if (backoff) {\n                    await new Promise(resolve => {\n                        const timeout = setTimeout(resolve, backoff);\n                        this._stopRetry = () => {\n                            clearTimeout(timeout);\n                            resolve();\n                        };\n                    });\n                    // Something forced us to abort the retry\n                    if (this.destroyed) {\n                        return;\n                    }\n                    try {\n                        for (const hook of this.options.hooks.beforeRetry) {\n                            // eslint-disable-next-line no-await-in-loop\n                            await hook(typedError, this.retryCount + 1);\n                        }\n                    }\n                    catch (error_) {\n                        void this._error(new _errors_js__WEBPACK_IMPORTED_MODULE_11__.RequestError(error_.message, error, this));\n                        return;\n                    }\n                    // Something forced us to abort the retry\n                    if (this.destroyed) {\n                        return;\n                    }\n                    this.destroy();\n                    this.emit('retry', this.retryCount + 1, error, (updatedOptions) => {\n                        const request = new Request(options.url, updatedOptions, options);\n                        request.retryCount = this.retryCount + 1;\n                        node_process__WEBPACK_IMPORTED_MODULE_0__.nextTick(() => {\n                            void request.flush();\n                        });\n                        return request;\n                    });\n                    return;\n                }\n            }\n            void this._error(typedError);\n        })();\n    }\n    _read() {\n        this._triggerRead = true;\n        const { response } = this;\n        if (response && !this._stopReading) {\n            // We cannot put this in the `if` above\n            // because `.read()` also triggers the `end` event\n            if (response.readableLength) {\n                this._triggerRead = false;\n            }\n            let data;\n            while ((data = response.read()) !== null) {\n                this._downloadedSize += data.length; // eslint-disable-line @typescript-eslint/restrict-plus-operands\n                const progress = this.downloadProgress;\n                if (progress.percent < 1) {\n                    this.emit('downloadProgress', progress);\n                }\n                this.push(data);\n            }\n        }\n    }\n    _write(chunk, encoding, callback) {\n        const write = () => {\n            this._writeRequest(chunk, encoding, callback);\n        };\n        if (this._requestInitialized) {\n            write();\n        }\n        else {\n            this._jobs.push(write);\n        }\n    }\n    _final(callback) {\n        const endRequest = () => {\n            // We need to check if `this._request` is present,\n            // because it isn't when we use cache.\n            if (!this._request || this._request.destroyed) {\n                callback();\n                return;\n            }\n            this._request.end((error) => {\n                // The request has been destroyed before `_final` finished.\n                // See https://github.com/nodejs/node/issues/39356\n                if (this._request._writableState?.errored) {\n                    return;\n                }\n                if (!error) {\n                    this._bodySize = this._uploadedSize;\n                    this.emit('uploadProgress', this.uploadProgress);\n                    this._request.emit('upload-complete');\n                }\n                callback(error);\n            });\n        };\n        if (this._requestInitialized) {\n            endRequest();\n        }\n        else {\n            this._jobs.push(endRequest);\n        }\n    }\n    _destroy(error, callback) {\n        this._stopReading = true;\n        this.flush = async () => { };\n        // Prevent further retries\n        this._stopRetry();\n        this._cancelTimeouts();\n        this._removeListeners();\n        if (this.options) {\n            const { body } = this.options;\n            if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].nodeStream(body)) {\n                body.destroy();\n            }\n        }\n        if (this._request) {\n            this._request.destroy();\n        }\n        if (error !== null && !_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined(error) && !(error instanceof _errors_js__WEBPACK_IMPORTED_MODULE_11__.RequestError)) {\n            error = new _errors_js__WEBPACK_IMPORTED_MODULE_11__.RequestError(error.message, error, this);\n        }\n        callback(error);\n    }\n    pipe(destination, options) {\n        if (destination instanceof node_http__WEBPACK_IMPORTED_MODULE_3__.ServerResponse) {\n            this._pipedServerResponses.add(destination);\n        }\n        return super.pipe(destination, options);\n    }\n    unpipe(destination) {\n        if (destination instanceof node_http__WEBPACK_IMPORTED_MODULE_3__.ServerResponse) {\n            this._pipedServerResponses.delete(destination);\n        }\n        super.unpipe(destination);\n        return this;\n    }\n    async _finalizeBody() {\n        const { options } = this;\n        const { headers } = options;\n        const isForm = !_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined(options.form);\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        const isJSON = !_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined(options.json);\n        const isBody = !_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined(options.body);\n        const cannotHaveBody = methodsWithoutBody.has(options.method) && !(options.method === 'GET' && options.allowGetBody);\n        this._cannotHaveBody = cannotHaveBody;\n        if (isForm || isJSON || isBody) {\n            if (cannotHaveBody) {\n                throw new TypeError(`The \\`${options.method}\\` method cannot be used with a body`);\n            }\n            // Serialize body\n            const noContentType = !_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].string(headers['content-type']);\n            if (isBody) {\n                // Body is spec-compliant FormData\n                if ((0,form_data_encoder__WEBPACK_IMPORTED_MODULE_13__.isFormData)(options.body)) {\n                    const encoder = new form_data_encoder__WEBPACK_IMPORTED_MODULE_14__.FormDataEncoder(options.body);\n                    if (noContentType) {\n                        headers['content-type'] = encoder.headers['Content-Type'];\n                    }\n                    if ('Content-Length' in encoder.headers) {\n                        headers['content-length'] = encoder.headers['Content-Length'];\n                    }\n                    options.body = encoder.encode();\n                }\n                // Special case for https://github.com/form-data/form-data\n                if ((0,_utils_is_form_data_js__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(options.body) && noContentType) {\n                    headers['content-type'] = `multipart/form-data; boundary=${options.body.getBoundary()}`;\n                }\n            }\n            else if (isForm) {\n                if (noContentType) {\n                    headers['content-type'] = 'application/x-www-form-urlencoded';\n                }\n                const { form } = options;\n                options.form = undefined;\n                options.body = (new URLSearchParams(form)).toString();\n            }\n            else {\n                if (noContentType) {\n                    headers['content-type'] = 'application/json';\n                }\n                const { json } = options;\n                options.json = undefined;\n                options.body = options.stringifyJson(json);\n            }\n            const uploadBodySize = await (0,_utils_get_body_size_js__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(options.body, options.headers);\n            // See https://tools.ietf.org/html/rfc7230#section-3.3.2\n            // A user agent SHOULD send a Content-Length in a request message when\n            // no Transfer-Encoding is sent and the request method defines a meaning\n            // for an enclosed payload body.  For example, a Content-Length header\n            // field is normally sent in a POST request even when the value is 0\n            // (indicating an empty payload body).  A user agent SHOULD NOT send a\n            // Content-Length header field when the request message does not contain\n            // a payload body and the method semantics do not anticipate such a\n            // body.\n            if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined(headers['content-length']) && _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined(headers['transfer-encoding']) && !cannotHaveBody && !_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined(uploadBodySize)) {\n                headers['content-length'] = String(uploadBodySize);\n            }\n        }\n        if (options.responseType === 'json' && !('accept' in options.headers)) {\n            options.headers.accept = 'application/json';\n        }\n        this._bodySize = Number(headers['content-length']) || undefined;\n    }\n    async _onResponseBase(response) {\n        // This will be called e.g. when using cache so we need to check if this request has been aborted.\n        if (this.isAborted) {\n            return;\n        }\n        const { options } = this;\n        const { url } = options;\n        this._nativeResponse = response;\n        if (options.decompress) {\n            response = decompress_response__WEBPACK_IMPORTED_MODULE_6__(response);\n        }\n        const statusCode = response.statusCode;\n        const typedResponse = response;\n        typedResponse.statusMessage = typedResponse.statusMessage ?? node_http__WEBPACK_IMPORTED_MODULE_3__.STATUS_CODES[statusCode];\n        typedResponse.url = options.url.toString();\n        typedResponse.requestUrl = this.requestUrl;\n        typedResponse.redirectUrls = this.redirectUrls;\n        typedResponse.request = this;\n        typedResponse.isFromCache = this._nativeResponse.fromCache ?? false;\n        typedResponse.ip = this.ip;\n        typedResponse.retryCount = this.retryCount;\n        typedResponse.ok = (0,_response_js__WEBPACK_IMPORTED_MODULE_17__.isResponseOk)(typedResponse);\n        this._isFromCache = typedResponse.isFromCache;\n        this._responseSize = Number(response.headers['content-length']) || undefined;\n        this.response = typedResponse;\n        response.once('end', () => {\n            this._responseSize = this._downloadedSize;\n            this.emit('downloadProgress', this.downloadProgress);\n        });\n        response.once('error', (error) => {\n            this._aborted = true;\n            // Force clean-up, because some packages don't do this.\n            // TODO: Fix decompress-response\n            response.destroy();\n            this._beforeError(new _errors_js__WEBPACK_IMPORTED_MODULE_11__.ReadError(error, this));\n        });\n        response.once('aborted', () => {\n            this._aborted = true;\n            this._beforeError(new _errors_js__WEBPACK_IMPORTED_MODULE_11__.ReadError({\n                name: 'Error',\n                message: 'The server aborted pending request',\n                code: 'ECONNRESET',\n            }, this));\n        });\n        this.emit('downloadProgress', this.downloadProgress);\n        const rawCookies = response.headers['set-cookie'];\n        if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].object(options.cookieJar) && rawCookies) {\n            let promises = rawCookies.map(async (rawCookie) => options.cookieJar.setCookie(rawCookie, url.toString()));\n            if (options.ignoreInvalidCookies) {\n                promises = promises.map(async (promise) => {\n                    try {\n                        await promise;\n                    }\n                    catch { }\n                });\n            }\n            try {\n                await Promise.all(promises);\n            }\n            catch (error) {\n                this._beforeError(error);\n                return;\n            }\n        }\n        // The above is running a promise, therefore we need to check if this request has been aborted yet again.\n        if (this.isAborted) {\n            return;\n        }\n        if (options.followRedirect && response.headers.location && redirectCodes.has(statusCode)) {\n            // We're being redirected, we don't care about the response.\n            // It'd be best to abort the request, but we can't because\n            // we would have to sacrifice the TCP connection. We don't want that.\n            response.resume();\n            this._cancelTimeouts();\n            this._unproxyEvents();\n            if (this.redirectUrls.length >= options.maxRedirects) {\n                this._beforeError(new _errors_js__WEBPACK_IMPORTED_MODULE_11__.MaxRedirectsError(this));\n                return;\n            }\n            this._request = undefined;\n            const updatedOptions = new _options_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"](undefined, undefined, this.options);\n            const serverRequestedGet = statusCode === 303 && updatedOptions.method !== 'GET' && updatedOptions.method !== 'HEAD';\n            const canRewrite = statusCode !== 307 && statusCode !== 308;\n            const userRequestedGet = updatedOptions.methodRewriting && canRewrite;\n            if (serverRequestedGet || userRequestedGet) {\n                updatedOptions.method = 'GET';\n                updatedOptions.body = undefined;\n                updatedOptions.json = undefined;\n                updatedOptions.form = undefined;\n                delete updatedOptions.headers['content-length'];\n            }\n            try {\n                // We need this in order to support UTF-8\n                const redirectBuffer = node_buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.from(response.headers.location, 'binary').toString();\n                const redirectUrl = new URL(redirectBuffer, url);\n                if (!(0,_utils_is_unix_socket_url_js__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(url) && (0,_utils_is_unix_socket_url_js__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(redirectUrl)) {\n                    this._beforeError(new _errors_js__WEBPACK_IMPORTED_MODULE_11__.RequestError('Cannot redirect to UNIX socket', {}, this));\n                    return;\n                }\n                // Redirecting to a different site, clear sensitive data.\n                if (redirectUrl.hostname !== url.hostname || redirectUrl.port !== url.port) {\n                    if ('host' in updatedOptions.headers) {\n                        delete updatedOptions.headers.host;\n                    }\n                    if ('cookie' in updatedOptions.headers) {\n                        delete updatedOptions.headers.cookie;\n                    }\n                    if ('authorization' in updatedOptions.headers) {\n                        delete updatedOptions.headers.authorization;\n                    }\n                    if (updatedOptions.username || updatedOptions.password) {\n                        updatedOptions.username = '';\n                        updatedOptions.password = '';\n                    }\n                }\n                else {\n                    redirectUrl.username = updatedOptions.username;\n                    redirectUrl.password = updatedOptions.password;\n                }\n                this.redirectUrls.push(redirectUrl);\n                updatedOptions.prefixUrl = '';\n                updatedOptions.url = redirectUrl;\n                for (const hook of updatedOptions.hooks.beforeRedirect) {\n                    // eslint-disable-next-line no-await-in-loop\n                    await hook(updatedOptions, typedResponse);\n                }\n                this.emit('redirect', updatedOptions, typedResponse);\n                this.options = updatedOptions;\n                await this._makeRequest();\n            }\n            catch (error) {\n                this._beforeError(error);\n                return;\n            }\n            return;\n        }\n        // `HTTPError`s always have `error.response.body` defined.\n        // Therefore we cannot retry if `options.throwHttpErrors` is false.\n        // On the last retry, if `options.throwHttpErrors` is false, we would need to return the body,\n        // but that wouldn't be possible since the body would be already read in `error.response.body`.\n        if (options.isStream && options.throwHttpErrors && !(0,_response_js__WEBPACK_IMPORTED_MODULE_17__.isResponseOk)(typedResponse)) {\n            this._beforeError(new _errors_js__WEBPACK_IMPORTED_MODULE_11__.HTTPError(typedResponse));\n            return;\n        }\n        response.on('readable', () => {\n            if (this._triggerRead) {\n                this._read();\n            }\n        });\n        this.on('resume', () => {\n            response.resume();\n        });\n        this.on('pause', () => {\n            response.pause();\n        });\n        response.once('end', () => {\n            this.push(null);\n        });\n        if (this._noPipe) {\n            const success = await this._setRawBody();\n            if (success) {\n                this.emit('response', response);\n            }\n            return;\n        }\n        this.emit('response', response);\n        for (const destination of this._pipedServerResponses) {\n            if (destination.headersSent) {\n                continue;\n            }\n            // eslint-disable-next-line guard-for-in\n            for (const key in response.headers) {\n                const isAllowed = options.decompress ? key !== 'content-encoding' : true;\n                const value = response.headers[key];\n                if (isAllowed) {\n                    destination.setHeader(key, value);\n                }\n            }\n            destination.statusCode = statusCode;\n        }\n    }\n    async _setRawBody(from = this) {\n        if (from.readableEnded) {\n            return false;\n        }\n        try {\n            // Errors are emitted via the `error` event\n            const rawBody = await getStreamAsBuffer(from);\n            // TODO: Switch to this:\n            // let rawBody = await from.toArray();\n            // rawBody = Buffer.concat(rawBody);\n            // On retry Request is destroyed with no error, therefore the above will successfully resolve.\n            // So in order to check if this was really successfull, we need to check if it has been properly ended.\n            if (!this.isAborted) {\n                this.response.rawBody = rawBody;\n                return true;\n            }\n        }\n        catch { }\n        return false;\n    }\n    async _onResponse(response) {\n        try {\n            await this._onResponseBase(response);\n        }\n        catch (error) {\n            /* istanbul ignore next: better safe than sorry */\n            this._beforeError(error);\n        }\n    }\n    _onRequest(request) {\n        const { options } = this;\n        const { timeout, url } = options;\n        (0,_szmarczak_http_timer__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(request);\n        if (this.options.http2) {\n            // Unset stream timeout, as the `timeout` option was used only for connection timeout.\n            request.setTimeout(0);\n        }\n        this._cancelTimeouts = (0,_timed_out_js__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(request, timeout, url);\n        const responseEventName = options.cache ? 'cacheableResponse' : 'response';\n        request.once(responseEventName, (response) => {\n            void this._onResponse(response);\n        });\n        request.once('error', (error) => {\n            this._aborted = true;\n            // Force clean-up, because some packages (e.g. nock) don't do this.\n            request.destroy();\n            error = error instanceof _timed_out_js__WEBPACK_IMPORTED_MODULE_19__.TimeoutError ? new _errors_js__WEBPACK_IMPORTED_MODULE_11__.TimeoutError(error, this.timings, this) : new _errors_js__WEBPACK_IMPORTED_MODULE_11__.RequestError(error.message, error, this);\n            this._beforeError(error);\n        });\n        this._unproxyEvents = (0,_utils_proxy_events_js__WEBPACK_IMPORTED_MODULE_20__[\"default\"])(request, this, proxiedRequestEvents);\n        this._request = request;\n        this.emit('uploadProgress', this.uploadProgress);\n        this._sendBody();\n        this.emit('request', request);\n    }\n    async _asyncWrite(chunk) {\n        return new Promise((resolve, reject) => {\n            super.write(chunk, error => {\n                if (error) {\n                    reject(error);\n                    return;\n                }\n                resolve();\n            });\n        });\n    }\n    _sendBody() {\n        // Send body\n        const { body } = this.options;\n        const currentRequest = this.redirectUrls.length === 0 ? this : this._request ?? this;\n        if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].nodeStream(body)) {\n            body.pipe(currentRequest);\n        }\n        else if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].generator(body) || _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].asyncGenerator(body)) {\n            (async () => {\n                try {\n                    for await (const chunk of body) {\n                        await this._asyncWrite(chunk);\n                    }\n                    super.end();\n                }\n                catch (error) {\n                    this._beforeError(error);\n                }\n            })();\n        }\n        else if (!_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined(body)) {\n            this._writeRequest(body, undefined, () => { });\n            currentRequest.end();\n        }\n        else if (this._cannotHaveBody || this._noPipe) {\n            currentRequest.end();\n        }\n    }\n    _prepareCache(cache) {\n        if (!cacheableStore.has(cache)) {\n            const cacheableRequest = new cacheable_request__WEBPACK_IMPORTED_MODULE_5__[\"default\"](((requestOptions, handler) => {\n                const result = requestOptions._request(requestOptions, handler);\n                // TODO: remove this when `cacheable-request` supports async request functions.\n                if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].promise(result)) {\n                    // We only need to implement the error handler in order to support HTTP2 caching.\n                    // The result will be a promise anyway.\n                    // @ts-expect-error ignore\n                    result.once = (event, handler) => {\n                        if (event === 'error') {\n                            (async () => {\n                                try {\n                                    await result;\n                                }\n                                catch (error) {\n                                    handler(error);\n                                }\n                            })();\n                        }\n                        else if (event === 'abort') {\n                            // The empty catch is needed here in case when\n                            // it rejects before it's `await`ed in `_makeRequest`.\n                            (async () => {\n                                try {\n                                    const request = (await result);\n                                    request.once('abort', handler);\n                                }\n                                catch { }\n                            })();\n                        }\n                        else {\n                            /* istanbul ignore next: safety check */\n                            throw new Error(`Unknown HTTP2 promise event: ${event}`);\n                        }\n                        return result;\n                    };\n                }\n                return result;\n            }), cache);\n            cacheableStore.set(cache, cacheableRequest.request());\n        }\n    }\n    async _createCacheableRequest(url, options) {\n        return new Promise((resolve, reject) => {\n            // TODO: Remove `utils/url-to-options.ts` when `cacheable-request` is fixed\n            Object.assign(options, (0,_utils_url_to_options_js__WEBPACK_IMPORTED_MODULE_21__[\"default\"])(url));\n            let request;\n            // TODO: Fix `cacheable-response`. This is ugly.\n            const cacheRequest = cacheableStore.get(options.cache)(options, async (response) => {\n                response._readableState.autoDestroy = false;\n                if (request) {\n                    const fix = () => {\n                        if (response.req) {\n                            response.complete = response.req.res.complete;\n                        }\n                    };\n                    response.prependOnceListener('end', fix);\n                    fix();\n                    (await request).emit('cacheableResponse', response);\n                }\n                resolve(response);\n            });\n            cacheRequest.once('error', reject);\n            cacheRequest.once('request', async (requestOrPromise) => {\n                request = requestOrPromise;\n                resolve(request);\n            });\n        });\n    }\n    async _makeRequest() {\n        const { options } = this;\n        const { headers, username, password } = options;\n        const cookieJar = options.cookieJar;\n        for (const key in headers) {\n            if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined(headers[key])) {\n                // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n                delete headers[key];\n            }\n            else if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].null_(headers[key])) {\n                throw new TypeError(`Use \\`undefined\\` instead of \\`null\\` to delete the \\`${key}\\` header`);\n            }\n        }\n        if (options.decompress && _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined(headers['accept-encoding'])) {\n            headers['accept-encoding'] = supportsBrotli ? 'gzip, deflate, br' : 'gzip, deflate';\n        }\n        if (username || password) {\n            const credentials = node_buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.from(`${username}:${password}`).toString('base64');\n            headers.authorization = `Basic ${credentials}`;\n        }\n        // Set cookies\n        if (cookieJar) {\n            const cookieString = await cookieJar.getCookieString(options.url.toString());\n            if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].nonEmptyString(cookieString)) {\n                headers.cookie = cookieString;\n            }\n        }\n        // Reset `prefixUrl`\n        options.prefixUrl = '';\n        let request;\n        for (const hook of options.hooks.beforeRequest) {\n            // eslint-disable-next-line no-await-in-loop\n            const result = await hook(options);\n            if (!_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined(result)) {\n                // @ts-expect-error Skip the type mismatch to support abstract responses\n                request = () => result;\n                break;\n            }\n        }\n        if (!request) {\n            request = options.getRequestFunction();\n        }\n        const url = options.url;\n        this._requestOptions = options.createNativeRequestOptions();\n        if (options.cache) {\n            this._requestOptions._request = request;\n            this._requestOptions.cache = options.cache;\n            this._requestOptions.body = options.body;\n            this._prepareCache(options.cache);\n        }\n        // Cache support\n        const fn = options.cache ? this._createCacheableRequest : request;\n        try {\n            // We can't do `await fn(...)`,\n            // because stream `error` event can be emitted before `Promise.resolve()`.\n            let requestOrResponse = fn(url, this._requestOptions);\n            if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].promise(requestOrResponse)) {\n                requestOrResponse = await requestOrResponse;\n            }\n            // Fallback\n            if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined(requestOrResponse)) {\n                requestOrResponse = options.getFallbackRequestFunction()(url, this._requestOptions);\n                if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].promise(requestOrResponse)) {\n                    requestOrResponse = await requestOrResponse;\n                }\n            }\n            if ((0,_utils_is_client_request_js__WEBPACK_IMPORTED_MODULE_22__[\"default\"])(requestOrResponse)) {\n                this._onRequest(requestOrResponse);\n            }\n            else if (this.writable) {\n                this.once('finish', () => {\n                    void this._onResponse(requestOrResponse);\n                });\n                this._sendBody();\n            }\n            else {\n                void this._onResponse(requestOrResponse);\n            }\n        }\n        catch (error) {\n            if (error instanceof cacheable_request__WEBPACK_IMPORTED_MODULE_5__.CacheError) {\n                throw new _errors_js__WEBPACK_IMPORTED_MODULE_11__.CacheError(error, this);\n            }\n            throw error;\n        }\n    }\n    async _error(error) {\n        try {\n            if (error instanceof _errors_js__WEBPACK_IMPORTED_MODULE_11__.HTTPError && !this.options.throwHttpErrors) {\n                // This branch can be reached only when using the Promise API\n                // Skip calling the hooks on purpose.\n                // See https://github.com/sindresorhus/got/issues/2103\n            }\n            else {\n                for (const hook of this.options.hooks.beforeError) {\n                    // eslint-disable-next-line no-await-in-loop\n                    error = await hook(error);\n                }\n            }\n        }\n        catch (error_) {\n            error = new _errors_js__WEBPACK_IMPORTED_MODULE_11__.RequestError(error_.message, error_, this);\n        }\n        this.destroy(error);\n    }\n    _writeRequest(chunk, encoding, callback) {\n        if (!this._request || this._request.destroyed) {\n            // Probably the `ClientRequest` instance will throw\n            return;\n        }\n        this._request.write(chunk, encoding, (error) => {\n            // The `!destroyed` check is required to prevent `uploadProgress` being emitted after the stream was destroyed\n            if (!error && !this._request.destroyed) {\n                this._uploadedSize += node_buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.byteLength(chunk, encoding);\n                const progress = this.uploadProgress;\n                if (progress.percent < 1) {\n                    this.emit('uploadProgress', progress);\n                }\n            }\n            callback(error);\n        });\n    }\n    /**\n    The remote IP address.\n    */\n    get ip() {\n        return this.socket?.remoteAddress;\n    }\n    /**\n    Indicates whether the request has been aborted or not.\n    */\n    get isAborted() {\n        return this._aborted;\n    }\n    get socket() {\n        return this._request?.socket ?? undefined;\n    }\n    /**\n    Progress event for downloading (receiving a response).\n    */\n    get downloadProgress() {\n        let percent;\n        if (this._responseSize) {\n            percent = this._downloadedSize / this._responseSize;\n        }\n        else if (this._responseSize === this._downloadedSize) {\n            percent = 1;\n        }\n        else {\n            percent = 0;\n        }\n        return {\n            percent,\n            transferred: this._downloadedSize,\n            total: this._responseSize,\n        };\n    }\n    /**\n    Progress event for uploading (sending a request).\n    */\n    get uploadProgress() {\n        let percent;\n        if (this._bodySize) {\n            percent = this._uploadedSize / this._bodySize;\n        }\n        else if (this._bodySize === this._uploadedSize) {\n            percent = 1;\n        }\n        else {\n            percent = 0;\n        }\n        return {\n            percent,\n            transferred: this._uploadedSize,\n            total: this._bodySize,\n        };\n    }\n    /**\n    The object contains the following properties:\n\n    - `start` - Time when the request started.\n    - `socket` - Time when a socket was assigned to the request.\n    - `lookup` - Time when the DNS lookup finished.\n    - `connect` - Time when the socket successfully connected.\n    - `secureConnect` - Time when the socket securely connected.\n    - `upload` - Time when the request finished uploading.\n    - `response` - Time when the request fired `response` event.\n    - `end` - Time when the response fired `end` event.\n    - `error` - Time when the request fired `error` event.\n    - `abort` - Time when the request fired `abort` event.\n    - `phases`\n        - `wait` - `timings.socket - timings.start`\n        - `dns` - `timings.lookup - timings.socket`\n        - `tcp` - `timings.connect - timings.lookup`\n        - `tls` - `timings.secureConnect - timings.connect`\n        - `request` - `timings.upload - (timings.secureConnect || timings.connect)`\n        - `firstByte` - `timings.response - timings.upload`\n        - `download` - `timings.end - timings.response`\n        - `total` - `(timings.end || timings.error || timings.abort) - timings.start`\n\n    If something has not been measured yet, it will be `undefined`.\n\n    __Note__: The time is a `number` representing the milliseconds elapsed since the UNIX epoch.\n    */\n    get timings() {\n        return this._request?.timings;\n    }\n    /**\n    Whether the response was retrieved from the cache.\n    */\n    get isFromCache() {\n        return this._isFromCache;\n    }\n    get reusedSocket() {\n        return this._request?.reusedSocket;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2NvcmUvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW1DO0FBQ0U7QUFDQTtBQUNZO0FBQ1A7QUFDK0M7QUFDcEM7QUFDbkI7QUFDQztBQUMrQztBQUMvQjtBQUNGO0FBQ0M7QUFDOEI7QUFDM0I7QUFDSDtBQUNXO0FBQzFCO0FBQ1U7QUFDYztBQUNDO0FBQzRFO0FBQ3hJLFFBQVEsNEJBQTRCLEVBQUUsdUNBQVM7QUFDL0MsdUJBQXVCLHdEQUFFLFFBQVEsa0RBQWdCO0FBQ2pEO0FBQ0EsMkJBQTJCLDhEQUFXO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNlLHNCQUFzQiwrQ0FBTTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kbmZtLWJvdC8uL25vZGVfbW9kdWxlcy9nb3QvZGlzdC9zb3VyY2UvY29yZS9pbmRleC5qcz9mNmQ0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwcm9jZXNzIGZyb20gJ25vZGU6cHJvY2Vzcyc7XG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tICdub2RlOmJ1ZmZlcic7XG5pbXBvcnQgeyBEdXBsZXggfSBmcm9tICdub2RlOnN0cmVhbSc7XG5pbXBvcnQgaHR0cCwgeyBTZXJ2ZXJSZXNwb25zZSB9IGZyb20gJ25vZGU6aHR0cCc7XG5pbXBvcnQgdGltZXIgZnJvbSAnQHN6bWFyY3phay9odHRwLXRpbWVyJztcbmltcG9ydCBDYWNoZWFibGVSZXF1ZXN0LCB7IENhY2hlRXJyb3IgYXMgQ2FjaGVhYmxlQ2FjaGVFcnJvciwgfSBmcm9tICdjYWNoZWFibGUtcmVxdWVzdCc7XG5pbXBvcnQgZGVjb21wcmVzc1Jlc3BvbnNlIGZyb20gJ2RlY29tcHJlc3MtcmVzcG9uc2UnO1xuaW1wb3J0IGlzIGZyb20gJ0BzaW5kcmVzb3JodXMvaXMnO1xuaW1wb3J0IGdldFN0cmVhbSBmcm9tICdnZXQtc3RyZWFtJztcbmltcG9ydCB7IEZvcm1EYXRhRW5jb2RlciwgaXNGb3JtRGF0YSBhcyBpc0Zvcm1EYXRhTGlrZSB9IGZyb20gJ2Zvcm0tZGF0YS1lbmNvZGVyJztcbmltcG9ydCBnZXRCb2R5U2l6ZSBmcm9tICcuL3V0aWxzL2dldC1ib2R5LXNpemUuanMnO1xuaW1wb3J0IGlzRm9ybURhdGEgZnJvbSAnLi91dGlscy9pcy1mb3JtLWRhdGEuanMnO1xuaW1wb3J0IHByb3h5RXZlbnRzIGZyb20gJy4vdXRpbHMvcHJveHktZXZlbnRzLmpzJztcbmltcG9ydCB0aW1lZE91dCwgeyBUaW1lb3V0RXJyb3IgYXMgVGltZWRPdXRUaW1lb3V0RXJyb3IgfSBmcm9tICcuL3RpbWVkLW91dC5qcyc7XG5pbXBvcnQgdXJsVG9PcHRpb25zIGZyb20gJy4vdXRpbHMvdXJsLXRvLW9wdGlvbnMuanMnO1xuaW1wb3J0IFdlYWthYmxlTWFwIGZyb20gJy4vdXRpbHMvd2Vha2FibGUtbWFwLmpzJztcbmltcG9ydCBjYWxjdWxhdGVSZXRyeURlbGF5IGZyb20gJy4vY2FsY3VsYXRlLXJldHJ5LWRlbGF5LmpzJztcbmltcG9ydCBPcHRpb25zIGZyb20gJy4vb3B0aW9ucy5qcyc7XG5pbXBvcnQgeyBpc1Jlc3BvbnNlT2sgfSBmcm9tICcuL3Jlc3BvbnNlLmpzJztcbmltcG9ydCBpc0NsaWVudFJlcXVlc3QgZnJvbSAnLi91dGlscy9pcy1jbGllbnQtcmVxdWVzdC5qcyc7XG5pbXBvcnQgaXNVbml4U29ja2V0VVJMIGZyb20gJy4vdXRpbHMvaXMtdW5peC1zb2NrZXQtdXJsLmpzJztcbmltcG9ydCB7IFJlcXVlc3RFcnJvciwgUmVhZEVycm9yLCBNYXhSZWRpcmVjdHNFcnJvciwgSFRUUEVycm9yLCBUaW1lb3V0RXJyb3IsIFVwbG9hZEVycm9yLCBDYWNoZUVycm9yLCBBYm9ydEVycm9yLCB9IGZyb20gJy4vZXJyb3JzLmpzJztcbmNvbnN0IHsgYnVmZmVyOiBnZXRTdHJlYW1Bc0J1ZmZlciB9ID0gZ2V0U3RyZWFtO1xuY29uc3Qgc3VwcG9ydHNCcm90bGkgPSBpcy5zdHJpbmcocHJvY2Vzcy52ZXJzaW9ucy5icm90bGkpO1xuY29uc3QgbWV0aG9kc1dpdGhvdXRCb2R5ID0gbmV3IFNldChbJ0dFVCcsICdIRUFEJ10pO1xuY29uc3QgY2FjaGVhYmxlU3RvcmUgPSBuZXcgV2Vha2FibGVNYXAoKTtcbmNvbnN0IHJlZGlyZWN0Q29kZXMgPSBuZXcgU2V0KFszMDAsIDMwMSwgMzAyLCAzMDMsIDMwNCwgMzA3LCAzMDhdKTtcbmNvbnN0IHByb3hpZWRSZXF1ZXN0RXZlbnRzID0gW1xuICAgICdzb2NrZXQnLFxuICAgICdjb25uZWN0JyxcbiAgICAnY29udGludWUnLFxuICAgICdpbmZvcm1hdGlvbicsXG4gICAgJ3VwZ3JhZGUnLFxuXTtcbmNvbnN0IG5vb3AgPSAoKSA9PiB7IH07XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXF1ZXN0IGV4dGVuZHMgRHVwbGV4IHtcbiAgICBjb25zdHJ1Y3Rvcih1cmwsIG9wdGlvbnMsIGRlZmF1bHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIC8vIERvbid0IGRlc3Ryb3kgaW1tZWRpYXRlbHksIGFzIHRoZSBlcnJvciBtYXkgYmUgZW1pdHRlZCBvbiB1bnN1Y2Nlc3NmdWwgcmV0cnlcbiAgICAgICAgICAgIGF1dG9EZXN0cm95OiBmYWxzZSxcbiAgICAgICAgICAgIC8vIEl0IG5lZWRzIHRvIGJlIHplcm8gYmVjYXVzZSB3ZSdyZSBqdXN0IHByb3h5aW5nIHRoZSBkYXRhIHRvIGFub3RoZXIgc3RyZWFtXG4gICAgICAgICAgICBoaWdoV2F0ZXJNYXJrOiAwLFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIElnbm9yaW5nIGZvciBub3cuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnY29uc3RydWN0b3InLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbm9QaXBlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy85NTY4XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9wdGlvbnNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmVzcG9uc2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmVxdWVzdFVybFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZWRpcmVjdFVybHNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmV0cnlDb3VudFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfc3RvcFJldHJ5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kb3dubG9hZGVkU2l6ZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdXBsb2FkZWRTaXplXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9zdG9wUmVhZGluZ1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcGlwZWRTZXJ2ZXJSZXNwb25zZXNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3JlcXVlc3RcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3Jlc3BvbnNlU2l6ZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfYm9keVNpemVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3VucHJveHlFdmVudHNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2lzRnJvbUNhY2hlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9jYW5ub3RIYXZlQm9keVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdHJpZ2dlclJlYWRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2NhbmNlbFRpbWVvdXRzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9yZW1vdmVMaXN0ZW5lcnNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX25hdGl2ZVJlc3BvbnNlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9mbHVzaGVkXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9hYm9ydGVkXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFdlIG5lZWQgdGhpcyBiZWNhdXNlIGB0aGlzLl9yZXF1ZXN0YCBpZiBgdW5kZWZpbmVkYCB3aGVuIHVzaW5nIGNhY2hlXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9yZXF1ZXN0SW5pdGlhbGl6ZWRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fZG93bmxvYWRlZFNpemUgPSAwO1xuICAgICAgICB0aGlzLl91cGxvYWRlZFNpemUgPSAwO1xuICAgICAgICB0aGlzLl9zdG9wUmVhZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9waXBlZFNlcnZlclJlc3BvbnNlcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5fY2Fubm90SGF2ZUJvZHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fdW5wcm94eUV2ZW50cyA9IG5vb3A7XG4gICAgICAgIHRoaXMuX3RyaWdnZXJSZWFkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2NhbmNlbFRpbWVvdXRzID0gbm9vcDtcbiAgICAgICAgdGhpcy5fcmVtb3ZlTGlzdGVuZXJzID0gbm9vcDtcbiAgICAgICAgdGhpcy5fam9icyA9IFtdO1xuICAgICAgICB0aGlzLl9mbHVzaGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RJbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9hYm9ydGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmVkaXJlY3RVcmxzID0gW107XG4gICAgICAgIHRoaXMucmV0cnlDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuX3N0b3BSZXRyeSA9IG5vb3A7XG4gICAgICAgIHRoaXMub24oJ3BpcGUnLCAoc291cmNlKSA9PiB7XG4gICAgICAgICAgICBpZiAoc291cmNlPy5oZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLm9wdGlvbnMuaGVhZGVycywgc291cmNlLmhlYWRlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vbignbmV3TGlzdGVuZXInLCBldmVudCA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQgPT09ICdyZXRyeScgJiYgdGhpcy5saXN0ZW5lckNvdW50KCdyZXRyeScpID4gMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQSByZXRyeSBsaXN0ZW5lciBoYXMgYmVlbiBhdHRhY2hlZCBhbHJlYWR5LicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IG5ldyBPcHRpb25zKHVybCwgb3B0aW9ucywgZGVmYXVsdHMpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMudXJsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wcmVmaXhVcmwgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ01pc3NpbmcgYHVybGAgcHJvcGVydHknKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnVybCA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0VXJsID0gdGhpcy5vcHRpb25zLnVybDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgb3B0aW9ucyB9ID0gZXJyb3I7XG4gICAgICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmZsdXNoID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZmx1c2ggPSBhc3luYyAoKSA9PiB7IH07XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95KGVycm9yKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gSW1wb3J0YW50ISBJZiB5b3UgcmVwbGFjZSBgYm9keWAgaW4gYSBoYW5kbGVyIHdpdGggYW5vdGhlciBzdHJlYW0sIG1ha2Ugc3VyZSBpdCdzIHJlYWRhYmxlIGZpcnN0LlxuICAgICAgICAvLyBUaGUgYmVsb3cgaXMgcnVuIG9ubHkgb25jZS5cbiAgICAgICAgY29uc3QgeyBib2R5IH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGlmIChpcy5ub2RlU3RyZWFtKGJvZHkpKSB7XG4gICAgICAgICAgICBib2R5Lm9uY2UoJ2Vycm9yJywgZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9mbHVzaGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2JlZm9yZUVycm9yKG5ldyBVcGxvYWRFcnJvcihlcnJvciwgdGhpcykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mbHVzaCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmx1c2ggPSBhc3luYyAoKSA9PiB7IH07XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9iZWZvcmVFcnJvcihuZXcgVXBsb2FkRXJyb3IoZXJyb3IsIHRoaXMpKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNpZ25hbCkge1xuICAgICAgICAgICAgY29uc3QgYWJvcnQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95KG5ldyBBYm9ydEVycm9yKHRoaXMpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgYWJvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBhYm9ydCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVtb3ZlTGlzdGVuZXJzID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuc2lnbmFsPy5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIGFib3J0KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGZsdXNoKCkge1xuICAgICAgICBpZiAodGhpcy5fZmx1c2hlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ZsdXNoZWQgPSB0cnVlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fZmluYWxpemVCb2R5KCk7XG4gICAgICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9tYWtlUmVxdWVzdCgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVxdWVzdD8uZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFF1ZXVlZCB3cml0ZXMgZXRjLlxuICAgICAgICAgICAgZm9yIChjb25zdCBqb2Igb2YgdGhpcy5fam9icykge1xuICAgICAgICAgICAgICAgIGpvYigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUHJldmVudCBtZW1vcnkgbGVha1xuICAgICAgICAgICAgdGhpcy5fam9icy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdEluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuX2JlZm9yZUVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfYmVmb3JlRXJyb3IoZXJyb3IpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N0b3BSZWFkaW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyByZXNwb25zZSwgb3B0aW9ucyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgYXR0ZW1wdENvdW50ID0gdGhpcy5yZXRyeUNvdW50ICsgKGVycm9yLm5hbWUgPT09ICdSZXRyeUVycm9yJyA/IDAgOiAxKTtcbiAgICAgICAgdGhpcy5fc3RvcFJlYWRpbmcgPSB0cnVlO1xuICAgICAgICBpZiAoIShlcnJvciBpbnN0YW5jZW9mIFJlcXVlc3RFcnJvcikpIHtcbiAgICAgICAgICAgIGVycm9yID0gbmV3IFJlcXVlc3RFcnJvcihlcnJvci5tZXNzYWdlLCBlcnJvciwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHlwZWRFcnJvciA9IGVycm9yO1xuICAgICAgICB2b2lkIChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAvLyBOb2RlLmpzIHBhcnNlciBpcyByZWFsbHkgd2VpcmQuXG4gICAgICAgICAgICAvLyBJdCBlbWl0cyBwb3N0LXJlcXVlc3QgUGFyc2UgRXJyb3JzIG9uIHRoZSBzYW1lIGluc3RhbmNlIGFzIHByZXZpb3VzIHJlcXVlc3QuIFdURi5cbiAgICAgICAgICAgIC8vIFRoZXJlZm9yZSB3ZSBuZWVkIHRvIGNoZWNrIGlmIGl0IGhhcyBiZWVuIGRlc3Ryb3llZCBhcyB3ZWxsLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIEZ1cnRoZXJtb3JlLCBOb2RlLmpzIDE2IGByZXNwb25zZS5kZXN0cm95KClgIGRvZXNuJ3QgaW1tZWRpYXRlbHkgZGVzdHJveSB0aGUgc29ja2V0LFxuICAgICAgICAgICAgLy8gYnV0IG1ha2VzIHRoZSByZXNwb25zZSB1bnJlYWRhYmxlLiBTbyB3ZSBhZGRpdGlvbmFsbHkgbmVlZCB0byBjaGVjayBgcmVzcG9uc2UucmVhZGFibGVgLlxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlPy5yZWFkYWJsZSAmJiAhcmVzcG9uc2UucmF3Qm9keSAmJiAhdGhpcy5fcmVxdWVzdD8uc29ja2V0Py5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBAdHlwZXMvbm9kZSBoYXMgaW5jb3JyZWN0IHR5cGluZ3MuIGBzZXRFbmNvZGluZ2AgYWNjZXB0cyBgbnVsbGAgYXMgd2VsbC5cbiAgICAgICAgICAgICAgICByZXNwb25zZS5zZXRFbmNvZGluZyh0aGlzLnJlYWRhYmxlRW5jb2RpbmcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCB0aGlzLl9zZXRSYXdCb2R5KHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5ib2R5ID0gcmVzcG9uc2UucmF3Qm9keS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmxpc3RlbmVyQ291bnQoJ3JldHJ5JykgIT09IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgYmFja29mZjtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmV0cnlBZnRlcjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlICYmICdyZXRyeS1hZnRlcicgaW4gcmVzcG9uc2UuaGVhZGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0cnlBZnRlciA9IE51bWJlcihyZXNwb25zZS5oZWFkZXJzWydyZXRyeS1hZnRlciddKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChOdW1iZXIuaXNOYU4ocmV0cnlBZnRlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRyeUFmdGVyID0gRGF0ZS5wYXJzZShyZXNwb25zZS5oZWFkZXJzWydyZXRyeS1hZnRlciddKSAtIERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJldHJ5QWZ0ZXIgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRyeUFmdGVyID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRyeUFmdGVyICo9IDEwMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmV0cnlPcHRpb25zID0gb3B0aW9ucy5yZXRyeTtcbiAgICAgICAgICAgICAgICAgICAgYmFja29mZiA9IGF3YWl0IHJldHJ5T3B0aW9ucy5jYWxjdWxhdGVEZWxheSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRlbXB0Q291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXRyeU9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogdHlwZWRFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHJ5QWZ0ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZFZhbHVlOiBjYWxjdWxhdGVSZXRyeURlbGF5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRlbXB0Q291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0cnlPcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiB0eXBlZEVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHJ5QWZ0ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRWYWx1ZTogcmV0cnlPcHRpb25zLm1heFJldHJ5QWZ0ZXIgPz8gb3B0aW9ucy50aW1lb3V0LnJlcXVlc3QgPz8gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3JfKSB7XG4gICAgICAgICAgICAgICAgICAgIHZvaWQgdGhpcy5fZXJyb3IobmV3IFJlcXVlc3RFcnJvcihlcnJvcl8ubWVzc2FnZSwgZXJyb3JfLCB0aGlzKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGJhY2tvZmYpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dChyZXNvbHZlLCBiYWNrb2ZmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0b3BSZXRyeSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNvbWV0aGluZyBmb3JjZWQgdXMgdG8gYWJvcnQgdGhlIHJldHJ5XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGhvb2sgb2YgdGhpcy5vcHRpb25zLmhvb2tzLmJlZm9yZVJldHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWF3YWl0LWluLWxvb3BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBob29rKHR5cGVkRXJyb3IsIHRoaXMucmV0cnlDb3VudCArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcl8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgdGhpcy5fZXJyb3IobmV3IFJlcXVlc3RFcnJvcihlcnJvcl8ubWVzc2FnZSwgZXJyb3IsIHRoaXMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBTb21ldGhpbmcgZm9yY2VkIHVzIHRvIGFib3J0IHRoZSByZXRyeVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdyZXRyeScsIHRoaXMucmV0cnlDb3VudCArIDEsIGVycm9yLCAodXBkYXRlZE9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdChvcHRpb25zLnVybCwgdXBkYXRlZE9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5yZXRyeUNvdW50ID0gdGhpcy5yZXRyeUNvdW50ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgcmVxdWVzdC5mbHVzaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2b2lkIHRoaXMuX2Vycm9yKHR5cGVkRXJyb3IpO1xuICAgICAgICB9KSgpO1xuICAgIH1cbiAgICBfcmVhZCgpIHtcbiAgICAgICAgdGhpcy5fdHJpZ2dlclJlYWQgPSB0cnVlO1xuICAgICAgICBjb25zdCB7IHJlc3BvbnNlIH0gPSB0aGlzO1xuICAgICAgICBpZiAocmVzcG9uc2UgJiYgIXRoaXMuX3N0b3BSZWFkaW5nKSB7XG4gICAgICAgICAgICAvLyBXZSBjYW5ub3QgcHV0IHRoaXMgaW4gdGhlIGBpZmAgYWJvdmVcbiAgICAgICAgICAgIC8vIGJlY2F1c2UgYC5yZWFkKClgIGFsc28gdHJpZ2dlcnMgdGhlIGBlbmRgIGV2ZW50XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UucmVhZGFibGVMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyUmVhZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGRhdGE7XG4gICAgICAgICAgICB3aGlsZSAoKGRhdGEgPSByZXNwb25zZS5yZWFkKCkpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZG93bmxvYWRlZFNpemUgKz0gZGF0YS5sZW5ndGg7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3Jlc3RyaWN0LXBsdXMtb3BlcmFuZHNcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9ncmVzcyA9IHRoaXMuZG93bmxvYWRQcm9ncmVzcztcbiAgICAgICAgICAgICAgICBpZiAocHJvZ3Jlc3MucGVyY2VudCA8IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdkb3dubG9hZFByb2dyZXNzJywgcHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnB1c2goZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3dyaXRlKGNodW5rLCBlbmNvZGluZywgY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3Qgd3JpdGUgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl93cml0ZVJlcXVlc3QoY2h1bmssIGVuY29kaW5nLCBjYWxsYmFjayk7XG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLl9yZXF1ZXN0SW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHdyaXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9qb2JzLnB1c2god3JpdGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9maW5hbChjYWxsYmFjaykge1xuICAgICAgICBjb25zdCBlbmRSZXF1ZXN0ID0gKCkgPT4ge1xuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBjaGVjayBpZiBgdGhpcy5fcmVxdWVzdGAgaXMgcHJlc2VudCxcbiAgICAgICAgICAgIC8vIGJlY2F1c2UgaXQgaXNuJ3Qgd2hlbiB3ZSB1c2UgY2FjaGUuXG4gICAgICAgICAgICBpZiAoIXRoaXMuX3JlcXVlc3QgfHwgdGhpcy5fcmVxdWVzdC5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3QuZW5kKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFRoZSByZXF1ZXN0IGhhcyBiZWVuIGRlc3Ryb3llZCBiZWZvcmUgYF9maW5hbGAgZmluaXNoZWQuXG4gICAgICAgICAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvbm9kZS9pc3N1ZXMvMzkzNTZcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fcmVxdWVzdC5fd3JpdGFibGVTdGF0ZT8uZXJyb3JlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYm9keVNpemUgPSB0aGlzLl91cGxvYWRlZFNpemU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgndXBsb2FkUHJvZ3Jlc3MnLCB0aGlzLnVwbG9hZFByb2dyZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVxdWVzdC5lbWl0KCd1cGxvYWQtY29tcGxldGUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLl9yZXF1ZXN0SW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIGVuZFJlcXVlc3QoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2pvYnMucHVzaChlbmRSZXF1ZXN0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfZGVzdHJveShlcnJvciwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fc3RvcFJlYWRpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmZsdXNoID0gYXN5bmMgKCkgPT4geyB9O1xuICAgICAgICAvLyBQcmV2ZW50IGZ1cnRoZXIgcmV0cmllc1xuICAgICAgICB0aGlzLl9zdG9wUmV0cnkoKTtcbiAgICAgICAgdGhpcy5fY2FuY2VsVGltZW91dHMoKTtcbiAgICAgICAgdGhpcy5fcmVtb3ZlTGlzdGVuZXJzKCk7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgYm9keSB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgICAgaWYgKGlzLm5vZGVTdHJlYW0oYm9keSkpIHtcbiAgICAgICAgICAgICAgICBib2R5LmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcmVxdWVzdCkge1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdC5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9yICE9PSBudWxsICYmICFpcy51bmRlZmluZWQoZXJyb3IpICYmICEoZXJyb3IgaW5zdGFuY2VvZiBSZXF1ZXN0RXJyb3IpKSB7XG4gICAgICAgICAgICBlcnJvciA9IG5ldyBSZXF1ZXN0RXJyb3IoZXJyb3IubWVzc2FnZSwgZXJyb3IsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGNhbGxiYWNrKGVycm9yKTtcbiAgICB9XG4gICAgcGlwZShkZXN0aW5hdGlvbiwgb3B0aW9ucykge1xuICAgICAgICBpZiAoZGVzdGluYXRpb24gaW5zdGFuY2VvZiBTZXJ2ZXJSZXNwb25zZSkge1xuICAgICAgICAgICAgdGhpcy5fcGlwZWRTZXJ2ZXJSZXNwb25zZXMuYWRkKGRlc3RpbmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VwZXIucGlwZShkZXN0aW5hdGlvbiwgb3B0aW9ucyk7XG4gICAgfVxuICAgIHVucGlwZShkZXN0aW5hdGlvbikge1xuICAgICAgICBpZiAoZGVzdGluYXRpb24gaW5zdGFuY2VvZiBTZXJ2ZXJSZXNwb25zZSkge1xuICAgICAgICAgICAgdGhpcy5fcGlwZWRTZXJ2ZXJSZXNwb25zZXMuZGVsZXRlKGRlc3RpbmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci51bnBpcGUoZGVzdGluYXRpb24pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgYXN5bmMgX2ZpbmFsaXplQm9keSgpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7IGhlYWRlcnMgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGlzRm9ybSA9ICFpcy51bmRlZmluZWQob3B0aW9ucy5mb3JtKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uYW1pbmctY29udmVudGlvblxuICAgICAgICBjb25zdCBpc0pTT04gPSAhaXMudW5kZWZpbmVkKG9wdGlvbnMuanNvbik7XG4gICAgICAgIGNvbnN0IGlzQm9keSA9ICFpcy51bmRlZmluZWQob3B0aW9ucy5ib2R5KTtcbiAgICAgICAgY29uc3QgY2Fubm90SGF2ZUJvZHkgPSBtZXRob2RzV2l0aG91dEJvZHkuaGFzKG9wdGlvbnMubWV0aG9kKSAmJiAhKG9wdGlvbnMubWV0aG9kID09PSAnR0VUJyAmJiBvcHRpb25zLmFsbG93R2V0Qm9keSk7XG4gICAgICAgIHRoaXMuX2Nhbm5vdEhhdmVCb2R5ID0gY2Fubm90SGF2ZUJvZHk7XG4gICAgICAgIGlmIChpc0Zvcm0gfHwgaXNKU09OIHx8IGlzQm9keSkge1xuICAgICAgICAgICAgaWYgKGNhbm5vdEhhdmVCb2R5KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgVGhlIFxcYCR7b3B0aW9ucy5tZXRob2R9XFxgIG1ldGhvZCBjYW5ub3QgYmUgdXNlZCB3aXRoIGEgYm9keWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2VyaWFsaXplIGJvZHlcbiAgICAgICAgICAgIGNvbnN0IG5vQ29udGVudFR5cGUgPSAhaXMuc3RyaW5nKGhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddKTtcbiAgICAgICAgICAgIGlmIChpc0JvZHkpIHtcbiAgICAgICAgICAgICAgICAvLyBCb2R5IGlzIHNwZWMtY29tcGxpYW50IEZvcm1EYXRhXG4gICAgICAgICAgICAgICAgaWYgKGlzRm9ybURhdGFMaWtlKG9wdGlvbnMuYm9keSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5jb2RlciA9IG5ldyBGb3JtRGF0YUVuY29kZXIob3B0aW9ucy5ib2R5KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vQ29udGVudFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddID0gZW5jb2Rlci5oZWFkZXJzWydDb250ZW50LVR5cGUnXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoJ0NvbnRlbnQtTGVuZ3RoJyBpbiBlbmNvZGVyLmhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNbJ2NvbnRlbnQtbGVuZ3RoJ10gPSBlbmNvZGVyLmhlYWRlcnNbJ0NvbnRlbnQtTGVuZ3RoJ107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5ib2R5ID0gZW5jb2Rlci5lbmNvZGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gU3BlY2lhbCBjYXNlIGZvciBodHRwczovL2dpdGh1Yi5jb20vZm9ybS1kYXRhL2Zvcm0tZGF0YVxuICAgICAgICAgICAgICAgIGlmIChpc0Zvcm1EYXRhKG9wdGlvbnMuYm9keSkgJiYgbm9Db250ZW50VHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzWydjb250ZW50LXR5cGUnXSA9IGBtdWx0aXBhcnQvZm9ybS1kYXRhOyBib3VuZGFyeT0ke29wdGlvbnMuYm9keS5nZXRCb3VuZGFyeSgpfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNGb3JtKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vQ29udGVudFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1snY29udGVudC10eXBlJ10gPSAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyBmb3JtIH0gPSBvcHRpb25zO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuZm9ybSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmJvZHkgPSAobmV3IFVSTFNlYXJjaFBhcmFtcyhmb3JtKSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChub0NvbnRlbnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB7IGpzb24gfSA9IG9wdGlvbnM7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5qc29uID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuYm9keSA9IG9wdGlvbnMuc3RyaW5naWZ5SnNvbihqc29uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVwbG9hZEJvZHlTaXplID0gYXdhaXQgZ2V0Qm9keVNpemUob3B0aW9ucy5ib2R5LCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgLy8gU2VlIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM3MjMwI3NlY3Rpb24tMy4zLjJcbiAgICAgICAgICAgIC8vIEEgdXNlciBhZ2VudCBTSE9VTEQgc2VuZCBhIENvbnRlbnQtTGVuZ3RoIGluIGEgcmVxdWVzdCBtZXNzYWdlIHdoZW5cbiAgICAgICAgICAgIC8vIG5vIFRyYW5zZmVyLUVuY29kaW5nIGlzIHNlbnQgYW5kIHRoZSByZXF1ZXN0IG1ldGhvZCBkZWZpbmVzIGEgbWVhbmluZ1xuICAgICAgICAgICAgLy8gZm9yIGFuIGVuY2xvc2VkIHBheWxvYWQgYm9keS4gIEZvciBleGFtcGxlLCBhIENvbnRlbnQtTGVuZ3RoIGhlYWRlclxuICAgICAgICAgICAgLy8gZmllbGQgaXMgbm9ybWFsbHkgc2VudCBpbiBhIFBPU1QgcmVxdWVzdCBldmVuIHdoZW4gdGhlIHZhbHVlIGlzIDBcbiAgICAgICAgICAgIC8vIChpbmRpY2F0aW5nIGFuIGVtcHR5IHBheWxvYWQgYm9keSkuICBBIHVzZXIgYWdlbnQgU0hPVUxEIE5PVCBzZW5kIGFcbiAgICAgICAgICAgIC8vIENvbnRlbnQtTGVuZ3RoIGhlYWRlciBmaWVsZCB3aGVuIHRoZSByZXF1ZXN0IG1lc3NhZ2UgZG9lcyBub3QgY29udGFpblxuICAgICAgICAgICAgLy8gYSBwYXlsb2FkIGJvZHkgYW5kIHRoZSBtZXRob2Qgc2VtYW50aWNzIGRvIG5vdCBhbnRpY2lwYXRlIHN1Y2ggYVxuICAgICAgICAgICAgLy8gYm9keS5cbiAgICAgICAgICAgIGlmIChpcy51bmRlZmluZWQoaGVhZGVyc1snY29udGVudC1sZW5ndGgnXSkgJiYgaXMudW5kZWZpbmVkKGhlYWRlcnNbJ3RyYW5zZmVyLWVuY29kaW5nJ10pICYmICFjYW5ub3RIYXZlQm9keSAmJiAhaXMudW5kZWZpbmVkKHVwbG9hZEJvZHlTaXplKSkge1xuICAgICAgICAgICAgICAgIGhlYWRlcnNbJ2NvbnRlbnQtbGVuZ3RoJ10gPSBTdHJpbmcodXBsb2FkQm9keVNpemUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLnJlc3BvbnNlVHlwZSA9PT0gJ2pzb24nICYmICEoJ2FjY2VwdCcgaW4gb3B0aW9ucy5oZWFkZXJzKSkge1xuICAgICAgICAgICAgb3B0aW9ucy5oZWFkZXJzLmFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9ib2R5U2l6ZSA9IE51bWJlcihoZWFkZXJzWydjb250ZW50LWxlbmd0aCddKSB8fCB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGFzeW5jIF9vblJlc3BvbnNlQmFzZShyZXNwb25zZSkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgYmUgY2FsbGVkIGUuZy4gd2hlbiB1c2luZyBjYWNoZSBzbyB3ZSBuZWVkIHRvIGNoZWNrIGlmIHRoaXMgcmVxdWVzdCBoYXMgYmVlbiBhYm9ydGVkLlxuICAgICAgICBpZiAodGhpcy5pc0Fib3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IG9wdGlvbnMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsgdXJsIH0gPSBvcHRpb25zO1xuICAgICAgICB0aGlzLl9uYXRpdmVSZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgICBpZiAob3B0aW9ucy5kZWNvbXByZXNzKSB7XG4gICAgICAgICAgICByZXNwb25zZSA9IGRlY29tcHJlc3NSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdHVzQ29kZSA9IHJlc3BvbnNlLnN0YXR1c0NvZGU7XG4gICAgICAgIGNvbnN0IHR5cGVkUmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgdHlwZWRSZXNwb25zZS5zdGF0dXNNZXNzYWdlID0gdHlwZWRSZXNwb25zZS5zdGF0dXNNZXNzYWdlID8/IGh0dHAuU1RBVFVTX0NPREVTW3N0YXR1c0NvZGVdO1xuICAgICAgICB0eXBlZFJlc3BvbnNlLnVybCA9IG9wdGlvbnMudXJsLnRvU3RyaW5nKCk7XG4gICAgICAgIHR5cGVkUmVzcG9uc2UucmVxdWVzdFVybCA9IHRoaXMucmVxdWVzdFVybDtcbiAgICAgICAgdHlwZWRSZXNwb25zZS5yZWRpcmVjdFVybHMgPSB0aGlzLnJlZGlyZWN0VXJscztcbiAgICAgICAgdHlwZWRSZXNwb25zZS5yZXF1ZXN0ID0gdGhpcztcbiAgICAgICAgdHlwZWRSZXNwb25zZS5pc0Zyb21DYWNoZSA9IHRoaXMuX25hdGl2ZVJlc3BvbnNlLmZyb21DYWNoZSA/PyBmYWxzZTtcbiAgICAgICAgdHlwZWRSZXNwb25zZS5pcCA9IHRoaXMuaXA7XG4gICAgICAgIHR5cGVkUmVzcG9uc2UucmV0cnlDb3VudCA9IHRoaXMucmV0cnlDb3VudDtcbiAgICAgICAgdHlwZWRSZXNwb25zZS5vayA9IGlzUmVzcG9uc2VPayh0eXBlZFJlc3BvbnNlKTtcbiAgICAgICAgdGhpcy5faXNGcm9tQ2FjaGUgPSB0eXBlZFJlc3BvbnNlLmlzRnJvbUNhY2hlO1xuICAgICAgICB0aGlzLl9yZXNwb25zZVNpemUgPSBOdW1iZXIocmVzcG9uc2UuaGVhZGVyc1snY29udGVudC1sZW5ndGgnXSkgfHwgdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnJlc3BvbnNlID0gdHlwZWRSZXNwb25zZTtcbiAgICAgICAgcmVzcG9uc2Uub25jZSgnZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fcmVzcG9uc2VTaXplID0gdGhpcy5fZG93bmxvYWRlZFNpemU7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2Rvd25sb2FkUHJvZ3Jlc3MnLCB0aGlzLmRvd25sb2FkUHJvZ3Jlc3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmVzcG9uc2Uub25jZSgnZXJyb3InLCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2Fib3J0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgLy8gRm9yY2UgY2xlYW4tdXAsIGJlY2F1c2Ugc29tZSBwYWNrYWdlcyBkb24ndCBkbyB0aGlzLlxuICAgICAgICAgICAgLy8gVE9ETzogRml4IGRlY29tcHJlc3MtcmVzcG9uc2VcbiAgICAgICAgICAgIHJlc3BvbnNlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuX2JlZm9yZUVycm9yKG5ldyBSZWFkRXJyb3IoZXJyb3IsIHRoaXMpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc3BvbnNlLm9uY2UoJ2Fib3J0ZWQnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9hYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2JlZm9yZUVycm9yKG5ldyBSZWFkRXJyb3Ioe1xuICAgICAgICAgICAgICAgIG5hbWU6ICdFcnJvcicsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ1RoZSBzZXJ2ZXIgYWJvcnRlZCBwZW5kaW5nIHJlcXVlc3QnLFxuICAgICAgICAgICAgICAgIGNvZGU6ICdFQ09OTlJFU0VUJyxcbiAgICAgICAgICAgIH0sIHRoaXMpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZW1pdCgnZG93bmxvYWRQcm9ncmVzcycsIHRoaXMuZG93bmxvYWRQcm9ncmVzcyk7XG4gICAgICAgIGNvbnN0IHJhd0Nvb2tpZXMgPSByZXNwb25zZS5oZWFkZXJzWydzZXQtY29va2llJ107XG4gICAgICAgIGlmIChpcy5vYmplY3Qob3B0aW9ucy5jb29raWVKYXIpICYmIHJhd0Nvb2tpZXMpIHtcbiAgICAgICAgICAgIGxldCBwcm9taXNlcyA9IHJhd0Nvb2tpZXMubWFwKGFzeW5jIChyYXdDb29raWUpID0+IG9wdGlvbnMuY29va2llSmFyLnNldENvb2tpZShyYXdDb29raWUsIHVybC50b1N0cmluZygpKSk7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5pZ25vcmVJbnZhbGlkQ29va2llcykge1xuICAgICAgICAgICAgICAgIHByb21pc2VzID0gcHJvbWlzZXMubWFwKGFzeW5jIChwcm9taXNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBwcm9taXNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIHsgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9iZWZvcmVFcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFRoZSBhYm92ZSBpcyBydW5uaW5nIGEgcHJvbWlzZSwgdGhlcmVmb3JlIHdlIG5lZWQgdG8gY2hlY2sgaWYgdGhpcyByZXF1ZXN0IGhhcyBiZWVuIGFib3J0ZWQgeWV0IGFnYWluLlxuICAgICAgICBpZiAodGhpcy5pc0Fib3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5mb2xsb3dSZWRpcmVjdCAmJiByZXNwb25zZS5oZWFkZXJzLmxvY2F0aW9uICYmIHJlZGlyZWN0Q29kZXMuaGFzKHN0YXR1c0NvZGUpKSB7XG4gICAgICAgICAgICAvLyBXZSdyZSBiZWluZyByZWRpcmVjdGVkLCB3ZSBkb24ndCBjYXJlIGFib3V0IHRoZSByZXNwb25zZS5cbiAgICAgICAgICAgIC8vIEl0J2QgYmUgYmVzdCB0byBhYm9ydCB0aGUgcmVxdWVzdCwgYnV0IHdlIGNhbid0IGJlY2F1c2VcbiAgICAgICAgICAgIC8vIHdlIHdvdWxkIGhhdmUgdG8gc2FjcmlmaWNlIHRoZSBUQ1AgY29ubmVjdGlvbi4gV2UgZG9uJ3Qgd2FudCB0aGF0LlxuICAgICAgICAgICAgcmVzcG9uc2UucmVzdW1lKCk7XG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxUaW1lb3V0cygpO1xuICAgICAgICAgICAgdGhpcy5fdW5wcm94eUV2ZW50cygpO1xuICAgICAgICAgICAgaWYgKHRoaXMucmVkaXJlY3RVcmxzLmxlbmd0aCA+PSBvcHRpb25zLm1heFJlZGlyZWN0cykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JlZm9yZUVycm9yKG5ldyBNYXhSZWRpcmVjdHNFcnJvcih0aGlzKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRPcHRpb25zID0gbmV3IE9wdGlvbnModW5kZWZpbmVkLCB1bmRlZmluZWQsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBzZXJ2ZXJSZXF1ZXN0ZWRHZXQgPSBzdGF0dXNDb2RlID09PSAzMDMgJiYgdXBkYXRlZE9wdGlvbnMubWV0aG9kICE9PSAnR0VUJyAmJiB1cGRhdGVkT3B0aW9ucy5tZXRob2QgIT09ICdIRUFEJztcbiAgICAgICAgICAgIGNvbnN0IGNhblJld3JpdGUgPSBzdGF0dXNDb2RlICE9PSAzMDcgJiYgc3RhdHVzQ29kZSAhPT0gMzA4O1xuICAgICAgICAgICAgY29uc3QgdXNlclJlcXVlc3RlZEdldCA9IHVwZGF0ZWRPcHRpb25zLm1ldGhvZFJld3JpdGluZyAmJiBjYW5SZXdyaXRlO1xuICAgICAgICAgICAgaWYgKHNlcnZlclJlcXVlc3RlZEdldCB8fCB1c2VyUmVxdWVzdGVkR2V0KSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlZE9wdGlvbnMubWV0aG9kID0gJ0dFVCc7XG4gICAgICAgICAgICAgICAgdXBkYXRlZE9wdGlvbnMuYm9keSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB1cGRhdGVkT3B0aW9ucy5qc29uID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHVwZGF0ZWRPcHRpb25zLmZvcm0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHVwZGF0ZWRPcHRpb25zLmhlYWRlcnNbJ2NvbnRlbnQtbGVuZ3RoJ107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgdGhpcyBpbiBvcmRlciB0byBzdXBwb3J0IFVURi04XG4gICAgICAgICAgICAgICAgY29uc3QgcmVkaXJlY3RCdWZmZXIgPSBCdWZmZXIuZnJvbShyZXNwb25zZS5oZWFkZXJzLmxvY2F0aW9uLCAnYmluYXJ5JykudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZWRpcmVjdFVybCA9IG5ldyBVUkwocmVkaXJlY3RCdWZmZXIsIHVybCk7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1VuaXhTb2NrZXRVUkwodXJsKSAmJiBpc1VuaXhTb2NrZXRVUkwocmVkaXJlY3RVcmwpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2JlZm9yZUVycm9yKG5ldyBSZXF1ZXN0RXJyb3IoJ0Nhbm5vdCByZWRpcmVjdCB0byBVTklYIHNvY2tldCcsIHt9LCB0aGlzKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gUmVkaXJlY3RpbmcgdG8gYSBkaWZmZXJlbnQgc2l0ZSwgY2xlYXIgc2Vuc2l0aXZlIGRhdGEuXG4gICAgICAgICAgICAgICAgaWYgKHJlZGlyZWN0VXJsLmhvc3RuYW1lICE9PSB1cmwuaG9zdG5hbWUgfHwgcmVkaXJlY3RVcmwucG9ydCAhPT0gdXJsLnBvcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCdob3N0JyBpbiB1cGRhdGVkT3B0aW9ucy5oZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdXBkYXRlZE9wdGlvbnMuaGVhZGVycy5ob3N0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICgnY29va2llJyBpbiB1cGRhdGVkT3B0aW9ucy5oZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdXBkYXRlZE9wdGlvbnMuaGVhZGVycy5jb29raWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCdhdXRob3JpemF0aW9uJyBpbiB1cGRhdGVkT3B0aW9ucy5oZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdXBkYXRlZE9wdGlvbnMuaGVhZGVycy5hdXRob3JpemF0aW9uO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh1cGRhdGVkT3B0aW9ucy51c2VybmFtZSB8fCB1cGRhdGVkT3B0aW9ucy5wYXNzd29yZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZE9wdGlvbnMudXNlcm5hbWUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRPcHRpb25zLnBhc3N3b3JkID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0VXJsLnVzZXJuYW1lID0gdXBkYXRlZE9wdGlvbnMudXNlcm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0VXJsLnBhc3N3b3JkID0gdXBkYXRlZE9wdGlvbnMucGFzc3dvcmQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucmVkaXJlY3RVcmxzLnB1c2gocmVkaXJlY3RVcmwpO1xuICAgICAgICAgICAgICAgIHVwZGF0ZWRPcHRpb25zLnByZWZpeFVybCA9ICcnO1xuICAgICAgICAgICAgICAgIHVwZGF0ZWRPcHRpb25zLnVybCA9IHJlZGlyZWN0VXJsO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaG9vayBvZiB1cGRhdGVkT3B0aW9ucy5ob29rcy5iZWZvcmVSZWRpcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYXdhaXQtaW4tbG9vcFxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBob29rKHVwZGF0ZWRPcHRpb25zLCB0eXBlZFJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdyZWRpcmVjdCcsIHVwZGF0ZWRPcHRpb25zLCB0eXBlZFJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSB1cGRhdGVkT3B0aW9ucztcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9tYWtlUmVxdWVzdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYmVmb3JlRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBgSFRUUEVycm9yYHMgYWx3YXlzIGhhdmUgYGVycm9yLnJlc3BvbnNlLmJvZHlgIGRlZmluZWQuXG4gICAgICAgIC8vIFRoZXJlZm9yZSB3ZSBjYW5ub3QgcmV0cnkgaWYgYG9wdGlvbnMudGhyb3dIdHRwRXJyb3JzYCBpcyBmYWxzZS5cbiAgICAgICAgLy8gT24gdGhlIGxhc3QgcmV0cnksIGlmIGBvcHRpb25zLnRocm93SHR0cEVycm9yc2AgaXMgZmFsc2UsIHdlIHdvdWxkIG5lZWQgdG8gcmV0dXJuIHRoZSBib2R5LFxuICAgICAgICAvLyBidXQgdGhhdCB3b3VsZG4ndCBiZSBwb3NzaWJsZSBzaW5jZSB0aGUgYm9keSB3b3VsZCBiZSBhbHJlYWR5IHJlYWQgaW4gYGVycm9yLnJlc3BvbnNlLmJvZHlgLlxuICAgICAgICBpZiAob3B0aW9ucy5pc1N0cmVhbSAmJiBvcHRpb25zLnRocm93SHR0cEVycm9ycyAmJiAhaXNSZXNwb25zZU9rKHR5cGVkUmVzcG9uc2UpKSB7XG4gICAgICAgICAgICB0aGlzLl9iZWZvcmVFcnJvcihuZXcgSFRUUEVycm9yKHR5cGVkUmVzcG9uc2UpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXNwb25zZS5vbigncmVhZGFibGUnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdHJpZ2dlclJlYWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWFkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9uKCdyZXN1bWUnLCAoKSA9PiB7XG4gICAgICAgICAgICByZXNwb25zZS5yZXN1bWUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub24oJ3BhdXNlJywgKCkgPT4ge1xuICAgICAgICAgICAgcmVzcG9uc2UucGF1c2UoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc3BvbnNlLm9uY2UoJ2VuZCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucHVzaChudWxsKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aGlzLl9ub1BpcGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCB0aGlzLl9zZXRSYXdCb2R5KCk7XG4gICAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgncmVzcG9uc2UnLCByZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbWl0KCdyZXNwb25zZScsIHJlc3BvbnNlKTtcbiAgICAgICAgZm9yIChjb25zdCBkZXN0aW5hdGlvbiBvZiB0aGlzLl9waXBlZFNlcnZlclJlc3BvbnNlcykge1xuICAgICAgICAgICAgaWYgKGRlc3RpbmF0aW9uLmhlYWRlcnNTZW50KSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ3VhcmQtZm9yLWluXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiByZXNwb25zZS5oZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNBbGxvd2VkID0gb3B0aW9ucy5kZWNvbXByZXNzID8ga2V5ICE9PSAnY29udGVudC1lbmNvZGluZycgOiB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmVzcG9uc2UuaGVhZGVyc1trZXldO1xuICAgICAgICAgICAgICAgIGlmIChpc0FsbG93ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb24uc2V0SGVhZGVyKGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlc3RpbmF0aW9uLnN0YXR1c0NvZGUgPSBzdGF0dXNDb2RlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIF9zZXRSYXdCb2R5KGZyb20gPSB0aGlzKSB7XG4gICAgICAgIGlmIChmcm9tLnJlYWRhYmxlRW5kZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gRXJyb3JzIGFyZSBlbWl0dGVkIHZpYSB0aGUgYGVycm9yYCBldmVudFxuICAgICAgICAgICAgY29uc3QgcmF3Qm9keSA9IGF3YWl0IGdldFN0cmVhbUFzQnVmZmVyKGZyb20pO1xuICAgICAgICAgICAgLy8gVE9ETzogU3dpdGNoIHRvIHRoaXM6XG4gICAgICAgICAgICAvLyBsZXQgcmF3Qm9keSA9IGF3YWl0IGZyb20udG9BcnJheSgpO1xuICAgICAgICAgICAgLy8gcmF3Qm9keSA9IEJ1ZmZlci5jb25jYXQocmF3Qm9keSk7XG4gICAgICAgICAgICAvLyBPbiByZXRyeSBSZXF1ZXN0IGlzIGRlc3Ryb3llZCB3aXRoIG5vIGVycm9yLCB0aGVyZWZvcmUgdGhlIGFib3ZlIHdpbGwgc3VjY2Vzc2Z1bGx5IHJlc29sdmUuXG4gICAgICAgICAgICAvLyBTbyBpbiBvcmRlciB0byBjaGVjayBpZiB0aGlzIHdhcyByZWFsbHkgc3VjY2Vzc2Z1bGwsIHdlIG5lZWQgdG8gY2hlY2sgaWYgaXQgaGFzIGJlZW4gcHJvcGVybHkgZW5kZWQuXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNBYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZS5yYXdCb2R5ID0gcmF3Qm9keTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7IH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBhc3luYyBfb25SZXNwb25zZShyZXNwb25zZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fb25SZXNwb25zZUJhc2UocmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IGJldHRlciBzYWZlIHRoYW4gc29ycnkgKi9cbiAgICAgICAgICAgIHRoaXMuX2JlZm9yZUVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfb25SZXF1ZXN0KHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7IHRpbWVvdXQsIHVybCB9ID0gb3B0aW9ucztcbiAgICAgICAgdGltZXIocmVxdWVzdCk7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaHR0cDIpIHtcbiAgICAgICAgICAgIC8vIFVuc2V0IHN0cmVhbSB0aW1lb3V0LCBhcyB0aGUgYHRpbWVvdXRgIG9wdGlvbiB3YXMgdXNlZCBvbmx5IGZvciBjb25uZWN0aW9uIHRpbWVvdXQuXG4gICAgICAgICAgICByZXF1ZXN0LnNldFRpbWVvdXQoMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2FuY2VsVGltZW91dHMgPSB0aW1lZE91dChyZXF1ZXN0LCB0aW1lb3V0LCB1cmwpO1xuICAgICAgICBjb25zdCByZXNwb25zZUV2ZW50TmFtZSA9IG9wdGlvbnMuY2FjaGUgPyAnY2FjaGVhYmxlUmVzcG9uc2UnIDogJ3Jlc3BvbnNlJztcbiAgICAgICAgcmVxdWVzdC5vbmNlKHJlc3BvbnNlRXZlbnROYW1lLCAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIHZvaWQgdGhpcy5fb25SZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXF1ZXN0Lm9uY2UoJ2Vycm9yJywgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9hYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIEZvcmNlIGNsZWFuLXVwLCBiZWNhdXNlIHNvbWUgcGFja2FnZXMgKGUuZy4gbm9jaykgZG9uJ3QgZG8gdGhpcy5cbiAgICAgICAgICAgIHJlcXVlc3QuZGVzdHJveSgpO1xuICAgICAgICAgICAgZXJyb3IgPSBlcnJvciBpbnN0YW5jZW9mIFRpbWVkT3V0VGltZW91dEVycm9yID8gbmV3IFRpbWVvdXRFcnJvcihlcnJvciwgdGhpcy50aW1pbmdzLCB0aGlzKSA6IG5ldyBSZXF1ZXN0RXJyb3IoZXJyb3IubWVzc2FnZSwgZXJyb3IsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fYmVmb3JlRXJyb3IoZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fdW5wcm94eUV2ZW50cyA9IHByb3h5RXZlbnRzKHJlcXVlc3QsIHRoaXMsIHByb3hpZWRSZXF1ZXN0RXZlbnRzKTtcbiAgICAgICAgdGhpcy5fcmVxdWVzdCA9IHJlcXVlc3Q7XG4gICAgICAgIHRoaXMuZW1pdCgndXBsb2FkUHJvZ3Jlc3MnLCB0aGlzLnVwbG9hZFByb2dyZXNzKTtcbiAgICAgICAgdGhpcy5fc2VuZEJvZHkoKTtcbiAgICAgICAgdGhpcy5lbWl0KCdyZXF1ZXN0JywgcmVxdWVzdCk7XG4gICAgfVxuICAgIGFzeW5jIF9hc3luY1dyaXRlKGNodW5rKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBzdXBlci53cml0ZShjaHVuaywgZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3NlbmRCb2R5KCkge1xuICAgICAgICAvLyBTZW5kIGJvZHlcbiAgICAgICAgY29uc3QgeyBib2R5IH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRSZXF1ZXN0ID0gdGhpcy5yZWRpcmVjdFVybHMubGVuZ3RoID09PSAwID8gdGhpcyA6IHRoaXMuX3JlcXVlc3QgPz8gdGhpcztcbiAgICAgICAgaWYgKGlzLm5vZGVTdHJlYW0oYm9keSkpIHtcbiAgICAgICAgICAgIGJvZHkucGlwZShjdXJyZW50UmVxdWVzdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXMuZ2VuZXJhdG9yKGJvZHkpIHx8IGlzLmFzeW5jR2VuZXJhdG9yKGJvZHkpKSB7XG4gICAgICAgICAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgYm9keSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fYXN5bmNXcml0ZShjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3VwZXIuZW5kKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9iZWZvcmVFcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghaXMudW5kZWZpbmVkKGJvZHkpKSB7XG4gICAgICAgICAgICB0aGlzLl93cml0ZVJlcXVlc3QoYm9keSwgdW5kZWZpbmVkLCAoKSA9PiB7IH0pO1xuICAgICAgICAgICAgY3VycmVudFJlcXVlc3QuZW5kKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fY2Fubm90SGF2ZUJvZHkgfHwgdGhpcy5fbm9QaXBlKSB7XG4gICAgICAgICAgICBjdXJyZW50UmVxdWVzdC5lbmQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfcHJlcGFyZUNhY2hlKGNhY2hlKSB7XG4gICAgICAgIGlmICghY2FjaGVhYmxlU3RvcmUuaGFzKGNhY2hlKSkge1xuICAgICAgICAgICAgY29uc3QgY2FjaGVhYmxlUmVxdWVzdCA9IG5ldyBDYWNoZWFibGVSZXF1ZXN0KCgocmVxdWVzdE9wdGlvbnMsIGhhbmRsZXIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSByZXF1ZXN0T3B0aW9ucy5fcmVxdWVzdChyZXF1ZXN0T3B0aW9ucywgaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogcmVtb3ZlIHRoaXMgd2hlbiBgY2FjaGVhYmxlLXJlcXVlc3RgIHN1cHBvcnRzIGFzeW5jIHJlcXVlc3QgZnVuY3Rpb25zLlxuICAgICAgICAgICAgICAgIGlmIChpcy5wcm9taXNlKHJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2Ugb25seSBuZWVkIHRvIGltcGxlbWVudCB0aGUgZXJyb3IgaGFuZGxlciBpbiBvcmRlciB0byBzdXBwb3J0IEhUVFAyIGNhY2hpbmcuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSByZXN1bHQgd2lsbCBiZSBhIHByb21pc2UgYW55d2F5LlxuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGlnbm9yZVxuICAgICAgICAgICAgICAgICAgICByZXN1bHQub25jZSA9IChldmVudCwgaGFuZGxlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50ID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXIoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50ID09PSAnYWJvcnQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGVtcHR5IGNhdGNoIGlzIG5lZWRlZCBoZXJlIGluIGNhc2Ugd2hlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGl0IHJlamVjdHMgYmVmb3JlIGl0J3MgYGF3YWl0YGVkIGluIGBfbWFrZVJlcXVlc3RgLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gKGF3YWl0IHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0Lm9uY2UoJ2Fib3J0JywgaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggeyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBzYWZldHkgY2hlY2sgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gSFRUUDIgcHJvbWlzZSBldmVudDogJHtldmVudH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9KSwgY2FjaGUpO1xuICAgICAgICAgICAgY2FjaGVhYmxlU3RvcmUuc2V0KGNhY2hlLCBjYWNoZWFibGVSZXF1ZXN0LnJlcXVlc3QoKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgX2NyZWF0ZUNhY2hlYWJsZVJlcXVlc3QodXJsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyBUT0RPOiBSZW1vdmUgYHV0aWxzL3VybC10by1vcHRpb25zLnRzYCB3aGVuIGBjYWNoZWFibGUtcmVxdWVzdGAgaXMgZml4ZWRcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ob3B0aW9ucywgdXJsVG9PcHRpb25zKHVybCkpO1xuICAgICAgICAgICAgbGV0IHJlcXVlc3Q7XG4gICAgICAgICAgICAvLyBUT0RPOiBGaXggYGNhY2hlYWJsZS1yZXNwb25zZWAuIFRoaXMgaXMgdWdseS5cbiAgICAgICAgICAgIGNvbnN0IGNhY2hlUmVxdWVzdCA9IGNhY2hlYWJsZVN0b3JlLmdldChvcHRpb25zLmNhY2hlKShvcHRpb25zLCBhc3luYyAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5fcmVhZGFibGVTdGF0ZS5hdXRvRGVzdHJveSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpeCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5yZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5jb21wbGV0ZSA9IHJlc3BvbnNlLnJlcS5yZXMuY29tcGxldGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnByZXBlbmRPbmNlTGlzdGVuZXIoJ2VuZCcsIGZpeCk7XG4gICAgICAgICAgICAgICAgICAgIGZpeCgpO1xuICAgICAgICAgICAgICAgICAgICAoYXdhaXQgcmVxdWVzdCkuZW1pdCgnY2FjaGVhYmxlUmVzcG9uc2UnLCByZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYWNoZVJlcXVlc3Qub25jZSgnZXJyb3InLCByZWplY3QpO1xuICAgICAgICAgICAgY2FjaGVSZXF1ZXN0Lm9uY2UoJ3JlcXVlc3QnLCBhc3luYyAocmVxdWVzdE9yUHJvbWlzZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlcXVlc3QgPSByZXF1ZXN0T3JQcm9taXNlO1xuICAgICAgICAgICAgICAgIHJlc29sdmUocmVxdWVzdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIF9tYWtlUmVxdWVzdCgpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7IGhlYWRlcnMsIHVzZXJuYW1lLCBwYXNzd29yZCB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgY29va2llSmFyID0gb3B0aW9ucy5jb29raWVKYXI7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGhlYWRlcnMpIHtcbiAgICAgICAgICAgIGlmIChpcy51bmRlZmluZWQoaGVhZGVyc1trZXldKSkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZHluYW1pYy1kZWxldGVcbiAgICAgICAgICAgICAgICBkZWxldGUgaGVhZGVyc1trZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXMubnVsbF8oaGVhZGVyc1trZXldKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFVzZSBcXGB1bmRlZmluZWRcXGAgaW5zdGVhZCBvZiBcXGBudWxsXFxgIHRvIGRlbGV0ZSB0aGUgXFxgJHtrZXl9XFxgIGhlYWRlcmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmRlY29tcHJlc3MgJiYgaXMudW5kZWZpbmVkKGhlYWRlcnNbJ2FjY2VwdC1lbmNvZGluZyddKSkge1xuICAgICAgICAgICAgaGVhZGVyc1snYWNjZXB0LWVuY29kaW5nJ10gPSBzdXBwb3J0c0Jyb3RsaSA/ICdnemlwLCBkZWZsYXRlLCBicicgOiAnZ3ppcCwgZGVmbGF0ZSc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVzZXJuYW1lIHx8IHBhc3N3b3JkKSB7XG4gICAgICAgICAgICBjb25zdCBjcmVkZW50aWFscyA9IEJ1ZmZlci5mcm9tKGAke3VzZXJuYW1lfToke3Bhc3N3b3JkfWApLnRvU3RyaW5nKCdiYXNlNjQnKTtcbiAgICAgICAgICAgIGhlYWRlcnMuYXV0aG9yaXphdGlvbiA9IGBCYXNpYyAke2NyZWRlbnRpYWxzfWA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2V0IGNvb2tpZXNcbiAgICAgICAgaWYgKGNvb2tpZUphcikge1xuICAgICAgICAgICAgY29uc3QgY29va2llU3RyaW5nID0gYXdhaXQgY29va2llSmFyLmdldENvb2tpZVN0cmluZyhvcHRpb25zLnVybC50b1N0cmluZygpKTtcbiAgICAgICAgICAgIGlmIChpcy5ub25FbXB0eVN0cmluZyhjb29raWVTdHJpbmcpKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVycy5jb29raWUgPSBjb29raWVTdHJpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVzZXQgYHByZWZpeFVybGBcbiAgICAgICAgb3B0aW9ucy5wcmVmaXhVcmwgPSAnJztcbiAgICAgICAgbGV0IHJlcXVlc3Q7XG4gICAgICAgIGZvciAoY29uc3QgaG9vayBvZiBvcHRpb25zLmhvb2tzLmJlZm9yZVJlcXVlc3QpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1hd2FpdC1pbi1sb29wXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBob29rKG9wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKCFpcy51bmRlZmluZWQocmVzdWx0KSkge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgU2tpcCB0aGUgdHlwZSBtaXNtYXRjaCB0byBzdXBwb3J0IGFic3RyYWN0IHJlc3BvbnNlc1xuICAgICAgICAgICAgICAgIHJlcXVlc3QgPSAoKSA9PiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgICAgICByZXF1ZXN0ID0gb3B0aW9ucy5nZXRSZXF1ZXN0RnVuY3Rpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cmwgPSBvcHRpb25zLnVybDtcbiAgICAgICAgdGhpcy5fcmVxdWVzdE9wdGlvbnMgPSBvcHRpb25zLmNyZWF0ZU5hdGl2ZVJlcXVlc3RPcHRpb25zKCk7XG4gICAgICAgIGlmIChvcHRpb25zLmNhY2hlKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0T3B0aW9ucy5fcmVxdWVzdCA9IHJlcXVlc3Q7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0T3B0aW9ucy5jYWNoZSA9IG9wdGlvbnMuY2FjaGU7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0T3B0aW9ucy5ib2R5ID0gb3B0aW9ucy5ib2R5O1xuICAgICAgICAgICAgdGhpcy5fcHJlcGFyZUNhY2hlKG9wdGlvbnMuY2FjaGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENhY2hlIHN1cHBvcnRcbiAgICAgICAgY29uc3QgZm4gPSBvcHRpb25zLmNhY2hlID8gdGhpcy5fY3JlYXRlQ2FjaGVhYmxlUmVxdWVzdCA6IHJlcXVlc3Q7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXZSBjYW4ndCBkbyBgYXdhaXQgZm4oLi4uKWAsXG4gICAgICAgICAgICAvLyBiZWNhdXNlIHN0cmVhbSBgZXJyb3JgIGV2ZW50IGNhbiBiZSBlbWl0dGVkIGJlZm9yZSBgUHJvbWlzZS5yZXNvbHZlKClgLlxuICAgICAgICAgICAgbGV0IHJlcXVlc3RPclJlc3BvbnNlID0gZm4odXJsLCB0aGlzLl9yZXF1ZXN0T3B0aW9ucyk7XG4gICAgICAgICAgICBpZiAoaXMucHJvbWlzZShyZXF1ZXN0T3JSZXNwb25zZSkpIHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0T3JSZXNwb25zZSA9IGF3YWl0IHJlcXVlc3RPclJlc3BvbnNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRmFsbGJhY2tcbiAgICAgICAgICAgIGlmIChpcy51bmRlZmluZWQocmVxdWVzdE9yUmVzcG9uc2UpKSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdE9yUmVzcG9uc2UgPSBvcHRpb25zLmdldEZhbGxiYWNrUmVxdWVzdEZ1bmN0aW9uKCkodXJsLCB0aGlzLl9yZXF1ZXN0T3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgaWYgKGlzLnByb21pc2UocmVxdWVzdE9yUmVzcG9uc2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RPclJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdE9yUmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzQ2xpZW50UmVxdWVzdChyZXF1ZXN0T3JSZXNwb25zZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vblJlcXVlc3QocmVxdWVzdE9yUmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy53cml0YWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMub25jZSgnZmluaXNoJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2b2lkIHRoaXMuX29uUmVzcG9uc2UocmVxdWVzdE9yUmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuX3NlbmRCb2R5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2b2lkIHRoaXMuX29uUmVzcG9uc2UocmVxdWVzdE9yUmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgQ2FjaGVhYmxlQ2FjaGVFcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBDYWNoZUVycm9yKGVycm9yLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIF9lcnJvcihlcnJvcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgSFRUUEVycm9yICYmICF0aGlzLm9wdGlvbnMudGhyb3dIdHRwRXJyb3JzKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBicmFuY2ggY2FuIGJlIHJlYWNoZWQgb25seSB3aGVuIHVzaW5nIHRoZSBQcm9taXNlIEFQSVxuICAgICAgICAgICAgICAgIC8vIFNraXAgY2FsbGluZyB0aGUgaG9va3Mgb24gcHVycG9zZS5cbiAgICAgICAgICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3NpbmRyZXNvcmh1cy9nb3QvaXNzdWVzLzIxMDNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaG9vayBvZiB0aGlzLm9wdGlvbnMuaG9va3MuYmVmb3JlRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWF3YWl0LWluLWxvb3BcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSBhd2FpdCBob29rKGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yXykge1xuICAgICAgICAgICAgZXJyb3IgPSBuZXcgUmVxdWVzdEVycm9yKGVycm9yXy5tZXNzYWdlLCBlcnJvcl8sIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVzdHJveShlcnJvcik7XG4gICAgfVxuICAgIF93cml0ZVJlcXVlc3QoY2h1bmssIGVuY29kaW5nLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAoIXRoaXMuX3JlcXVlc3QgfHwgdGhpcy5fcmVxdWVzdC5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIC8vIFByb2JhYmx5IHRoZSBgQ2xpZW50UmVxdWVzdGAgaW5zdGFuY2Ugd2lsbCB0aHJvd1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JlcXVlc3Qud3JpdGUoY2h1bmssIGVuY29kaW5nLCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIC8vIFRoZSBgIWRlc3Ryb3llZGAgY2hlY2sgaXMgcmVxdWlyZWQgdG8gcHJldmVudCBgdXBsb2FkUHJvZ3Jlc3NgIGJlaW5nIGVtaXR0ZWQgYWZ0ZXIgdGhlIHN0cmVhbSB3YXMgZGVzdHJveWVkXG4gICAgICAgICAgICBpZiAoIWVycm9yICYmICF0aGlzLl9yZXF1ZXN0LmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwbG9hZGVkU2l6ZSArPSBCdWZmZXIuYnl0ZUxlbmd0aChjaHVuaywgZW5jb2RpbmcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzID0gdGhpcy51cGxvYWRQcm9ncmVzcztcbiAgICAgICAgICAgICAgICBpZiAocHJvZ3Jlc3MucGVyY2VudCA8IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KCd1cGxvYWRQcm9ncmVzcycsIHByb2dyZXNzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYWxsYmFjayhlcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICBUaGUgcmVtb3RlIElQIGFkZHJlc3MuXG4gICAgKi9cbiAgICBnZXQgaXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNvY2tldD8ucmVtb3RlQWRkcmVzcztcbiAgICB9XG4gICAgLyoqXG4gICAgSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHJlcXVlc3QgaGFzIGJlZW4gYWJvcnRlZCBvciBub3QuXG4gICAgKi9cbiAgICBnZXQgaXNBYm9ydGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWJvcnRlZDtcbiAgICB9XG4gICAgZ2V0IHNvY2tldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3Q/LnNvY2tldCA/PyB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgIFByb2dyZXNzIGV2ZW50IGZvciBkb3dubG9hZGluZyAocmVjZWl2aW5nIGEgcmVzcG9uc2UpLlxuICAgICovXG4gICAgZ2V0IGRvd25sb2FkUHJvZ3Jlc3MoKSB7XG4gICAgICAgIGxldCBwZXJjZW50O1xuICAgICAgICBpZiAodGhpcy5fcmVzcG9uc2VTaXplKSB7XG4gICAgICAgICAgICBwZXJjZW50ID0gdGhpcy5fZG93bmxvYWRlZFNpemUgLyB0aGlzLl9yZXNwb25zZVNpemU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fcmVzcG9uc2VTaXplID09PSB0aGlzLl9kb3dubG9hZGVkU2l6ZSkge1xuICAgICAgICAgICAgcGVyY2VudCA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwZXJjZW50ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcGVyY2VudCxcbiAgICAgICAgICAgIHRyYW5zZmVycmVkOiB0aGlzLl9kb3dubG9hZGVkU2l6ZSxcbiAgICAgICAgICAgIHRvdGFsOiB0aGlzLl9yZXNwb25zZVNpemUsXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgIFByb2dyZXNzIGV2ZW50IGZvciB1cGxvYWRpbmcgKHNlbmRpbmcgYSByZXF1ZXN0KS5cbiAgICAqL1xuICAgIGdldCB1cGxvYWRQcm9ncmVzcygpIHtcbiAgICAgICAgbGV0IHBlcmNlbnQ7XG4gICAgICAgIGlmICh0aGlzLl9ib2R5U2l6ZSkge1xuICAgICAgICAgICAgcGVyY2VudCA9IHRoaXMuX3VwbG9hZGVkU2l6ZSAvIHRoaXMuX2JvZHlTaXplO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX2JvZHlTaXplID09PSB0aGlzLl91cGxvYWRlZFNpemUpIHtcbiAgICAgICAgICAgIHBlcmNlbnQgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGVyY2VudCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBlcmNlbnQsXG4gICAgICAgICAgICB0cmFuc2ZlcnJlZDogdGhpcy5fdXBsb2FkZWRTaXplLFxuICAgICAgICAgICAgdG90YWw6IHRoaXMuX2JvZHlTaXplLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICBUaGUgb2JqZWN0IGNvbnRhaW5zIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcblxuICAgIC0gYHN0YXJ0YCAtIFRpbWUgd2hlbiB0aGUgcmVxdWVzdCBzdGFydGVkLlxuICAgIC0gYHNvY2tldGAgLSBUaW1lIHdoZW4gYSBzb2NrZXQgd2FzIGFzc2lnbmVkIHRvIHRoZSByZXF1ZXN0LlxuICAgIC0gYGxvb2t1cGAgLSBUaW1lIHdoZW4gdGhlIEROUyBsb29rdXAgZmluaXNoZWQuXG4gICAgLSBgY29ubmVjdGAgLSBUaW1lIHdoZW4gdGhlIHNvY2tldCBzdWNjZXNzZnVsbHkgY29ubmVjdGVkLlxuICAgIC0gYHNlY3VyZUNvbm5lY3RgIC0gVGltZSB3aGVuIHRoZSBzb2NrZXQgc2VjdXJlbHkgY29ubmVjdGVkLlxuICAgIC0gYHVwbG9hZGAgLSBUaW1lIHdoZW4gdGhlIHJlcXVlc3QgZmluaXNoZWQgdXBsb2FkaW5nLlxuICAgIC0gYHJlc3BvbnNlYCAtIFRpbWUgd2hlbiB0aGUgcmVxdWVzdCBmaXJlZCBgcmVzcG9uc2VgIGV2ZW50LlxuICAgIC0gYGVuZGAgLSBUaW1lIHdoZW4gdGhlIHJlc3BvbnNlIGZpcmVkIGBlbmRgIGV2ZW50LlxuICAgIC0gYGVycm9yYCAtIFRpbWUgd2hlbiB0aGUgcmVxdWVzdCBmaXJlZCBgZXJyb3JgIGV2ZW50LlxuICAgIC0gYGFib3J0YCAtIFRpbWUgd2hlbiB0aGUgcmVxdWVzdCBmaXJlZCBgYWJvcnRgIGV2ZW50LlxuICAgIC0gYHBoYXNlc2BcbiAgICAgICAgLSBgd2FpdGAgLSBgdGltaW5ncy5zb2NrZXQgLSB0aW1pbmdzLnN0YXJ0YFxuICAgICAgICAtIGBkbnNgIC0gYHRpbWluZ3MubG9va3VwIC0gdGltaW5ncy5zb2NrZXRgXG4gICAgICAgIC0gYHRjcGAgLSBgdGltaW5ncy5jb25uZWN0IC0gdGltaW5ncy5sb29rdXBgXG4gICAgICAgIC0gYHRsc2AgLSBgdGltaW5ncy5zZWN1cmVDb25uZWN0IC0gdGltaW5ncy5jb25uZWN0YFxuICAgICAgICAtIGByZXF1ZXN0YCAtIGB0aW1pbmdzLnVwbG9hZCAtICh0aW1pbmdzLnNlY3VyZUNvbm5lY3QgfHwgdGltaW5ncy5jb25uZWN0KWBcbiAgICAgICAgLSBgZmlyc3RCeXRlYCAtIGB0aW1pbmdzLnJlc3BvbnNlIC0gdGltaW5ncy51cGxvYWRgXG4gICAgICAgIC0gYGRvd25sb2FkYCAtIGB0aW1pbmdzLmVuZCAtIHRpbWluZ3MucmVzcG9uc2VgXG4gICAgICAgIC0gYHRvdGFsYCAtIGAodGltaW5ncy5lbmQgfHwgdGltaW5ncy5lcnJvciB8fCB0aW1pbmdzLmFib3J0KSAtIHRpbWluZ3Muc3RhcnRgXG5cbiAgICBJZiBzb21ldGhpbmcgaGFzIG5vdCBiZWVuIG1lYXN1cmVkIHlldCwgaXQgd2lsbCBiZSBgdW5kZWZpbmVkYC5cblxuICAgIF9fTm90ZV9fOiBUaGUgdGltZSBpcyBhIGBudW1iZXJgIHJlcHJlc2VudGluZyB0aGUgbWlsbGlzZWNvbmRzIGVsYXBzZWQgc2luY2UgdGhlIFVOSVggZXBvY2guXG4gICAgKi9cbiAgICBnZXQgdGltaW5ncygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3Q/LnRpbWluZ3M7XG4gICAgfVxuICAgIC8qKlxuICAgIFdoZXRoZXIgdGhlIHJlc3BvbnNlIHdhcyByZXRyaWV2ZWQgZnJvbSB0aGUgY2FjaGUuXG4gICAgKi9cbiAgICBnZXQgaXNGcm9tQ2FjaGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0Zyb21DYWNoZTtcbiAgICB9XG4gICAgZ2V0IHJldXNlZFNvY2tldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3Q/LnJldXNlZFNvY2tldDtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/got/dist/source/core/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/got/dist/source/core/options.js":
/*!******************************************************!*\
  !*** ./node_modules/got/dist/source/core/options.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Options)\n/* harmony export */ });\n/* harmony import */ var node_process__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node:process */ \"node:process\");\n/* harmony import */ var node_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! node:util */ \"node:util\");\n/* harmony import */ var node_tls__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! node:tls */ \"node:tls\");\n/* harmony import */ var node_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! node:http */ \"node:http\");\n/* harmony import */ var node_https__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! node:https */ \"node:https\");\n/* harmony import */ var _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sindresorhus/is */ \"(rsc)/./node_modules/@sindresorhus/is/dist/index.js\");\n/* harmony import */ var lowercase_keys__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lowercase-keys */ \"(rsc)/./node_modules/lowercase-keys/index.js\");\n/* harmony import */ var cacheable_lookup__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cacheable-lookup */ \"(rsc)/./node_modules/cacheable-lookup/source/index.js\");\n/* harmony import */ var http2_wrapper__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! http2-wrapper */ \"(rsc)/./node_modules/http2-wrapper/source/index.js\");\n/* harmony import */ var form_data_encoder__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! form-data-encoder */ \"(rsc)/./node_modules/form-data-encoder/lib/util/isFormData.js\");\n/* harmony import */ var _parse_link_header_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./parse-link-header.js */ \"(rsc)/./node_modules/got/dist/source/core/parse-link-header.js\");\n\n\n\n// DO NOT use destructuring for `https.request` and `http.request` as it's not compatible with `nock`.\n\n\n\n\n\n\n\n\nconst [major, minor] = node_process__WEBPACK_IMPORTED_MODULE_0__.versions.node.split('.').map(Number);\nfunction validateSearchParameters(searchParameters) {\n    // eslint-disable-next-line guard-for-in\n    for (const key in searchParameters) {\n        const value = searchParameters[key];\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].string, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].number, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].boolean, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].null_, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value);\n    }\n}\nconst globalCache = new Map();\nlet globalDnsCache;\nconst getGlobalDnsCache = () => {\n    if (globalDnsCache) {\n        return globalDnsCache;\n    }\n    globalDnsCache = new cacheable_lookup__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\n    return globalDnsCache;\n};\nconst defaultInternals = {\n    request: undefined,\n    agent: {\n        http: undefined,\n        https: undefined,\n        http2: undefined,\n    },\n    h2session: undefined,\n    decompress: true,\n    timeout: {\n        connect: undefined,\n        lookup: undefined,\n        read: undefined,\n        request: undefined,\n        response: undefined,\n        secureConnect: undefined,\n        send: undefined,\n        socket: undefined,\n    },\n    prefixUrl: '',\n    body: undefined,\n    form: undefined,\n    json: undefined,\n    cookieJar: undefined,\n    ignoreInvalidCookies: false,\n    searchParams: undefined,\n    dnsLookup: undefined,\n    dnsCache: undefined,\n    context: {},\n    hooks: {\n        init: [],\n        beforeRequest: [],\n        beforeError: [],\n        beforeRedirect: [],\n        beforeRetry: [],\n        afterResponse: [],\n    },\n    followRedirect: true,\n    maxRedirects: 10,\n    cache: undefined,\n    throwHttpErrors: true,\n    username: '',\n    password: '',\n    http2: false,\n    allowGetBody: false,\n    headers: {\n        'user-agent': 'got (https://github.com/sindresorhus/got)',\n    },\n    methodRewriting: false,\n    dnsLookupIpVersion: undefined,\n    parseJson: JSON.parse,\n    stringifyJson: JSON.stringify,\n    retry: {\n        limit: 2,\n        methods: [\n            'GET',\n            'PUT',\n            'HEAD',\n            'DELETE',\n            'OPTIONS',\n            'TRACE',\n        ],\n        statusCodes: [\n            408,\n            413,\n            429,\n            500,\n            502,\n            503,\n            504,\n            521,\n            522,\n            524,\n        ],\n        errorCodes: [\n            'ETIMEDOUT',\n            'ECONNRESET',\n            'EADDRINUSE',\n            'ECONNREFUSED',\n            'EPIPE',\n            'ENOTFOUND',\n            'ENETUNREACH',\n            'EAI_AGAIN',\n        ],\n        maxRetryAfter: undefined,\n        calculateDelay: ({ computedValue }) => computedValue,\n        backoffLimit: Number.POSITIVE_INFINITY,\n        noise: 100,\n    },\n    localAddress: undefined,\n    method: 'GET',\n    createConnection: undefined,\n    cacheOptions: {\n        shared: undefined,\n        cacheHeuristic: undefined,\n        immutableMinTimeToLive: undefined,\n        ignoreCargoCult: undefined,\n    },\n    https: {\n        alpnProtocols: undefined,\n        rejectUnauthorized: undefined,\n        checkServerIdentity: undefined,\n        certificateAuthority: undefined,\n        key: undefined,\n        certificate: undefined,\n        passphrase: undefined,\n        pfx: undefined,\n        ciphers: undefined,\n        honorCipherOrder: undefined,\n        minVersion: undefined,\n        maxVersion: undefined,\n        signatureAlgorithms: undefined,\n        tlsSessionLifetime: undefined,\n        dhparam: undefined,\n        ecdhCurve: undefined,\n        certificateRevocationLists: undefined,\n    },\n    encoding: undefined,\n    resolveBodyOnly: false,\n    isStream: false,\n    responseType: 'text',\n    url: undefined,\n    pagination: {\n        transform(response) {\n            if (response.request.options.responseType === 'json') {\n                return response.body;\n            }\n            return JSON.parse(response.body);\n        },\n        paginate({ response }) {\n            const rawLinkHeader = response.headers.link;\n            if (typeof rawLinkHeader !== 'string' || rawLinkHeader.trim() === '') {\n                return false;\n            }\n            const parsed = (0,_parse_link_header_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(rawLinkHeader);\n            const next = parsed.find(entry => entry.parameters.rel === 'next' || entry.parameters.rel === '\"next\"');\n            if (next) {\n                return {\n                    url: new URL(next.reference, response.url),\n                };\n            }\n            return false;\n        },\n        filter: () => true,\n        shouldContinue: () => true,\n        countLimit: Number.POSITIVE_INFINITY,\n        backoff: 0,\n        requestLimit: 10000,\n        stackAllItems: false,\n    },\n    setHost: true,\n    maxHeaderSize: undefined,\n    signal: undefined,\n    enableUnixSockets: false,\n};\nconst cloneInternals = (internals) => {\n    const { hooks, retry } = internals;\n    const result = {\n        ...internals,\n        context: { ...internals.context },\n        cacheOptions: { ...internals.cacheOptions },\n        https: { ...internals.https },\n        agent: { ...internals.agent },\n        headers: { ...internals.headers },\n        retry: {\n            ...retry,\n            errorCodes: [...retry.errorCodes],\n            methods: [...retry.methods],\n            statusCodes: [...retry.statusCodes],\n        },\n        timeout: { ...internals.timeout },\n        hooks: {\n            init: [...hooks.init],\n            beforeRequest: [...hooks.beforeRequest],\n            beforeError: [...hooks.beforeError],\n            beforeRedirect: [...hooks.beforeRedirect],\n            beforeRetry: [...hooks.beforeRetry],\n            afterResponse: [...hooks.afterResponse],\n        },\n        searchParams: internals.searchParams ? new URLSearchParams(internals.searchParams) : undefined,\n        pagination: { ...internals.pagination },\n    };\n    if (result.url !== undefined) {\n        result.prefixUrl = '';\n    }\n    return result;\n};\nconst cloneRaw = (raw) => {\n    const { hooks, retry } = raw;\n    const result = { ...raw };\n    if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].object(raw.context)) {\n        result.context = { ...raw.context };\n    }\n    if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].object(raw.cacheOptions)) {\n        result.cacheOptions = { ...raw.cacheOptions };\n    }\n    if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].object(raw.https)) {\n        result.https = { ...raw.https };\n    }\n    if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].object(raw.cacheOptions)) {\n        result.cacheOptions = { ...result.cacheOptions };\n    }\n    if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].object(raw.agent)) {\n        result.agent = { ...raw.agent };\n    }\n    if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].object(raw.headers)) {\n        result.headers = { ...raw.headers };\n    }\n    if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].object(retry)) {\n        result.retry = { ...retry };\n        if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].array(retry.errorCodes)) {\n            result.retry.errorCodes = [...retry.errorCodes];\n        }\n        if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].array(retry.methods)) {\n            result.retry.methods = [...retry.methods];\n        }\n        if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].array(retry.statusCodes)) {\n            result.retry.statusCodes = [...retry.statusCodes];\n        }\n    }\n    if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].object(raw.timeout)) {\n        result.timeout = { ...raw.timeout };\n    }\n    if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].object(hooks)) {\n        result.hooks = {\n            ...hooks,\n        };\n        if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].array(hooks.init)) {\n            result.hooks.init = [...hooks.init];\n        }\n        if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].array(hooks.beforeRequest)) {\n            result.hooks.beforeRequest = [...hooks.beforeRequest];\n        }\n        if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].array(hooks.beforeError)) {\n            result.hooks.beforeError = [...hooks.beforeError];\n        }\n        if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].array(hooks.beforeRedirect)) {\n            result.hooks.beforeRedirect = [...hooks.beforeRedirect];\n        }\n        if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].array(hooks.beforeRetry)) {\n            result.hooks.beforeRetry = [...hooks.beforeRetry];\n        }\n        if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].array(hooks.afterResponse)) {\n            result.hooks.afterResponse = [...hooks.afterResponse];\n        }\n    }\n    // TODO: raw.searchParams\n    if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].object(raw.pagination)) {\n        result.pagination = { ...raw.pagination };\n    }\n    return result;\n};\nconst getHttp2TimeoutOption = (internals) => {\n    const delays = [internals.timeout.socket, internals.timeout.connect, internals.timeout.lookup, internals.timeout.request, internals.timeout.secureConnect].filter(delay => typeof delay === 'number');\n    if (delays.length > 0) {\n        return Math.min(...delays);\n    }\n    return undefined;\n};\nconst init = (options, withOptions, self) => {\n    const initHooks = options.hooks?.init;\n    if (initHooks) {\n        for (const hook of initHooks) {\n            hook(withOptions, self);\n        }\n    }\n};\nclass Options {\n    constructor(input, options, defaults) {\n        Object.defineProperty(this, \"_unixOptions\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_internals\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_merging\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_init\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].string, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].urlInstance, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].object, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], input);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].object, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], options);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].object, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], defaults);\n        if (input instanceof Options || options instanceof Options) {\n            throw new TypeError('The defaults must be passed as the third argument');\n        }\n        this._internals = cloneInternals(defaults?._internals ?? defaults ?? defaultInternals);\n        this._init = [...(defaults?._init ?? [])];\n        this._merging = false;\n        this._unixOptions = undefined;\n        // This rule allows `finally` to be considered more important.\n        // Meaning no matter the error thrown in the `try` block,\n        // if `finally` throws then the `finally` error will be thrown.\n        //\n        // Yes, we want this. If we set `url` first, then the `url.searchParams`\n        // would get merged. Instead we set the `searchParams` first, then\n        // `url.searchParams` is overwritten as expected.\n        //\n        /* eslint-disable no-unsafe-finally */\n        try {\n            if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].plainObject(input)) {\n                try {\n                    this.merge(input);\n                    this.merge(options);\n                }\n                finally {\n                    this.url = input.url;\n                }\n            }\n            else {\n                try {\n                    this.merge(options);\n                }\n                finally {\n                    if (options?.url !== undefined) {\n                        if (input === undefined) {\n                            this.url = options.url;\n                        }\n                        else {\n                            throw new TypeError('The `url` option is mutually exclusive with the `input` argument');\n                        }\n                    }\n                    else if (input !== undefined) {\n                        this.url = input;\n                    }\n                }\n            }\n        }\n        catch (error) {\n            error.options = this;\n            throw error;\n        }\n        /* eslint-enable no-unsafe-finally */\n    }\n    merge(options) {\n        if (!options) {\n            return;\n        }\n        if (options instanceof Options) {\n            for (const init of options._init) {\n                this.merge(init);\n            }\n            return;\n        }\n        options = cloneRaw(options);\n        init(this, options, this);\n        init(options, options, this);\n        this._merging = true;\n        // Always merge `isStream` first\n        if ('isStream' in options) {\n            this.isStream = options.isStream;\n        }\n        try {\n            let push = false;\n            for (const key in options) {\n                // `got.extend()` options\n                if (key === 'mutableDefaults' || key === 'handlers') {\n                    continue;\n                }\n                // Never merge `url`\n                if (key === 'url') {\n                    continue;\n                }\n                if (!(key in this)) {\n                    throw new Error(`Unexpected option: ${key}`);\n                }\n                // @ts-expect-error Type 'unknown' is not assignable to type 'never'.\n                const value = options[key];\n                if (value === undefined) {\n                    continue;\n                }\n                // @ts-expect-error Type 'unknown' is not assignable to type 'never'.\n                this[key] = value;\n                push = true;\n            }\n            if (push) {\n                this._init.push(options);\n            }\n        }\n        finally {\n            this._merging = false;\n        }\n    }\n    /**\n    Custom request function.\n    The main purpose of this is to [support HTTP2 using a wrapper](https://github.com/szmarczak/http2-wrapper).\n\n    @default http.request | https.request\n    */\n    get request() {\n        return this._internals.request;\n    }\n    set request(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].function_, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value);\n        this._internals.request = value;\n    }\n    /**\n    An object representing `http`, `https` and `http2` keys for [`http.Agent`](https://nodejs.org/api/http.html#http_class_http_agent), [`https.Agent`](https://nodejs.org/api/https.html#https_class_https_agent) and [`http2wrapper.Agent`](https://github.com/szmarczak/http2-wrapper#new-http2agentoptions) instance.\n    This is necessary because a request to one protocol might redirect to another.\n    In such a scenario, Got will switch over to the right protocol agent for you.\n\n    If a key is not present, it will default to a global agent.\n\n    @example\n    ```\n    import got from 'got';\n    import HttpAgent from 'agentkeepalive';\n\n    const {HttpsAgent} = HttpAgent;\n\n    await got('https://sindresorhus.com', {\n        agent: {\n            http: new HttpAgent(),\n            https: new HttpsAgent()\n        }\n    });\n    ```\n    */\n    get agent() {\n        return this._internals.agent;\n    }\n    set agent(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.plainObject(value);\n        // eslint-disable-next-line guard-for-in\n        for (const key in value) {\n            if (!(key in this._internals.agent)) {\n                throw new TypeError(`Unexpected agent option: ${key}`);\n            }\n            // @ts-expect-error - No idea why `value[key]` doesn't work here.\n            _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].object, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value[key]);\n        }\n        if (this._merging) {\n            Object.assign(this._internals.agent, value);\n        }\n        else {\n            this._internals.agent = { ...value };\n        }\n    }\n    get h2session() {\n        return this._internals.h2session;\n    }\n    set h2session(value) {\n        this._internals.h2session = value;\n    }\n    /**\n    Decompress the response automatically.\n\n    This will set the `accept-encoding` header to `gzip, deflate, br` unless you set it yourself.\n\n    If this is disabled, a compressed response is returned as a `Buffer`.\n    This may be useful if you want to handle decompression yourself or stream the raw compressed data.\n\n    @default true\n    */\n    get decompress() {\n        return this._internals.decompress;\n    }\n    set decompress(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.boolean(value);\n        this._internals.decompress = value;\n    }\n    /**\n    Milliseconds to wait for the server to end the response before aborting the request with `got.TimeoutError` error (a.k.a. `request` property).\n    By default, there's no timeout.\n\n    This also accepts an `object` with the following fields to constrain the duration of each phase of the request lifecycle:\n\n    - `lookup` starts when a socket is assigned and ends when the hostname has been resolved.\n        Does not apply when using a Unix domain socket.\n    - `connect` starts when `lookup` completes (or when the socket is assigned if lookup does not apply to the request) and ends when the socket is connected.\n    - `secureConnect` starts when `connect` completes and ends when the handshaking process completes (HTTPS only).\n    - `socket` starts when the socket is connected. See [request.setTimeout](https://nodejs.org/api/http.html#http_request_settimeout_timeout_callback).\n    - `response` starts when the request has been written to the socket and ends when the response headers are received.\n    - `send` starts when the socket is connected and ends with the request has been written to the socket.\n    - `request` starts when the request is initiated and ends when the response's end event fires.\n    */\n    get timeout() {\n        // We always return `Delays` here.\n        // It has to be `Delays | number`, otherwise TypeScript will error because the getter and the setter have incompatible types.\n        return this._internals.timeout;\n    }\n    set timeout(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.plainObject(value);\n        // eslint-disable-next-line guard-for-in\n        for (const key in value) {\n            if (!(key in this._internals.timeout)) {\n                throw new Error(`Unexpected timeout option: ${key}`);\n            }\n            // @ts-expect-error - No idea why `value[key]` doesn't work here.\n            _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].number, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value[key]);\n        }\n        if (this._merging) {\n            Object.assign(this._internals.timeout, value);\n        }\n        else {\n            this._internals.timeout = { ...value };\n        }\n    }\n    /**\n    When specified, `prefixUrl` will be prepended to `url`.\n    The prefix can be any valid URL, either relative or absolute.\n    A trailing slash `/` is optional - one will be added automatically.\n\n    __Note__: `prefixUrl` will be ignored if the `url` argument is a URL instance.\n\n    __Note__: Leading slashes in `input` are disallowed when using this option to enforce consistency and avoid confusion.\n    For example, when the prefix URL is `https://example.com/foo` and the input is `/bar`, there's ambiguity whether the resulting URL would become `https://example.com/foo/bar` or `https://example.com/bar`.\n    The latter is used by browsers.\n\n    __Tip__: Useful when used with `got.extend()` to create niche-specific Got instances.\n\n    __Tip__: You can change `prefixUrl` using hooks as long as the URL still includes the `prefixUrl`.\n    If the URL doesn't include it anymore, it will throw.\n\n    @example\n    ```\n    import got from 'got';\n\n    await got('unicorn', {prefixUrl: 'https://cats.com'});\n    //=> 'https://cats.com/unicorn'\n\n    const instance = got.extend({\n        prefixUrl: 'https://google.com'\n    });\n\n    await instance('unicorn', {\n        hooks: {\n            beforeRequest: [\n                options => {\n                    options.prefixUrl = 'https://cats.com';\n                }\n            ]\n        }\n    });\n    //=> 'https://cats.com/unicorn'\n    ```\n    */\n    get prefixUrl() {\n        // We always return `string` here.\n        // It has to be `string | URL`, otherwise TypeScript will error because the getter and the setter have incompatible types.\n        return this._internals.prefixUrl;\n    }\n    set prefixUrl(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].string, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].urlInstance], value);\n        if (value === '') {\n            this._internals.prefixUrl = '';\n            return;\n        }\n        value = value.toString();\n        if (!value.endsWith('/')) {\n            value += '/';\n        }\n        if (this._internals.prefixUrl && this._internals.url) {\n            const { href } = this._internals.url;\n            this._internals.url.href = value + href.slice(this._internals.prefixUrl.length);\n        }\n        this._internals.prefixUrl = value;\n    }\n    /**\n    __Note #1__: The `body` option cannot be used with the `json` or `form` option.\n\n    __Note #2__: If you provide this option, `got.stream()` will be read-only.\n\n    __Note #3__: If you provide a payload with the `GET` or `HEAD` method, it will throw a `TypeError` unless the method is `GET` and the `allowGetBody` option is set to `true`.\n\n    __Note #4__: This option is not enumerable and will not be merged with the instance defaults.\n\n    The `content-length` header will be automatically set if `body` is a `string` / `Buffer` / [`FormData`](https://developer.mozilla.org/en-US/docs/Web/API/FormData) / [`form-data` instance](https://github.com/form-data/form-data), and `content-length` and `transfer-encoding` are not manually set in `options.headers`.\n\n    Since Got 12, the `content-length` is not automatically set when `body` is a `fs.createReadStream`.\n    */\n    get body() {\n        return this._internals.body;\n    }\n    set body(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].string, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].buffer, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].nodeStream, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].generator, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].asyncGenerator, form_data_encoder__WEBPACK_IMPORTED_MODULE_10__.isFormData, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value);\n        if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].nodeStream(value)) {\n            _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.truthy(value.readable);\n        }\n        if (value !== undefined) {\n            _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.undefined(this._internals.form);\n            _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.undefined(this._internals.json);\n        }\n        this._internals.body = value;\n    }\n    /**\n    The form body is converted to a query string using [`(new URLSearchParams(object)).toString()`](https://nodejs.org/api/url.html#url_constructor_new_urlsearchparams_obj).\n\n    If the `Content-Type` header is not present, it will be set to `application/x-www-form-urlencoded`.\n\n    __Note #1__: If you provide this option, `got.stream()` will be read-only.\n\n    __Note #2__: This option is not enumerable and will not be merged with the instance defaults.\n    */\n    get form() {\n        return this._internals.form;\n    }\n    set form(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].plainObject, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value);\n        if (value !== undefined) {\n            _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.undefined(this._internals.body);\n            _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.undefined(this._internals.json);\n        }\n        this._internals.form = value;\n    }\n    /**\n    JSON body. If the `Content-Type` header is not set, it will be set to `application/json`.\n\n    __Note #1__: If you provide this option, `got.stream()` will be read-only.\n\n    __Note #2__: This option is not enumerable and will not be merged with the instance defaults.\n    */\n    get json() {\n        return this._internals.json;\n    }\n    set json(value) {\n        if (value !== undefined) {\n            _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.undefined(this._internals.body);\n            _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.undefined(this._internals.form);\n        }\n        this._internals.json = value;\n    }\n    /**\n    The URL to request, as a string, a [`https.request` options object](https://nodejs.org/api/https.html#https_https_request_options_callback), or a [WHATWG `URL`](https://nodejs.org/api/url.html#url_class_url).\n\n    Properties from `options` will override properties in the parsed `url`.\n\n    If no protocol is specified, it will throw a `TypeError`.\n\n    __Note__: The query string is **not** parsed as search params.\n\n    @example\n    ```\n    await got('https://example.com/?query=a b'); //=> https://example.com/?query=a%20b\n    await got('https://example.com/', {searchParams: {query: 'a b'}}); //=> https://example.com/?query=a+b\n\n    // The query string is overridden by `searchParams`\n    await got('https://example.com/?query=a b', {searchParams: {query: 'a b'}}); //=> https://example.com/?query=a+b\n    ```\n    */\n    get url() {\n        return this._internals.url;\n    }\n    set url(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].string, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].urlInstance, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value);\n        if (value === undefined) {\n            this._internals.url = undefined;\n            return;\n        }\n        if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].string(value) && value.startsWith('/')) {\n            throw new Error('`url` must not start with a slash');\n        }\n        const urlString = `${this.prefixUrl}${value.toString()}`;\n        const url = new URL(urlString);\n        this._internals.url = url;\n        if (url.protocol === 'unix:') {\n            url.href = `http://unix${url.pathname}${url.search}`;\n        }\n        if (url.protocol !== 'http:' && url.protocol !== 'https:') {\n            const error = new Error(`Unsupported protocol: ${url.protocol}`);\n            error.code = 'ERR_UNSUPPORTED_PROTOCOL';\n            throw error;\n        }\n        if (this._internals.username) {\n            url.username = this._internals.username;\n            this._internals.username = '';\n        }\n        if (this._internals.password) {\n            url.password = this._internals.password;\n            this._internals.password = '';\n        }\n        if (this._internals.searchParams) {\n            url.search = this._internals.searchParams.toString();\n            this._internals.searchParams = undefined;\n        }\n        if (url.hostname === 'unix') {\n            if (!this._internals.enableUnixSockets) {\n                throw new Error('Using UNIX domain sockets but option `enableUnixSockets` is not enabled');\n            }\n            const matches = /(?<socketPath>.+?):(?<path>.+)/.exec(`${url.pathname}${url.search}`);\n            if (matches?.groups) {\n                const { socketPath, path } = matches.groups;\n                this._unixOptions = {\n                    socketPath,\n                    path,\n                    host: '',\n                };\n            }\n            else {\n                this._unixOptions = undefined;\n            }\n            return;\n        }\n        this._unixOptions = undefined;\n    }\n    /**\n    Cookie support. You don't have to care about parsing or how to store them.\n\n    __Note__: If you provide this option, `options.headers.cookie` will be overridden.\n    */\n    get cookieJar() {\n        return this._internals.cookieJar;\n    }\n    set cookieJar(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].object, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value);\n        if (value === undefined) {\n            this._internals.cookieJar = undefined;\n            return;\n        }\n        let { setCookie, getCookieString } = value;\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.function_(setCookie);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.function_(getCookieString);\n        /* istanbul ignore next: Horrible `tough-cookie` v3 check */\n        if (setCookie.length === 4 && getCookieString.length === 0) {\n            setCookie = (0,node_util__WEBPACK_IMPORTED_MODULE_1__.promisify)(setCookie.bind(value));\n            getCookieString = (0,node_util__WEBPACK_IMPORTED_MODULE_1__.promisify)(getCookieString.bind(value));\n            this._internals.cookieJar = {\n                setCookie,\n                getCookieString: getCookieString,\n            };\n        }\n        else {\n            this._internals.cookieJar = value;\n        }\n    }\n    /**\n    You can abort the `request` using [`AbortController`](https://developer.mozilla.org/en-US/docs/Web/API/AbortController).\n\n    @example\n    ```\n    import got from 'got';\n\n    const abortController = new AbortController();\n\n    const request = got('https://httpbin.org/anything', {\n        signal: abortController.signal\n    });\n\n    setTimeout(() => {\n        abortController.abort();\n    }, 100);\n    ```\n    */\n    get signal() {\n        return this._internals.signal;\n    }\n    set signal(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.object(value);\n        this._internals.signal = value;\n    }\n    /**\n    Ignore invalid cookies instead of throwing an error.\n    Only useful when the `cookieJar` option has been set. Not recommended.\n\n    @default false\n    */\n    get ignoreInvalidCookies() {\n        return this._internals.ignoreInvalidCookies;\n    }\n    set ignoreInvalidCookies(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.boolean(value);\n        this._internals.ignoreInvalidCookies = value;\n    }\n    /**\n    Query string that will be added to the request URL.\n    This will override the query string in `url`.\n\n    If you need to pass in an array, you can do it using a `URLSearchParams` instance.\n\n    @example\n    ```\n    import got from 'got';\n\n    const searchParams = new URLSearchParams([['key', 'a'], ['key', 'b']]);\n\n    await got('https://example.com', {searchParams});\n\n    console.log(searchParams.toString());\n    //=> 'key=a&key=b'\n    ```\n    */\n    get searchParams() {\n        if (this._internals.url) {\n            return this._internals.url.searchParams;\n        }\n        if (this._internals.searchParams === undefined) {\n            this._internals.searchParams = new URLSearchParams();\n        }\n        return this._internals.searchParams;\n    }\n    set searchParams(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].string, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].object, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value);\n        const url = this._internals.url;\n        if (value === undefined) {\n            this._internals.searchParams = undefined;\n            if (url) {\n                url.search = '';\n            }\n            return;\n        }\n        const searchParameters = this.searchParams;\n        let updated;\n        if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].string(value)) {\n            updated = new URLSearchParams(value);\n        }\n        else if (value instanceof URLSearchParams) {\n            updated = value;\n        }\n        else {\n            validateSearchParameters(value);\n            updated = new URLSearchParams();\n            // eslint-disable-next-line guard-for-in\n            for (const key in value) {\n                const entry = value[key];\n                if (entry === null) {\n                    updated.append(key, '');\n                }\n                else if (entry === undefined) {\n                    searchParameters.delete(key);\n                }\n                else {\n                    updated.append(key, entry);\n                }\n            }\n        }\n        if (this._merging) {\n            // These keys will be replaced\n            for (const key of updated.keys()) {\n                searchParameters.delete(key);\n            }\n            for (const [key, value] of updated) {\n                searchParameters.append(key, value);\n            }\n        }\n        else if (url) {\n            url.search = searchParameters.toString();\n        }\n        else {\n            this._internals.searchParams = searchParameters;\n        }\n    }\n    get searchParameters() {\n        throw new Error('The `searchParameters` option does not exist. Use `searchParams` instead.');\n    }\n    set searchParameters(_value) {\n        throw new Error('The `searchParameters` option does not exist. Use `searchParams` instead.');\n    }\n    get dnsLookup() {\n        return this._internals.dnsLookup;\n    }\n    set dnsLookup(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].function_, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value);\n        this._internals.dnsLookup = value;\n    }\n    /**\n    An instance of [`CacheableLookup`](https://github.com/szmarczak/cacheable-lookup) used for making DNS lookups.\n    Useful when making lots of requests to different *public* hostnames.\n\n    `CacheableLookup` uses `dns.resolver4(..)` and `dns.resolver6(...)` under the hood and fall backs to `dns.lookup(...)` when the first two fail, which may lead to additional delay.\n\n    __Note__: This should stay disabled when making requests to internal hostnames such as `localhost`, `database.local` etc.\n\n    @default false\n    */\n    get dnsCache() {\n        return this._internals.dnsCache;\n    }\n    set dnsCache(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].object, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].boolean, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value);\n        if (value === true) {\n            this._internals.dnsCache = getGlobalDnsCache();\n        }\n        else if (value === false) {\n            this._internals.dnsCache = undefined;\n        }\n        else {\n            this._internals.dnsCache = value;\n        }\n    }\n    /**\n    User data. `context` is shallow merged and enumerable. If it contains non-enumerable properties they will NOT be merged.\n\n    @example\n    ```\n    import got from 'got';\n\n    const instance = got.extend({\n        hooks: {\n            beforeRequest: [\n                options => {\n                    if (!options.context || !options.context.token) {\n                        throw new Error('Token required');\n                    }\n\n                    options.headers.token = options.context.token;\n                }\n            ]\n        }\n    });\n\n    const context = {\n        token: 'secret'\n    };\n\n    const response = await instance('https://httpbin.org/headers', {context});\n\n    // Let's see the headers\n    console.log(response.body);\n    ```\n    */\n    get context() {\n        return this._internals.context;\n    }\n    set context(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.object(value);\n        if (this._merging) {\n            Object.assign(this._internals.context, value);\n        }\n        else {\n            this._internals.context = { ...value };\n        }\n    }\n    /**\n    Hooks allow modifications during the request lifecycle.\n    Hook functions may be async and are run serially.\n    */\n    get hooks() {\n        return this._internals.hooks;\n    }\n    set hooks(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.object(value);\n        // eslint-disable-next-line guard-for-in\n        for (const knownHookEvent in value) {\n            if (!(knownHookEvent in this._internals.hooks)) {\n                throw new Error(`Unexpected hook event: ${knownHookEvent}`);\n            }\n            const typedKnownHookEvent = knownHookEvent;\n            const hooks = value[typedKnownHookEvent];\n            _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].array, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], hooks);\n            if (hooks) {\n                for (const hook of hooks) {\n                    _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.function_(hook);\n                }\n            }\n            if (this._merging) {\n                if (hooks) {\n                    // @ts-expect-error FIXME\n                    this._internals.hooks[typedKnownHookEvent].push(...hooks);\n                }\n            }\n            else {\n                if (!hooks) {\n                    throw new Error(`Missing hook event: ${knownHookEvent}`);\n                }\n                // @ts-expect-error FIXME\n                this._internals.hooks[knownHookEvent] = [...hooks];\n            }\n        }\n    }\n    /**\n    Defines if redirect responses should be followed automatically.\n\n    Note that if a `303` is sent by the server in response to any request type (`POST`, `DELETE`, etc.), Got will automatically request the resource pointed to in the location header via `GET`.\n    This is in accordance with [the spec](https://tools.ietf.org/html/rfc7231#section-6.4.4). You can optionally turn on this behavior also for other redirect codes - see `methodRewriting`.\n\n    @default true\n    */\n    get followRedirect() {\n        return this._internals.followRedirect;\n    }\n    set followRedirect(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.boolean(value);\n        this._internals.followRedirect = value;\n    }\n    get followRedirects() {\n        throw new TypeError('The `followRedirects` option does not exist. Use `followRedirect` instead.');\n    }\n    set followRedirects(_value) {\n        throw new TypeError('The `followRedirects` option does not exist. Use `followRedirect` instead.');\n    }\n    /**\n    If exceeded, the request will be aborted and a `MaxRedirectsError` will be thrown.\n\n    @default 10\n    */\n    get maxRedirects() {\n        return this._internals.maxRedirects;\n    }\n    set maxRedirects(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.number(value);\n        this._internals.maxRedirects = value;\n    }\n    /**\n    A cache adapter instance for storing cached response data.\n\n    @default false\n    */\n    get cache() {\n        return this._internals.cache;\n    }\n    set cache(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].object, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].string, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].boolean, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value);\n        if (value === true) {\n            this._internals.cache = globalCache;\n        }\n        else if (value === false) {\n            this._internals.cache = undefined;\n        }\n        else {\n            this._internals.cache = value;\n        }\n    }\n    /**\n    Determines if a `got.HTTPError` is thrown for unsuccessful responses.\n\n    If this is disabled, requests that encounter an error status code will be resolved with the `response` instead of throwing.\n    This may be useful if you are checking for resource availability and are expecting error responses.\n\n    @default true\n    */\n    get throwHttpErrors() {\n        return this._internals.throwHttpErrors;\n    }\n    set throwHttpErrors(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.boolean(value);\n        this._internals.throwHttpErrors = value;\n    }\n    get username() {\n        const url = this._internals.url;\n        const value = url ? url.username : this._internals.username;\n        return decodeURIComponent(value);\n    }\n    set username(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.string(value);\n        const url = this._internals.url;\n        const fixedValue = encodeURIComponent(value);\n        if (url) {\n            url.username = fixedValue;\n        }\n        else {\n            this._internals.username = fixedValue;\n        }\n    }\n    get password() {\n        const url = this._internals.url;\n        const value = url ? url.password : this._internals.password;\n        return decodeURIComponent(value);\n    }\n    set password(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.string(value);\n        const url = this._internals.url;\n        const fixedValue = encodeURIComponent(value);\n        if (url) {\n            url.password = fixedValue;\n        }\n        else {\n            this._internals.password = fixedValue;\n        }\n    }\n    /**\n    If set to `true`, Got will additionally accept HTTP2 requests.\n\n    It will choose either HTTP/1.1 or HTTP/2 depending on the ALPN protocol.\n\n    __Note__: This option requires Node.js 15.10.0 or newer as HTTP/2 support on older Node.js versions is very buggy.\n\n    __Note__: Overriding `options.request` will disable HTTP2 support.\n\n    @default false\n\n    @example\n    ```\n    import got from 'got';\n\n    const {headers} = await got('https://nghttp2.org/httpbin/anything', {http2: true});\n\n    console.log(headers.via);\n    //=> '2 nghttpx'\n    ```\n    */\n    get http2() {\n        return this._internals.http2;\n    }\n    set http2(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.boolean(value);\n        this._internals.http2 = value;\n    }\n    /**\n    Set this to `true` to allow sending body for the `GET` method.\n    However, the [HTTP/2 specification](https://tools.ietf.org/html/rfc7540#section-8.1.3) says that `An HTTP GET request includes request header fields and no payload body`, therefore when using the HTTP/2 protocol this option will have no effect.\n    This option is only meant to interact with non-compliant servers when you have no other choice.\n\n    __Note__: The [RFC 7231](https://tools.ietf.org/html/rfc7231#section-4.3.1) doesn't specify any particular behavior for the GET method having a payload, therefore __it's considered an [anti-pattern](https://en.wikipedia.org/wiki/Anti-pattern)__.\n\n    @default false\n    */\n    get allowGetBody() {\n        return this._internals.allowGetBody;\n    }\n    set allowGetBody(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.boolean(value);\n        this._internals.allowGetBody = value;\n    }\n    /**\n    Request headers.\n\n    Existing headers will be overwritten. Headers set to `undefined` will be omitted.\n\n    @default {}\n    */\n    get headers() {\n        return this._internals.headers;\n    }\n    set headers(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.plainObject(value);\n        if (this._merging) {\n            Object.assign(this._internals.headers, (0,lowercase_keys__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(value));\n        }\n        else {\n            this._internals.headers = (0,lowercase_keys__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(value);\n        }\n    }\n    /**\n    Specifies if the HTTP request method should be [rewritten as `GET`](https://tools.ietf.org/html/rfc7231#section-6.4) on redirects.\n\n    As the [specification](https://tools.ietf.org/html/rfc7231#section-6.4) prefers to rewrite the HTTP method only on `303` responses, this is Got's default behavior.\n    Setting `methodRewriting` to `true` will also rewrite `301` and `302` responses, as allowed by the spec. This is the behavior followed by `curl` and browsers.\n\n    __Note__: Got never performs method rewriting on `307` and `308` responses, as this is [explicitly prohibited by the specification](https://www.rfc-editor.org/rfc/rfc7231#section-6.4.7).\n\n    @default false\n    */\n    get methodRewriting() {\n        return this._internals.methodRewriting;\n    }\n    set methodRewriting(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.boolean(value);\n        this._internals.methodRewriting = value;\n    }\n    /**\n    Indicates which DNS record family to use.\n\n    Values:\n    - `undefined`: IPv4 (if present) or IPv6\n    - `4`: Only IPv4\n    - `6`: Only IPv6\n\n    @default undefined\n    */\n    get dnsLookupIpVersion() {\n        return this._internals.dnsLookupIpVersion;\n    }\n    set dnsLookupIpVersion(value) {\n        if (value !== undefined && value !== 4 && value !== 6) {\n            throw new TypeError(`Invalid DNS lookup IP version: ${value}`);\n        }\n        this._internals.dnsLookupIpVersion = value;\n    }\n    /**\n    A function used to parse JSON responses.\n\n    @example\n    ```\n    import got from 'got';\n    import Bourne from '@hapi/bourne';\n\n    const parsed = await got('https://example.com', {\n        parseJson: text => Bourne.parse(text)\n    }).json();\n\n    console.log(parsed);\n    ```\n    */\n    get parseJson() {\n        return this._internals.parseJson;\n    }\n    set parseJson(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.function_(value);\n        this._internals.parseJson = value;\n    }\n    /**\n    A function used to stringify the body of JSON requests.\n\n    @example\n    ```\n    import got from 'got';\n\n    await got.post('https://example.com', {\n        stringifyJson: object => JSON.stringify(object, (key, value) => {\n            if (key.startsWith('_')) {\n                return;\n            }\n\n            return value;\n        }),\n        json: {\n            some: 'payload',\n            _ignoreMe: 1234\n        }\n    });\n    ```\n\n    @example\n    ```\n    import got from 'got';\n\n    await got.post('https://example.com', {\n        stringifyJson: object => JSON.stringify(object, (key, value) => {\n            if (typeof value === 'number') {\n                return value.toString();\n            }\n\n            return value;\n        }),\n        json: {\n            some: 'payload',\n            number: 1\n        }\n    });\n    ```\n    */\n    get stringifyJson() {\n        return this._internals.stringifyJson;\n    }\n    set stringifyJson(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.function_(value);\n        this._internals.stringifyJson = value;\n    }\n    /**\n    An object representing `limit`, `calculateDelay`, `methods`, `statusCodes`, `maxRetryAfter` and `errorCodes` fields for maximum retry count, retry handler, allowed methods, allowed status codes, maximum [`Retry-After`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After) time and allowed error codes.\n\n    Delays between retries counts with function `1000 * Math.pow(2, retry) + Math.random() * 100`, where `retry` is attempt number (starts from 1).\n\n    The `calculateDelay` property is a `function` that receives an object with `attemptCount`, `retryOptions`, `error` and `computedValue` properties for current retry count, the retry options, error and default computed value.\n    The function must return a delay in milliseconds (or a Promise resolving with it) (`0` return value cancels retry).\n\n    By default, it retries *only* on the specified methods, status codes, and on these network errors:\n\n    - `ETIMEDOUT`: One of the [timeout](#timeout) limits were reached.\n    - `ECONNRESET`: Connection was forcibly closed by a peer.\n    - `EADDRINUSE`: Could not bind to any free port.\n    - `ECONNREFUSED`: Connection was refused by the server.\n    - `EPIPE`: The remote side of the stream being written has been closed.\n    - `ENOTFOUND`: Couldn't resolve the hostname to an IP address.\n    - `ENETUNREACH`: No internet connection.\n    - `EAI_AGAIN`: DNS lookup timed out.\n\n    __Note__: If `maxRetryAfter` is set to `undefined`, it will use `options.timeout`.\n    __Note__: If [`Retry-After`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After) header is greater than `maxRetryAfter`, it will cancel the request.\n    */\n    get retry() {\n        return this._internals.retry;\n    }\n    set retry(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.plainObject(value);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].function_, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value.calculateDelay);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].number, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value.maxRetryAfter);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].number, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value.limit);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].array, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value.methods);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].array, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value.statusCodes);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].array, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value.errorCodes);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].number, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value.noise);\n        if (value.noise && Math.abs(value.noise) > 100) {\n            throw new Error(`The maximum acceptable retry noise is +/- 100ms, got ${value.noise}`);\n        }\n        for (const key in value) {\n            if (!(key in this._internals.retry)) {\n                throw new Error(`Unexpected retry option: ${key}`);\n            }\n        }\n        if (this._merging) {\n            Object.assign(this._internals.retry, value);\n        }\n        else {\n            this._internals.retry = { ...value };\n        }\n        const { retry } = this._internals;\n        retry.methods = [...new Set(retry.methods.map(method => method.toUpperCase()))];\n        retry.statusCodes = [...new Set(retry.statusCodes)];\n        retry.errorCodes = [...new Set(retry.errorCodes)];\n    }\n    /**\n    From `http.RequestOptions`.\n\n    The IP address used to send the request from.\n    */\n    get localAddress() {\n        return this._internals.localAddress;\n    }\n    set localAddress(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].string, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value);\n        this._internals.localAddress = value;\n    }\n    /**\n    The HTTP method used to make the request.\n\n    @default 'GET'\n    */\n    get method() {\n        return this._internals.method;\n    }\n    set method(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.string(value);\n        this._internals.method = value.toUpperCase();\n    }\n    get createConnection() {\n        return this._internals.createConnection;\n    }\n    set createConnection(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].function_, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value);\n        this._internals.createConnection = value;\n    }\n    /**\n    From `http-cache-semantics`\n\n    @default {}\n    */\n    get cacheOptions() {\n        return this._internals.cacheOptions;\n    }\n    set cacheOptions(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.plainObject(value);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].boolean, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value.shared);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].number, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value.cacheHeuristic);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].number, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value.immutableMinTimeToLive);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].boolean, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value.ignoreCargoCult);\n        for (const key in value) {\n            if (!(key in this._internals.cacheOptions)) {\n                throw new Error(`Cache option \\`${key}\\` does not exist`);\n            }\n        }\n        if (this._merging) {\n            Object.assign(this._internals.cacheOptions, value);\n        }\n        else {\n            this._internals.cacheOptions = { ...value };\n        }\n    }\n    /**\n    Options for the advanced HTTPS API.\n    */\n    get https() {\n        return this._internals.https;\n    }\n    set https(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.plainObject(value);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].boolean, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value.rejectUnauthorized);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].function_, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value.checkServerIdentity);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].string, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].object, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].array, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value.certificateAuthority);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].string, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].object, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].array, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value.key);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].string, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].object, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].array, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value.certificate);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].string, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value.passphrase);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].string, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].buffer, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].array, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value.pfx);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].array, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value.alpnProtocols);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].string, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value.ciphers);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].string, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].buffer, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value.dhparam);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].string, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value.signatureAlgorithms);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].string, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value.minVersion);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].string, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value.maxVersion);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].boolean, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value.honorCipherOrder);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].number, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value.tlsSessionLifetime);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].string, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value.ecdhCurve);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].string, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].buffer, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].array, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value.certificateRevocationLists);\n        for (const key in value) {\n            if (!(key in this._internals.https)) {\n                throw new Error(`HTTPS option \\`${key}\\` does not exist`);\n            }\n        }\n        if (this._merging) {\n            Object.assign(this._internals.https, value);\n        }\n        else {\n            this._internals.https = { ...value };\n        }\n    }\n    /**\n    [Encoding](https://nodejs.org/api/buffer.html#buffer_buffers_and_character_encodings) to be used on `setEncoding` of the response data.\n\n    To get a [`Buffer`](https://nodejs.org/api/buffer.html), you need to set `responseType` to `buffer` instead.\n    Don't set this option to `null`.\n\n    __Note__: This doesn't affect streams! Instead, you need to do `got.stream(...).setEncoding(encoding)`.\n\n    @default 'utf-8'\n    */\n    get encoding() {\n        return this._internals.encoding;\n    }\n    set encoding(value) {\n        if (value === null) {\n            throw new TypeError('To get a Buffer, set `options.responseType` to `buffer` instead');\n        }\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].string, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value);\n        this._internals.encoding = value;\n    }\n    /**\n    When set to `true` the promise will return the Response body instead of the Response object.\n\n    @default false\n    */\n    get resolveBodyOnly() {\n        return this._internals.resolveBodyOnly;\n    }\n    set resolveBodyOnly(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.boolean(value);\n        this._internals.resolveBodyOnly = value;\n    }\n    /**\n    Returns a `Stream` instead of a `Promise`.\n    This is equivalent to calling `got.stream(url, options?)`.\n\n    @default false\n    */\n    get isStream() {\n        return this._internals.isStream;\n    }\n    set isStream(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.boolean(value);\n        this._internals.isStream = value;\n    }\n    /**\n    The parsing method.\n\n    The promise also has `.text()`, `.json()` and `.buffer()` methods which return another Got promise for the parsed body.\n\n    It's like setting the options to `{responseType: 'json', resolveBodyOnly: true}` but without affecting the main Got promise.\n\n    __Note__: When using streams, this option is ignored.\n\n    @example\n    ```\n    const responsePromise = got(url);\n    const bufferPromise = responsePromise.buffer();\n    const jsonPromise = responsePromise.json();\n\n    const [response, buffer, json] = Promise.all([responsePromise, bufferPromise, jsonPromise]);\n    // `response` is an instance of Got Response\n    // `buffer` is an instance of Buffer\n    // `json` is an object\n    ```\n\n    @example\n    ```\n    // This\n    const body = await got(url).json();\n\n    // is semantically the same as this\n    const body = await got(url, {responseType: 'json', resolveBodyOnly: true});\n    ```\n    */\n    get responseType() {\n        return this._internals.responseType;\n    }\n    set responseType(value) {\n        if (value === undefined) {\n            this._internals.responseType = 'text';\n            return;\n        }\n        if (value !== 'text' && value !== 'buffer' && value !== 'json') {\n            throw new Error(`Invalid \\`responseType\\` option: ${value}`);\n        }\n        this._internals.responseType = value;\n    }\n    get pagination() {\n        return this._internals.pagination;\n    }\n    set pagination(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.object(value);\n        if (this._merging) {\n            Object.assign(this._internals.pagination, value);\n        }\n        else {\n            this._internals.pagination = value;\n        }\n    }\n    get auth() {\n        throw new Error('Parameter `auth` is deprecated. Use `username` / `password` instead.');\n    }\n    set auth(_value) {\n        throw new Error('Parameter `auth` is deprecated. Use `username` / `password` instead.');\n    }\n    get setHost() {\n        return this._internals.setHost;\n    }\n    set setHost(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.boolean(value);\n        this._internals.setHost = value;\n    }\n    get maxHeaderSize() {\n        return this._internals.maxHeaderSize;\n    }\n    set maxHeaderSize(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].number, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].undefined], value);\n        this._internals.maxHeaderSize = value;\n    }\n    get enableUnixSockets() {\n        return this._internals.enableUnixSockets;\n    }\n    set enableUnixSockets(value) {\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__.assert.boolean(value);\n        this._internals.enableUnixSockets = value;\n    }\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    toJSON() {\n        return { ...this._internals };\n    }\n    [Symbol.for('nodejs.util.inspect.custom')](_depth, options) {\n        return (0,node_util__WEBPACK_IMPORTED_MODULE_1__.inspect)(this._internals, options);\n    }\n    createNativeRequestOptions() {\n        const internals = this._internals;\n        const url = internals.url;\n        let agent;\n        if (url.protocol === 'https:') {\n            agent = internals.http2 ? internals.agent : internals.agent.https;\n        }\n        else {\n            agent = internals.agent.http;\n        }\n        const { https } = internals;\n        let { pfx } = https;\n        if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].array(pfx) && _sindresorhus_is__WEBPACK_IMPORTED_MODULE_8__[\"default\"].plainObject(pfx[0])) {\n            pfx = pfx.map(object => ({\n                buf: object.buffer,\n                passphrase: object.passphrase,\n            }));\n        }\n        return {\n            ...internals.cacheOptions,\n            ...this._unixOptions,\n            // HTTPS options\n            // eslint-disable-next-line @typescript-eslint/naming-convention\n            ALPNProtocols: https.alpnProtocols,\n            ca: https.certificateAuthority,\n            cert: https.certificate,\n            key: https.key,\n            passphrase: https.passphrase,\n            pfx: https.pfx,\n            rejectUnauthorized: https.rejectUnauthorized,\n            checkServerIdentity: https.checkServerIdentity ?? node_tls__WEBPACK_IMPORTED_MODULE_2__.checkServerIdentity,\n            ciphers: https.ciphers,\n            honorCipherOrder: https.honorCipherOrder,\n            minVersion: https.minVersion,\n            maxVersion: https.maxVersion,\n            sigalgs: https.signatureAlgorithms,\n            sessionTimeout: https.tlsSessionLifetime,\n            dhparam: https.dhparam,\n            ecdhCurve: https.ecdhCurve,\n            crl: https.certificateRevocationLists,\n            // HTTP options\n            lookup: internals.dnsLookup ?? internals.dnsCache?.lookup,\n            family: internals.dnsLookupIpVersion,\n            agent,\n            setHost: internals.setHost,\n            method: internals.method,\n            maxHeaderSize: internals.maxHeaderSize,\n            localAddress: internals.localAddress,\n            headers: internals.headers,\n            createConnection: internals.createConnection,\n            timeout: internals.http2 ? getHttp2TimeoutOption(internals) : undefined,\n            // HTTP/2 options\n            h2session: internals.h2session,\n        };\n    }\n    getRequestFunction() {\n        const url = this._internals.url;\n        const { request } = this._internals;\n        if (!request && url) {\n            return this.getFallbackRequestFunction();\n        }\n        return request;\n    }\n    getFallbackRequestFunction() {\n        const url = this._internals.url;\n        if (!url) {\n            return;\n        }\n        if (url.protocol === 'https:') {\n            if (this._internals.http2) {\n                if (major < 15 || (major === 15 && minor < 10)) {\n                    const error = new Error('To use the `http2` option, install Node.js 15.10.0 or above');\n                    error.code = 'EUNSUPPORTED';\n                    throw error;\n                }\n                return http2_wrapper__WEBPACK_IMPORTED_MODULE_7__.auto;\n            }\n            return node_https__WEBPACK_IMPORTED_MODULE_4__.request;\n        }\n        return node_http__WEBPACK_IMPORTED_MODULE_3__.request;\n    }\n    freeze() {\n        const options = this._internals;\n        Object.freeze(options);\n        Object.freeze(options.hooks);\n        Object.freeze(options.hooks.afterResponse);\n        Object.freeze(options.hooks.beforeError);\n        Object.freeze(options.hooks.beforeRedirect);\n        Object.freeze(options.hooks.beforeRequest);\n        Object.freeze(options.hooks.beforeRetry);\n        Object.freeze(options.hooks.init);\n        Object.freeze(options.https);\n        Object.freeze(options.cacheOptions);\n        Object.freeze(options.agent);\n        Object.freeze(options.headers);\n        Object.freeze(options.timeout);\n        Object.freeze(options.retry);\n        Object.freeze(options.retry.errorCodes);\n        Object.freeze(options.retry.methods);\n        Object.freeze(options.retry.statusCodes);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2NvcmUvb3B0aW9ucy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBbUM7QUFDWTtBQUNBO0FBQy9DO0FBQzZCO0FBQ0U7QUFDZTtBQUNIO0FBQ0k7QUFDTjtBQUNNO0FBQ007QUFDckQsdUJBQXVCLGtEQUFnQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsb0RBQU0sTUFBTSx3REFBRSxTQUFTLHdEQUFFLFNBQVMsd0RBQUUsVUFBVSx3REFBRSxRQUFRLHdEQUFFO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsd0RBQWU7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixlQUFlO0FBQzFDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELElBQUk7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsb0RBQU0sTUFBTSx3REFBRSxZQUFZLHdEQUFFO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxXQUFXLFlBQVk7O0FBRXZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxvREFBTTtBQUNkO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSxJQUFJO0FBQ3BFO0FBQ0E7QUFDQSxZQUFZLG9EQUFNLE1BQU0sd0RBQUUsU0FBUyx3REFBRTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxvREFBTTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxvREFBTTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxvREFBTTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLHNDQUFzQyxhQUFhOztBQUVuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxvREFBTSxNQUFNLHdEQUFFLFNBQVMsd0RBQUUsU0FBUyx3REFBRTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0RBQUU7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG9EQUFNLE1BQU0sd0RBQUUsWUFBWSx3REFBRTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsb0RBQU0sTUFBTSx3REFBRSxTQUFTLHdEQUFFLFVBQVUsd0RBQUU7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBLG9FQUFvRSxRQUFROztBQUU1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxvREFBTTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxvREFBTTtBQUNkO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxlQUFlO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBLFlBQVksb0RBQU0sTUFBTSx3REFBRSxRQUFRLHdEQUFFO0FBQ3BDO0FBQ0E7QUFDQSxvQkFBb0Isb0RBQU07QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQsZUFBZTtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxvREFBTTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsb0RBQU07QUFDZDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG9EQUFNLE1BQU0sd0RBQUUsU0FBUyx3REFBRSxTQUFTLHdEQUFFLFVBQVUsd0RBQUU7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxvREFBTTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG9EQUFNO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxvREFBTTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBLFdBQVcsU0FBUyxxREFBcUQsWUFBWTs7QUFFckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsb0RBQU07QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxvREFBTTtBQUNkO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsb0RBQU07QUFDZDtBQUNBLG1EQUFtRCwwREFBYTtBQUNoRTtBQUNBO0FBQ0Esc0NBQXNDLDBEQUFhO0FBQ25EO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxvREFBTTtBQUNkO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLE1BQU07QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsb0RBQU07QUFDZDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG9EQUFNO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxvREFBTTtBQUNkLFFBQVEsb0RBQU0sTUFBTSx3REFBRSxZQUFZLHdEQUFFO0FBQ3BDLFFBQVEsb0RBQU0sTUFBTSx3REFBRSxTQUFTLHdEQUFFO0FBQ2pDLFFBQVEsb0RBQU0sTUFBTSx3REFBRSxTQUFTLHdEQUFFO0FBQ2pDLFFBQVEsb0RBQU0sTUFBTSx3REFBRSxRQUFRLHdEQUFFO0FBQ2hDLFFBQVEsb0RBQU0sTUFBTSx3REFBRSxRQUFRLHdEQUFFO0FBQ2hDLFFBQVEsb0RBQU0sTUFBTSx3REFBRSxRQUFRLHdEQUFFO0FBQ2hDLFFBQVEsb0RBQU0sTUFBTSx3REFBRSxTQUFTLHdEQUFFO0FBQ2pDO0FBQ0Esb0ZBQW9GLFlBQVk7QUFDaEc7QUFDQTtBQUNBO0FBQ0EsNERBQTRELElBQUk7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsb0RBQU0sTUFBTSx3REFBRSxTQUFTLHdEQUFFO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsb0RBQU07QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG9EQUFNLE1BQU0sd0RBQUUsWUFBWSx3REFBRTtBQUNwQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG9EQUFNO0FBQ2QsUUFBUSxvREFBTSxNQUFNLHdEQUFFLFVBQVUsd0RBQUU7QUFDbEMsUUFBUSxvREFBTSxNQUFNLHdEQUFFLFNBQVMsd0RBQUU7QUFDakMsUUFBUSxvREFBTSxNQUFNLHdEQUFFLFNBQVMsd0RBQUU7QUFDakMsUUFBUSxvREFBTSxNQUFNLHdEQUFFLFVBQVUsd0RBQUU7QUFDbEM7QUFDQTtBQUNBLGtEQUFrRCxJQUFJO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG9EQUFNO0FBQ2QsUUFBUSxvREFBTSxNQUFNLHdEQUFFLFVBQVUsd0RBQUU7QUFDbEMsUUFBUSxvREFBTSxNQUFNLHdEQUFFLFlBQVksd0RBQUU7QUFDcEMsUUFBUSxvREFBTSxNQUFNLHdEQUFFLFNBQVMsd0RBQUUsU0FBUyx3REFBRSxRQUFRLHdEQUFFO0FBQ3RELFFBQVEsb0RBQU0sTUFBTSx3REFBRSxTQUFTLHdEQUFFLFNBQVMsd0RBQUUsUUFBUSx3REFBRTtBQUN0RCxRQUFRLG9EQUFNLE1BQU0sd0RBQUUsU0FBUyx3REFBRSxTQUFTLHdEQUFFLFFBQVEsd0RBQUU7QUFDdEQsUUFBUSxvREFBTSxNQUFNLHdEQUFFLFNBQVMsd0RBQUU7QUFDakMsUUFBUSxvREFBTSxNQUFNLHdEQUFFLFNBQVMsd0RBQUUsU0FBUyx3REFBRSxRQUFRLHdEQUFFO0FBQ3RELFFBQVEsb0RBQU0sTUFBTSx3REFBRSxRQUFRLHdEQUFFO0FBQ2hDLFFBQVEsb0RBQU0sTUFBTSx3REFBRSxTQUFTLHdEQUFFO0FBQ2pDLFFBQVEsb0RBQU0sTUFBTSx3REFBRSxTQUFTLHdEQUFFLFNBQVMsd0RBQUU7QUFDNUMsUUFBUSxvREFBTSxNQUFNLHdEQUFFLFNBQVMsd0RBQUU7QUFDakMsUUFBUSxvREFBTSxNQUFNLHdEQUFFLFNBQVMsd0RBQUU7QUFDakMsUUFBUSxvREFBTSxNQUFNLHdEQUFFLFNBQVMsd0RBQUU7QUFDakMsUUFBUSxvREFBTSxNQUFNLHdEQUFFLFVBQVUsd0RBQUU7QUFDbEMsUUFBUSxvREFBTSxNQUFNLHdEQUFFLFNBQVMsd0RBQUU7QUFDakMsUUFBUSxvREFBTSxNQUFNLHdEQUFFLFNBQVMsd0RBQUU7QUFDakMsUUFBUSxvREFBTSxNQUFNLHdEQUFFLFNBQVMsd0RBQUUsU0FBUyx3REFBRSxRQUFRLHdEQUFFO0FBQ3REO0FBQ0E7QUFDQSxrREFBa0QsSUFBSTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG9EQUFNLE1BQU0sd0RBQUUsU0FBUyx3REFBRTtBQUNqQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG9EQUFNO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG9EQUFNO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsdUNBQXVDLDRDQUE0Qzs7QUFFbkY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaUNBQWlDLDRDQUE0QztBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLE1BQU07QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG9EQUFNO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsb0RBQU07QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG9EQUFNLE1BQU0sd0RBQUUsU0FBUyx3REFBRTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG9EQUFNO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGVBQWUsa0RBQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCLGNBQWMsTUFBTTtBQUNwQixZQUFZLHdEQUFFLGVBQWUsd0RBQUU7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThELHlEQUFtQjtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFVBQVU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwrQ0FBaUI7QUFDeEM7QUFDQSxtQkFBbUIsK0NBQWE7QUFDaEM7QUFDQSxlQUFlLDhDQUFZO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG5mbS1ib3QvLi9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2NvcmUvb3B0aW9ucy5qcz8wOTkwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwcm9jZXNzIGZyb20gJ25vZGU6cHJvY2Vzcyc7XG5pbXBvcnQgeyBwcm9taXNpZnksIGluc3BlY3QgfSBmcm9tICdub2RlOnV0aWwnO1xuaW1wb3J0IHsgY2hlY2tTZXJ2ZXJJZGVudGl0eSB9IGZyb20gJ25vZGU6dGxzJztcbi8vIERPIE5PVCB1c2UgZGVzdHJ1Y3R1cmluZyBmb3IgYGh0dHBzLnJlcXVlc3RgIGFuZCBgaHR0cC5yZXF1ZXN0YCBhcyBpdCdzIG5vdCBjb21wYXRpYmxlIHdpdGggYG5vY2tgLlxuaW1wb3J0IGh0dHAgZnJvbSAnbm9kZTpodHRwJztcbmltcG9ydCBodHRwcyBmcm9tICdub2RlOmh0dHBzJztcbmltcG9ydCBpcywgeyBhc3NlcnQgfSBmcm9tICdAc2luZHJlc29yaHVzL2lzJztcbmltcG9ydCBsb3dlcmNhc2VLZXlzIGZyb20gJ2xvd2VyY2FzZS1rZXlzJztcbmltcG9ydCBDYWNoZWFibGVMb29rdXAgZnJvbSAnY2FjaGVhYmxlLWxvb2t1cCc7XG5pbXBvcnQgaHR0cDJ3cmFwcGVyIGZyb20gJ2h0dHAyLXdyYXBwZXInO1xuaW1wb3J0IHsgaXNGb3JtRGF0YSB9IGZyb20gJ2Zvcm0tZGF0YS1lbmNvZGVyJztcbmltcG9ydCBwYXJzZUxpbmtIZWFkZXIgZnJvbSAnLi9wYXJzZS1saW5rLWhlYWRlci5qcyc7XG5jb25zdCBbbWFqb3IsIG1pbm9yXSA9IHByb2Nlc3MudmVyc2lvbnMubm9kZS5zcGxpdCgnLicpLm1hcChOdW1iZXIpO1xuZnVuY3Rpb24gdmFsaWRhdGVTZWFyY2hQYXJhbWV0ZXJzKHNlYXJjaFBhcmFtZXRlcnMpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ3VhcmQtZm9yLWluXG4gICAgZm9yIChjb25zdCBrZXkgaW4gc2VhcmNoUGFyYW1ldGVycykge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHNlYXJjaFBhcmFtZXRlcnNba2V5XTtcbiAgICAgICAgYXNzZXJ0LmFueShbaXMuc3RyaW5nLCBpcy5udW1iZXIsIGlzLmJvb2xlYW4sIGlzLm51bGxfLCBpcy51bmRlZmluZWRdLCB2YWx1ZSk7XG4gICAgfVxufVxuY29uc3QgZ2xvYmFsQ2FjaGUgPSBuZXcgTWFwKCk7XG5sZXQgZ2xvYmFsRG5zQ2FjaGU7XG5jb25zdCBnZXRHbG9iYWxEbnNDYWNoZSA9ICgpID0+IHtcbiAgICBpZiAoZ2xvYmFsRG5zQ2FjaGUpIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbERuc0NhY2hlO1xuICAgIH1cbiAgICBnbG9iYWxEbnNDYWNoZSA9IG5ldyBDYWNoZWFibGVMb29rdXAoKTtcbiAgICByZXR1cm4gZ2xvYmFsRG5zQ2FjaGU7XG59O1xuY29uc3QgZGVmYXVsdEludGVybmFscyA9IHtcbiAgICByZXF1ZXN0OiB1bmRlZmluZWQsXG4gICAgYWdlbnQ6IHtcbiAgICAgICAgaHR0cDogdW5kZWZpbmVkLFxuICAgICAgICBodHRwczogdW5kZWZpbmVkLFxuICAgICAgICBodHRwMjogdW5kZWZpbmVkLFxuICAgIH0sXG4gICAgaDJzZXNzaW9uOiB1bmRlZmluZWQsXG4gICAgZGVjb21wcmVzczogdHJ1ZSxcbiAgICB0aW1lb3V0OiB7XG4gICAgICAgIGNvbm5lY3Q6IHVuZGVmaW5lZCxcbiAgICAgICAgbG9va3VwOiB1bmRlZmluZWQsXG4gICAgICAgIHJlYWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgcmVxdWVzdDogdW5kZWZpbmVkLFxuICAgICAgICByZXNwb25zZTogdW5kZWZpbmVkLFxuICAgICAgICBzZWN1cmVDb25uZWN0OiB1bmRlZmluZWQsXG4gICAgICAgIHNlbmQ6IHVuZGVmaW5lZCxcbiAgICAgICAgc29ja2V0OiB1bmRlZmluZWQsXG4gICAgfSxcbiAgICBwcmVmaXhVcmw6ICcnLFxuICAgIGJvZHk6IHVuZGVmaW5lZCxcbiAgICBmb3JtOiB1bmRlZmluZWQsXG4gICAganNvbjogdW5kZWZpbmVkLFxuICAgIGNvb2tpZUphcjogdW5kZWZpbmVkLFxuICAgIGlnbm9yZUludmFsaWRDb29raWVzOiBmYWxzZSxcbiAgICBzZWFyY2hQYXJhbXM6IHVuZGVmaW5lZCxcbiAgICBkbnNMb29rdXA6IHVuZGVmaW5lZCxcbiAgICBkbnNDYWNoZTogdW5kZWZpbmVkLFxuICAgIGNvbnRleHQ6IHt9LFxuICAgIGhvb2tzOiB7XG4gICAgICAgIGluaXQ6IFtdLFxuICAgICAgICBiZWZvcmVSZXF1ZXN0OiBbXSxcbiAgICAgICAgYmVmb3JlRXJyb3I6IFtdLFxuICAgICAgICBiZWZvcmVSZWRpcmVjdDogW10sXG4gICAgICAgIGJlZm9yZVJldHJ5OiBbXSxcbiAgICAgICAgYWZ0ZXJSZXNwb25zZTogW10sXG4gICAgfSxcbiAgICBmb2xsb3dSZWRpcmVjdDogdHJ1ZSxcbiAgICBtYXhSZWRpcmVjdHM6IDEwLFxuICAgIGNhY2hlOiB1bmRlZmluZWQsXG4gICAgdGhyb3dIdHRwRXJyb3JzOiB0cnVlLFxuICAgIHVzZXJuYW1lOiAnJyxcbiAgICBwYXNzd29yZDogJycsXG4gICAgaHR0cDI6IGZhbHNlLFxuICAgIGFsbG93R2V0Qm9keTogZmFsc2UsXG4gICAgaGVhZGVyczoge1xuICAgICAgICAndXNlci1hZ2VudCc6ICdnb3QgKGh0dHBzOi8vZ2l0aHViLmNvbS9zaW5kcmVzb3JodXMvZ290KScsXG4gICAgfSxcbiAgICBtZXRob2RSZXdyaXRpbmc6IGZhbHNlLFxuICAgIGRuc0xvb2t1cElwVmVyc2lvbjogdW5kZWZpbmVkLFxuICAgIHBhcnNlSnNvbjogSlNPTi5wYXJzZSxcbiAgICBzdHJpbmdpZnlKc29uOiBKU09OLnN0cmluZ2lmeSxcbiAgICByZXRyeToge1xuICAgICAgICBsaW1pdDogMixcbiAgICAgICAgbWV0aG9kczogW1xuICAgICAgICAgICAgJ0dFVCcsXG4gICAgICAgICAgICAnUFVUJyxcbiAgICAgICAgICAgICdIRUFEJyxcbiAgICAgICAgICAgICdERUxFVEUnLFxuICAgICAgICAgICAgJ09QVElPTlMnLFxuICAgICAgICAgICAgJ1RSQUNFJyxcbiAgICAgICAgXSxcbiAgICAgICAgc3RhdHVzQ29kZXM6IFtcbiAgICAgICAgICAgIDQwOCxcbiAgICAgICAgICAgIDQxMyxcbiAgICAgICAgICAgIDQyOSxcbiAgICAgICAgICAgIDUwMCxcbiAgICAgICAgICAgIDUwMixcbiAgICAgICAgICAgIDUwMyxcbiAgICAgICAgICAgIDUwNCxcbiAgICAgICAgICAgIDUyMSxcbiAgICAgICAgICAgIDUyMixcbiAgICAgICAgICAgIDUyNCxcbiAgICAgICAgXSxcbiAgICAgICAgZXJyb3JDb2RlczogW1xuICAgICAgICAgICAgJ0VUSU1FRE9VVCcsXG4gICAgICAgICAgICAnRUNPTk5SRVNFVCcsXG4gICAgICAgICAgICAnRUFERFJJTlVTRScsXG4gICAgICAgICAgICAnRUNPTk5SRUZVU0VEJyxcbiAgICAgICAgICAgICdFUElQRScsXG4gICAgICAgICAgICAnRU5PVEZPVU5EJyxcbiAgICAgICAgICAgICdFTkVUVU5SRUFDSCcsXG4gICAgICAgICAgICAnRUFJX0FHQUlOJyxcbiAgICAgICAgXSxcbiAgICAgICAgbWF4UmV0cnlBZnRlcjogdW5kZWZpbmVkLFxuICAgICAgICBjYWxjdWxhdGVEZWxheTogKHsgY29tcHV0ZWRWYWx1ZSB9KSA9PiBjb21wdXRlZFZhbHVlLFxuICAgICAgICBiYWNrb2ZmTGltaXQ6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgICAgICAgbm9pc2U6IDEwMCxcbiAgICB9LFxuICAgIGxvY2FsQWRkcmVzczogdW5kZWZpbmVkLFxuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgY3JlYXRlQ29ubmVjdGlvbjogdW5kZWZpbmVkLFxuICAgIGNhY2hlT3B0aW9uczoge1xuICAgICAgICBzaGFyZWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgY2FjaGVIZXVyaXN0aWM6IHVuZGVmaW5lZCxcbiAgICAgICAgaW1tdXRhYmxlTWluVGltZVRvTGl2ZTogdW5kZWZpbmVkLFxuICAgICAgICBpZ25vcmVDYXJnb0N1bHQ6IHVuZGVmaW5lZCxcbiAgICB9LFxuICAgIGh0dHBzOiB7XG4gICAgICAgIGFscG5Qcm90b2NvbHM6IHVuZGVmaW5lZCxcbiAgICAgICAgcmVqZWN0VW5hdXRob3JpemVkOiB1bmRlZmluZWQsXG4gICAgICAgIGNoZWNrU2VydmVySWRlbnRpdHk6IHVuZGVmaW5lZCxcbiAgICAgICAgY2VydGlmaWNhdGVBdXRob3JpdHk6IHVuZGVmaW5lZCxcbiAgICAgICAga2V5OiB1bmRlZmluZWQsXG4gICAgICAgIGNlcnRpZmljYXRlOiB1bmRlZmluZWQsXG4gICAgICAgIHBhc3NwaHJhc2U6IHVuZGVmaW5lZCxcbiAgICAgICAgcGZ4OiB1bmRlZmluZWQsXG4gICAgICAgIGNpcGhlcnM6IHVuZGVmaW5lZCxcbiAgICAgICAgaG9ub3JDaXBoZXJPcmRlcjogdW5kZWZpbmVkLFxuICAgICAgICBtaW5WZXJzaW9uOiB1bmRlZmluZWQsXG4gICAgICAgIG1heFZlcnNpb246IHVuZGVmaW5lZCxcbiAgICAgICAgc2lnbmF0dXJlQWxnb3JpdGhtczogdW5kZWZpbmVkLFxuICAgICAgICB0bHNTZXNzaW9uTGlmZXRpbWU6IHVuZGVmaW5lZCxcbiAgICAgICAgZGhwYXJhbTogdW5kZWZpbmVkLFxuICAgICAgICBlY2RoQ3VydmU6IHVuZGVmaW5lZCxcbiAgICAgICAgY2VydGlmaWNhdGVSZXZvY2F0aW9uTGlzdHM6IHVuZGVmaW5lZCxcbiAgICB9LFxuICAgIGVuY29kaW5nOiB1bmRlZmluZWQsXG4gICAgcmVzb2x2ZUJvZHlPbmx5OiBmYWxzZSxcbiAgICBpc1N0cmVhbTogZmFsc2UsXG4gICAgcmVzcG9uc2VUeXBlOiAndGV4dCcsXG4gICAgdXJsOiB1bmRlZmluZWQsXG4gICAgcGFnaW5hdGlvbjoge1xuICAgICAgICB0cmFuc2Zvcm0ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5yZXF1ZXN0Lm9wdGlvbnMucmVzcG9uc2VUeXBlID09PSAnanNvbicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuYm9keTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICB9LFxuICAgICAgICBwYWdpbmF0ZSh7IHJlc3BvbnNlIH0pIHtcbiAgICAgICAgICAgIGNvbnN0IHJhd0xpbmtIZWFkZXIgPSByZXNwb25zZS5oZWFkZXJzLmxpbms7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHJhd0xpbmtIZWFkZXIgIT09ICdzdHJpbmcnIHx8IHJhd0xpbmtIZWFkZXIudHJpbSgpID09PSAnJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlTGlua0hlYWRlcihyYXdMaW5rSGVhZGVyKTtcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBwYXJzZWQuZmluZChlbnRyeSA9PiBlbnRyeS5wYXJhbWV0ZXJzLnJlbCA9PT0gJ25leHQnIHx8IGVudHJ5LnBhcmFtZXRlcnMucmVsID09PSAnXCJuZXh0XCInKTtcbiAgICAgICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBuZXcgVVJMKG5leHQucmVmZXJlbmNlLCByZXNwb25zZS51cmwpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIGZpbHRlcjogKCkgPT4gdHJ1ZSxcbiAgICAgICAgc2hvdWxkQ29udGludWU6ICgpID0+IHRydWUsXG4gICAgICAgIGNvdW50TGltaXQ6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgICAgICAgYmFja29mZjogMCxcbiAgICAgICAgcmVxdWVzdExpbWl0OiAxMDAwMCxcbiAgICAgICAgc3RhY2tBbGxJdGVtczogZmFsc2UsXG4gICAgfSxcbiAgICBzZXRIb3N0OiB0cnVlLFxuICAgIG1heEhlYWRlclNpemU6IHVuZGVmaW5lZCxcbiAgICBzaWduYWw6IHVuZGVmaW5lZCxcbiAgICBlbmFibGVVbml4U29ja2V0czogZmFsc2UsXG59O1xuY29uc3QgY2xvbmVJbnRlcm5hbHMgPSAoaW50ZXJuYWxzKSA9PiB7XG4gICAgY29uc3QgeyBob29rcywgcmV0cnkgfSA9IGludGVybmFscztcbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgIC4uLmludGVybmFscyxcbiAgICAgICAgY29udGV4dDogeyAuLi5pbnRlcm5hbHMuY29udGV4dCB9LFxuICAgICAgICBjYWNoZU9wdGlvbnM6IHsgLi4uaW50ZXJuYWxzLmNhY2hlT3B0aW9ucyB9LFxuICAgICAgICBodHRwczogeyAuLi5pbnRlcm5hbHMuaHR0cHMgfSxcbiAgICAgICAgYWdlbnQ6IHsgLi4uaW50ZXJuYWxzLmFnZW50IH0sXG4gICAgICAgIGhlYWRlcnM6IHsgLi4uaW50ZXJuYWxzLmhlYWRlcnMgfSxcbiAgICAgICAgcmV0cnk6IHtcbiAgICAgICAgICAgIC4uLnJldHJ5LFxuICAgICAgICAgICAgZXJyb3JDb2RlczogWy4uLnJldHJ5LmVycm9yQ29kZXNdLFxuICAgICAgICAgICAgbWV0aG9kczogWy4uLnJldHJ5Lm1ldGhvZHNdLFxuICAgICAgICAgICAgc3RhdHVzQ29kZXM6IFsuLi5yZXRyeS5zdGF0dXNDb2Rlc10sXG4gICAgICAgIH0sXG4gICAgICAgIHRpbWVvdXQ6IHsgLi4uaW50ZXJuYWxzLnRpbWVvdXQgfSxcbiAgICAgICAgaG9va3M6IHtcbiAgICAgICAgICAgIGluaXQ6IFsuLi5ob29rcy5pbml0XSxcbiAgICAgICAgICAgIGJlZm9yZVJlcXVlc3Q6IFsuLi5ob29rcy5iZWZvcmVSZXF1ZXN0XSxcbiAgICAgICAgICAgIGJlZm9yZUVycm9yOiBbLi4uaG9va3MuYmVmb3JlRXJyb3JdLFxuICAgICAgICAgICAgYmVmb3JlUmVkaXJlY3Q6IFsuLi5ob29rcy5iZWZvcmVSZWRpcmVjdF0sXG4gICAgICAgICAgICBiZWZvcmVSZXRyeTogWy4uLmhvb2tzLmJlZm9yZVJldHJ5XSxcbiAgICAgICAgICAgIGFmdGVyUmVzcG9uc2U6IFsuLi5ob29rcy5hZnRlclJlc3BvbnNlXSxcbiAgICAgICAgfSxcbiAgICAgICAgc2VhcmNoUGFyYW1zOiBpbnRlcm5hbHMuc2VhcmNoUGFyYW1zID8gbmV3IFVSTFNlYXJjaFBhcmFtcyhpbnRlcm5hbHMuc2VhcmNoUGFyYW1zKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgcGFnaW5hdGlvbjogeyAuLi5pbnRlcm5hbHMucGFnaW5hdGlvbiB9LFxuICAgIH07XG4gICAgaWYgKHJlc3VsdC51cmwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXN1bHQucHJlZml4VXJsID0gJyc7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuY29uc3QgY2xvbmVSYXcgPSAocmF3KSA9PiB7XG4gICAgY29uc3QgeyBob29rcywgcmV0cnkgfSA9IHJhdztcbiAgICBjb25zdCByZXN1bHQgPSB7IC4uLnJhdyB9O1xuICAgIGlmIChpcy5vYmplY3QocmF3LmNvbnRleHQpKSB7XG4gICAgICAgIHJlc3VsdC5jb250ZXh0ID0geyAuLi5yYXcuY29udGV4dCB9O1xuICAgIH1cbiAgICBpZiAoaXMub2JqZWN0KHJhdy5jYWNoZU9wdGlvbnMpKSB7XG4gICAgICAgIHJlc3VsdC5jYWNoZU9wdGlvbnMgPSB7IC4uLnJhdy5jYWNoZU9wdGlvbnMgfTtcbiAgICB9XG4gICAgaWYgKGlzLm9iamVjdChyYXcuaHR0cHMpKSB7XG4gICAgICAgIHJlc3VsdC5odHRwcyA9IHsgLi4ucmF3Lmh0dHBzIH07XG4gICAgfVxuICAgIGlmIChpcy5vYmplY3QocmF3LmNhY2hlT3B0aW9ucykpIHtcbiAgICAgICAgcmVzdWx0LmNhY2hlT3B0aW9ucyA9IHsgLi4ucmVzdWx0LmNhY2hlT3B0aW9ucyB9O1xuICAgIH1cbiAgICBpZiAoaXMub2JqZWN0KHJhdy5hZ2VudCkpIHtcbiAgICAgICAgcmVzdWx0LmFnZW50ID0geyAuLi5yYXcuYWdlbnQgfTtcbiAgICB9XG4gICAgaWYgKGlzLm9iamVjdChyYXcuaGVhZGVycykpIHtcbiAgICAgICAgcmVzdWx0LmhlYWRlcnMgPSB7IC4uLnJhdy5oZWFkZXJzIH07XG4gICAgfVxuICAgIGlmIChpcy5vYmplY3QocmV0cnkpKSB7XG4gICAgICAgIHJlc3VsdC5yZXRyeSA9IHsgLi4ucmV0cnkgfTtcbiAgICAgICAgaWYgKGlzLmFycmF5KHJldHJ5LmVycm9yQ29kZXMpKSB7XG4gICAgICAgICAgICByZXN1bHQucmV0cnkuZXJyb3JDb2RlcyA9IFsuLi5yZXRyeS5lcnJvckNvZGVzXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXMuYXJyYXkocmV0cnkubWV0aG9kcykpIHtcbiAgICAgICAgICAgIHJlc3VsdC5yZXRyeS5tZXRob2RzID0gWy4uLnJldHJ5Lm1ldGhvZHNdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpcy5hcnJheShyZXRyeS5zdGF0dXNDb2RlcykpIHtcbiAgICAgICAgICAgIHJlc3VsdC5yZXRyeS5zdGF0dXNDb2RlcyA9IFsuLi5yZXRyeS5zdGF0dXNDb2Rlc107XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzLm9iamVjdChyYXcudGltZW91dCkpIHtcbiAgICAgICAgcmVzdWx0LnRpbWVvdXQgPSB7IC4uLnJhdy50aW1lb3V0IH07XG4gICAgfVxuICAgIGlmIChpcy5vYmplY3QoaG9va3MpKSB7XG4gICAgICAgIHJlc3VsdC5ob29rcyA9IHtcbiAgICAgICAgICAgIC4uLmhvb2tzLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoaXMuYXJyYXkoaG9va3MuaW5pdCkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5ob29rcy5pbml0ID0gWy4uLmhvb2tzLmluaXRdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpcy5hcnJheShob29rcy5iZWZvcmVSZXF1ZXN0KSkge1xuICAgICAgICAgICAgcmVzdWx0Lmhvb2tzLmJlZm9yZVJlcXVlc3QgPSBbLi4uaG9va3MuYmVmb3JlUmVxdWVzdF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzLmFycmF5KGhvb2tzLmJlZm9yZUVycm9yKSkge1xuICAgICAgICAgICAgcmVzdWx0Lmhvb2tzLmJlZm9yZUVycm9yID0gWy4uLmhvb2tzLmJlZm9yZUVycm9yXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXMuYXJyYXkoaG9va3MuYmVmb3JlUmVkaXJlY3QpKSB7XG4gICAgICAgICAgICByZXN1bHQuaG9va3MuYmVmb3JlUmVkaXJlY3QgPSBbLi4uaG9va3MuYmVmb3JlUmVkaXJlY3RdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpcy5hcnJheShob29rcy5iZWZvcmVSZXRyeSkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5ob29rcy5iZWZvcmVSZXRyeSA9IFsuLi5ob29rcy5iZWZvcmVSZXRyeV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzLmFycmF5KGhvb2tzLmFmdGVyUmVzcG9uc2UpKSB7XG4gICAgICAgICAgICByZXN1bHQuaG9va3MuYWZ0ZXJSZXNwb25zZSA9IFsuLi5ob29rcy5hZnRlclJlc3BvbnNlXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBUT0RPOiByYXcuc2VhcmNoUGFyYW1zXG4gICAgaWYgKGlzLm9iamVjdChyYXcucGFnaW5hdGlvbikpIHtcbiAgICAgICAgcmVzdWx0LnBhZ2luYXRpb24gPSB7IC4uLnJhdy5wYWdpbmF0aW9uIH07XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuY29uc3QgZ2V0SHR0cDJUaW1lb3V0T3B0aW9uID0gKGludGVybmFscykgPT4ge1xuICAgIGNvbnN0IGRlbGF5cyA9IFtpbnRlcm5hbHMudGltZW91dC5zb2NrZXQsIGludGVybmFscy50aW1lb3V0LmNvbm5lY3QsIGludGVybmFscy50aW1lb3V0Lmxvb2t1cCwgaW50ZXJuYWxzLnRpbWVvdXQucmVxdWVzdCwgaW50ZXJuYWxzLnRpbWVvdXQuc2VjdXJlQ29ubmVjdF0uZmlsdGVyKGRlbGF5ID0+IHR5cGVvZiBkZWxheSA9PT0gJ251bWJlcicpO1xuICAgIGlmIChkZWxheXMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gTWF0aC5taW4oLi4uZGVsYXlzKTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5jb25zdCBpbml0ID0gKG9wdGlvbnMsIHdpdGhPcHRpb25zLCBzZWxmKSA9PiB7XG4gICAgY29uc3QgaW5pdEhvb2tzID0gb3B0aW9ucy5ob29rcz8uaW5pdDtcbiAgICBpZiAoaW5pdEhvb2tzKSB7XG4gICAgICAgIGZvciAoY29uc3QgaG9vayBvZiBpbml0SG9va3MpIHtcbiAgICAgICAgICAgIGhvb2sod2l0aE9wdGlvbnMsIHNlbGYpO1xuICAgICAgICB9XG4gICAgfVxufTtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9wdGlvbnMge1xuICAgIGNvbnN0cnVjdG9yKGlucHV0LCBvcHRpb25zLCBkZWZhdWx0cykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdW5peE9wdGlvbnNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2ludGVybmFsc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbWVyZ2luZ1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaW5pdFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBhc3NlcnQuYW55KFtpcy5zdHJpbmcsIGlzLnVybEluc3RhbmNlLCBpcy5vYmplY3QsIGlzLnVuZGVmaW5lZF0sIGlucHV0KTtcbiAgICAgICAgYXNzZXJ0LmFueShbaXMub2JqZWN0LCBpcy51bmRlZmluZWRdLCBvcHRpb25zKTtcbiAgICAgICAgYXNzZXJ0LmFueShbaXMub2JqZWN0LCBpcy51bmRlZmluZWRdLCBkZWZhdWx0cyk7XG4gICAgICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mIE9wdGlvbnMgfHwgb3B0aW9ucyBpbnN0YW5jZW9mIE9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBkZWZhdWx0cyBtdXN0IGJlIHBhc3NlZCBhcyB0aGUgdGhpcmQgYXJndW1lbnQnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbnRlcm5hbHMgPSBjbG9uZUludGVybmFscyhkZWZhdWx0cz8uX2ludGVybmFscyA/PyBkZWZhdWx0cyA/PyBkZWZhdWx0SW50ZXJuYWxzKTtcbiAgICAgICAgdGhpcy5faW5pdCA9IFsuLi4oZGVmYXVsdHM/Ll9pbml0ID8/IFtdKV07XG4gICAgICAgIHRoaXMuX21lcmdpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fdW5peE9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgICAgIC8vIFRoaXMgcnVsZSBhbGxvd3MgYGZpbmFsbHlgIHRvIGJlIGNvbnNpZGVyZWQgbW9yZSBpbXBvcnRhbnQuXG4gICAgICAgIC8vIE1lYW5pbmcgbm8gbWF0dGVyIHRoZSBlcnJvciB0aHJvd24gaW4gdGhlIGB0cnlgIGJsb2NrLFxuICAgICAgICAvLyBpZiBgZmluYWxseWAgdGhyb3dzIHRoZW4gdGhlIGBmaW5hbGx5YCBlcnJvciB3aWxsIGJlIHRocm93bi5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gWWVzLCB3ZSB3YW50IHRoaXMuIElmIHdlIHNldCBgdXJsYCBmaXJzdCwgdGhlbiB0aGUgYHVybC5zZWFyY2hQYXJhbXNgXG4gICAgICAgIC8vIHdvdWxkIGdldCBtZXJnZWQuIEluc3RlYWQgd2Ugc2V0IHRoZSBgc2VhcmNoUGFyYW1zYCBmaXJzdCwgdGhlblxuICAgICAgICAvLyBgdXJsLnNlYXJjaFBhcmFtc2AgaXMgb3ZlcndyaXR0ZW4gYXMgZXhwZWN0ZWQuXG4gICAgICAgIC8vXG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXVuc2FmZS1maW5hbGx5ICovXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoaXMucGxhaW5PYmplY3QoaW5wdXQpKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXJnZShpbnB1dCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWVyZ2Uob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVybCA9IGlucHV0LnVybDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lcmdlKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnM/LnVybCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXJsID0gb3B0aW9ucy51cmw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgYHVybGAgb3B0aW9uIGlzIG11dHVhbGx5IGV4Y2x1c2l2ZSB3aXRoIHRoZSBgaW5wdXRgIGFyZ3VtZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaW5wdXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cmwgPSBpbnB1dDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGVycm9yLm9wdGlvbnMgPSB0aGlzO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby11bnNhZmUtZmluYWxseSAqL1xuICAgIH1cbiAgICBtZXJnZShvcHRpb25zKSB7XG4gICAgICAgIGlmICghb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zIGluc3RhbmNlb2YgT3B0aW9ucykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpbml0IG9mIG9wdGlvbnMuX2luaXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1lcmdlKGluaXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMgPSBjbG9uZVJhdyhvcHRpb25zKTtcbiAgICAgICAgaW5pdCh0aGlzLCBvcHRpb25zLCB0aGlzKTtcbiAgICAgICAgaW5pdChvcHRpb25zLCBvcHRpb25zLCB0aGlzKTtcbiAgICAgICAgdGhpcy5fbWVyZ2luZyA9IHRydWU7XG4gICAgICAgIC8vIEFsd2F5cyBtZXJnZSBgaXNTdHJlYW1gIGZpcnN0XG4gICAgICAgIGlmICgnaXNTdHJlYW0nIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMuaXNTdHJlYW0gPSBvcHRpb25zLmlzU3RyZWFtO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgcHVzaCA9IGZhbHNlO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIC8vIGBnb3QuZXh0ZW5kKClgIG9wdGlvbnNcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSAnbXV0YWJsZURlZmF1bHRzJyB8fCBrZXkgPT09ICdoYW5kbGVycycpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIE5ldmVyIG1lcmdlIGB1cmxgXG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gJ3VybCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghKGtleSBpbiB0aGlzKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgb3B0aW9uOiAke2tleX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUeXBlICd1bmtub3duJyBpcyBub3QgYXNzaWduYWJsZSB0byB0eXBlICduZXZlcicuXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBvcHRpb25zW2tleV07XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgVHlwZSAndW5rbm93bicgaXMgbm90IGFzc2lnbmFibGUgdG8gdHlwZSAnbmV2ZXInLlxuICAgICAgICAgICAgICAgIHRoaXNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHB1c2ggPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHB1c2gpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbml0LnB1c2gob3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLl9tZXJnaW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgQ3VzdG9tIHJlcXVlc3QgZnVuY3Rpb24uXG4gICAgVGhlIG1haW4gcHVycG9zZSBvZiB0aGlzIGlzIHRvIFtzdXBwb3J0IEhUVFAyIHVzaW5nIGEgd3JhcHBlcl0oaHR0cHM6Ly9naXRodWIuY29tL3N6bWFyY3phay9odHRwMi13cmFwcGVyKS5cblxuICAgIEBkZWZhdWx0IGh0dHAucmVxdWVzdCB8IGh0dHBzLnJlcXVlc3RcbiAgICAqL1xuICAgIGdldCByZXF1ZXN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW50ZXJuYWxzLnJlcXVlc3Q7XG4gICAgfVxuICAgIHNldCByZXF1ZXN0KHZhbHVlKSB7XG4gICAgICAgIGFzc2VydC5hbnkoW2lzLmZ1bmN0aW9uXywgaXMudW5kZWZpbmVkXSwgdmFsdWUpO1xuICAgICAgICB0aGlzLl9pbnRlcm5hbHMucmVxdWVzdCA9IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICBBbiBvYmplY3QgcmVwcmVzZW50aW5nIGBodHRwYCwgYGh0dHBzYCBhbmQgYGh0dHAyYCBrZXlzIGZvciBbYGh0dHAuQWdlbnRgXShodHRwczovL25vZGVqcy5vcmcvYXBpL2h0dHAuaHRtbCNodHRwX2NsYXNzX2h0dHBfYWdlbnQpLCBbYGh0dHBzLkFnZW50YF0oaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9odHRwcy5odG1sI2h0dHBzX2NsYXNzX2h0dHBzX2FnZW50KSBhbmQgW2BodHRwMndyYXBwZXIuQWdlbnRgXShodHRwczovL2dpdGh1Yi5jb20vc3ptYXJjemFrL2h0dHAyLXdyYXBwZXIjbmV3LWh0dHAyYWdlbnRvcHRpb25zKSBpbnN0YW5jZS5cbiAgICBUaGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIGEgcmVxdWVzdCB0byBvbmUgcHJvdG9jb2wgbWlnaHQgcmVkaXJlY3QgdG8gYW5vdGhlci5cbiAgICBJbiBzdWNoIGEgc2NlbmFyaW8sIEdvdCB3aWxsIHN3aXRjaCBvdmVyIHRvIHRoZSByaWdodCBwcm90b2NvbCBhZ2VudCBmb3IgeW91LlxuXG4gICAgSWYgYSBrZXkgaXMgbm90IHByZXNlbnQsIGl0IHdpbGwgZGVmYXVsdCB0byBhIGdsb2JhbCBhZ2VudC5cblxuICAgIEBleGFtcGxlXG4gICAgYGBgXG4gICAgaW1wb3J0IGdvdCBmcm9tICdnb3QnO1xuICAgIGltcG9ydCBIdHRwQWdlbnQgZnJvbSAnYWdlbnRrZWVwYWxpdmUnO1xuXG4gICAgY29uc3Qge0h0dHBzQWdlbnR9ID0gSHR0cEFnZW50O1xuXG4gICAgYXdhaXQgZ290KCdodHRwczovL3NpbmRyZXNvcmh1cy5jb20nLCB7XG4gICAgICAgIGFnZW50OiB7XG4gICAgICAgICAgICBodHRwOiBuZXcgSHR0cEFnZW50KCksXG4gICAgICAgICAgICBodHRwczogbmV3IEh0dHBzQWdlbnQoKVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgYGBgXG4gICAgKi9cbiAgICBnZXQgYWdlbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnRlcm5hbHMuYWdlbnQ7XG4gICAgfVxuICAgIHNldCBhZ2VudCh2YWx1ZSkge1xuICAgICAgICBhc3NlcnQucGxhaW5PYmplY3QodmFsdWUpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ3VhcmQtZm9yLWluXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoIShrZXkgaW4gdGhpcy5faW50ZXJuYWxzLmFnZW50KSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFVuZXhwZWN0ZWQgYWdlbnQgb3B0aW9uOiAke2tleX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBObyBpZGVhIHdoeSBgdmFsdWVba2V5XWAgZG9lc24ndCB3b3JrIGhlcmUuXG4gICAgICAgICAgICBhc3NlcnQuYW55KFtpcy5vYmplY3QsIGlzLnVuZGVmaW5lZF0sIHZhbHVlW2tleV0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9tZXJnaW5nKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuX2ludGVybmFscy5hZ2VudCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faW50ZXJuYWxzLmFnZW50ID0geyAuLi52YWx1ZSB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBoMnNlc3Npb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnRlcm5hbHMuaDJzZXNzaW9uO1xuICAgIH1cbiAgICBzZXQgaDJzZXNzaW9uKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2ludGVybmFscy5oMnNlc3Npb24gPSB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgRGVjb21wcmVzcyB0aGUgcmVzcG9uc2UgYXV0b21hdGljYWxseS5cblxuICAgIFRoaXMgd2lsbCBzZXQgdGhlIGBhY2NlcHQtZW5jb2RpbmdgIGhlYWRlciB0byBgZ3ppcCwgZGVmbGF0ZSwgYnJgIHVubGVzcyB5b3Ugc2V0IGl0IHlvdXJzZWxmLlxuXG4gICAgSWYgdGhpcyBpcyBkaXNhYmxlZCwgYSBjb21wcmVzc2VkIHJlc3BvbnNlIGlzIHJldHVybmVkIGFzIGEgYEJ1ZmZlcmAuXG4gICAgVGhpcyBtYXkgYmUgdXNlZnVsIGlmIHlvdSB3YW50IHRvIGhhbmRsZSBkZWNvbXByZXNzaW9uIHlvdXJzZWxmIG9yIHN0cmVhbSB0aGUgcmF3IGNvbXByZXNzZWQgZGF0YS5cblxuICAgIEBkZWZhdWx0IHRydWVcbiAgICAqL1xuICAgIGdldCBkZWNvbXByZXNzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW50ZXJuYWxzLmRlY29tcHJlc3M7XG4gICAgfVxuICAgIHNldCBkZWNvbXByZXNzKHZhbHVlKSB7XG4gICAgICAgIGFzc2VydC5ib29sZWFuKHZhbHVlKTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxzLmRlY29tcHJlc3MgPSB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgTWlsbGlzZWNvbmRzIHRvIHdhaXQgZm9yIHRoZSBzZXJ2ZXIgdG8gZW5kIHRoZSByZXNwb25zZSBiZWZvcmUgYWJvcnRpbmcgdGhlIHJlcXVlc3Qgd2l0aCBgZ290LlRpbWVvdXRFcnJvcmAgZXJyb3IgKGEuay5hLiBgcmVxdWVzdGAgcHJvcGVydHkpLlxuICAgIEJ5IGRlZmF1bHQsIHRoZXJlJ3Mgbm8gdGltZW91dC5cblxuICAgIFRoaXMgYWxzbyBhY2NlcHRzIGFuIGBvYmplY3RgIHdpdGggdGhlIGZvbGxvd2luZyBmaWVsZHMgdG8gY29uc3RyYWluIHRoZSBkdXJhdGlvbiBvZiBlYWNoIHBoYXNlIG9mIHRoZSByZXF1ZXN0IGxpZmVjeWNsZTpcblxuICAgIC0gYGxvb2t1cGAgc3RhcnRzIHdoZW4gYSBzb2NrZXQgaXMgYXNzaWduZWQgYW5kIGVuZHMgd2hlbiB0aGUgaG9zdG5hbWUgaGFzIGJlZW4gcmVzb2x2ZWQuXG4gICAgICAgIERvZXMgbm90IGFwcGx5IHdoZW4gdXNpbmcgYSBVbml4IGRvbWFpbiBzb2NrZXQuXG4gICAgLSBgY29ubmVjdGAgc3RhcnRzIHdoZW4gYGxvb2t1cGAgY29tcGxldGVzIChvciB3aGVuIHRoZSBzb2NrZXQgaXMgYXNzaWduZWQgaWYgbG9va3VwIGRvZXMgbm90IGFwcGx5IHRvIHRoZSByZXF1ZXN0KSBhbmQgZW5kcyB3aGVuIHRoZSBzb2NrZXQgaXMgY29ubmVjdGVkLlxuICAgIC0gYHNlY3VyZUNvbm5lY3RgIHN0YXJ0cyB3aGVuIGBjb25uZWN0YCBjb21wbGV0ZXMgYW5kIGVuZHMgd2hlbiB0aGUgaGFuZHNoYWtpbmcgcHJvY2VzcyBjb21wbGV0ZXMgKEhUVFBTIG9ubHkpLlxuICAgIC0gYHNvY2tldGAgc3RhcnRzIHdoZW4gdGhlIHNvY2tldCBpcyBjb25uZWN0ZWQuIFNlZSBbcmVxdWVzdC5zZXRUaW1lb3V0XShodHRwczovL25vZGVqcy5vcmcvYXBpL2h0dHAuaHRtbCNodHRwX3JlcXVlc3Rfc2V0dGltZW91dF90aW1lb3V0X2NhbGxiYWNrKS5cbiAgICAtIGByZXNwb25zZWAgc3RhcnRzIHdoZW4gdGhlIHJlcXVlc3QgaGFzIGJlZW4gd3JpdHRlbiB0byB0aGUgc29ja2V0IGFuZCBlbmRzIHdoZW4gdGhlIHJlc3BvbnNlIGhlYWRlcnMgYXJlIHJlY2VpdmVkLlxuICAgIC0gYHNlbmRgIHN0YXJ0cyB3aGVuIHRoZSBzb2NrZXQgaXMgY29ubmVjdGVkIGFuZCBlbmRzIHdpdGggdGhlIHJlcXVlc3QgaGFzIGJlZW4gd3JpdHRlbiB0byB0aGUgc29ja2V0LlxuICAgIC0gYHJlcXVlc3RgIHN0YXJ0cyB3aGVuIHRoZSByZXF1ZXN0IGlzIGluaXRpYXRlZCBhbmQgZW5kcyB3aGVuIHRoZSByZXNwb25zZSdzIGVuZCBldmVudCBmaXJlcy5cbiAgICAqL1xuICAgIGdldCB0aW1lb3V0KCkge1xuICAgICAgICAvLyBXZSBhbHdheXMgcmV0dXJuIGBEZWxheXNgIGhlcmUuXG4gICAgICAgIC8vIEl0IGhhcyB0byBiZSBgRGVsYXlzIHwgbnVtYmVyYCwgb3RoZXJ3aXNlIFR5cGVTY3JpcHQgd2lsbCBlcnJvciBiZWNhdXNlIHRoZSBnZXR0ZXIgYW5kIHRoZSBzZXR0ZXIgaGF2ZSBpbmNvbXBhdGlibGUgdHlwZXMuXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnRlcm5hbHMudGltZW91dDtcbiAgICB9XG4gICAgc2V0IHRpbWVvdXQodmFsdWUpIHtcbiAgICAgICAgYXNzZXJ0LnBsYWluT2JqZWN0KHZhbHVlKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGd1YXJkLWZvci1pblxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCEoa2V5IGluIHRoaXMuX2ludGVybmFscy50aW1lb3V0KSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCB0aW1lb3V0IG9wdGlvbjogJHtrZXl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gTm8gaWRlYSB3aHkgYHZhbHVlW2tleV1gIGRvZXNuJ3Qgd29yayBoZXJlLlxuICAgICAgICAgICAgYXNzZXJ0LmFueShbaXMubnVtYmVyLCBpcy51bmRlZmluZWRdLCB2YWx1ZVtrZXldKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fbWVyZ2luZykge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9pbnRlcm5hbHMudGltZW91dCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faW50ZXJuYWxzLnRpbWVvdXQgPSB7IC4uLnZhbHVlIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgV2hlbiBzcGVjaWZpZWQsIGBwcmVmaXhVcmxgIHdpbGwgYmUgcHJlcGVuZGVkIHRvIGB1cmxgLlxuICAgIFRoZSBwcmVmaXggY2FuIGJlIGFueSB2YWxpZCBVUkwsIGVpdGhlciByZWxhdGl2ZSBvciBhYnNvbHV0ZS5cbiAgICBBIHRyYWlsaW5nIHNsYXNoIGAvYCBpcyBvcHRpb25hbCAtIG9uZSB3aWxsIGJlIGFkZGVkIGF1dG9tYXRpY2FsbHkuXG5cbiAgICBfX05vdGVfXzogYHByZWZpeFVybGAgd2lsbCBiZSBpZ25vcmVkIGlmIHRoZSBgdXJsYCBhcmd1bWVudCBpcyBhIFVSTCBpbnN0YW5jZS5cblxuICAgIF9fTm90ZV9fOiBMZWFkaW5nIHNsYXNoZXMgaW4gYGlucHV0YCBhcmUgZGlzYWxsb3dlZCB3aGVuIHVzaW5nIHRoaXMgb3B0aW9uIHRvIGVuZm9yY2UgY29uc2lzdGVuY3kgYW5kIGF2b2lkIGNvbmZ1c2lvbi5cbiAgICBGb3IgZXhhbXBsZSwgd2hlbiB0aGUgcHJlZml4IFVSTCBpcyBgaHR0cHM6Ly9leGFtcGxlLmNvbS9mb29gIGFuZCB0aGUgaW5wdXQgaXMgYC9iYXJgLCB0aGVyZSdzIGFtYmlndWl0eSB3aGV0aGVyIHRoZSByZXN1bHRpbmcgVVJMIHdvdWxkIGJlY29tZSBgaHR0cHM6Ly9leGFtcGxlLmNvbS9mb28vYmFyYCBvciBgaHR0cHM6Ly9leGFtcGxlLmNvbS9iYXJgLlxuICAgIFRoZSBsYXR0ZXIgaXMgdXNlZCBieSBicm93c2Vycy5cblxuICAgIF9fVGlwX186IFVzZWZ1bCB3aGVuIHVzZWQgd2l0aCBgZ290LmV4dGVuZCgpYCB0byBjcmVhdGUgbmljaGUtc3BlY2lmaWMgR290IGluc3RhbmNlcy5cblxuICAgIF9fVGlwX186IFlvdSBjYW4gY2hhbmdlIGBwcmVmaXhVcmxgIHVzaW5nIGhvb2tzIGFzIGxvbmcgYXMgdGhlIFVSTCBzdGlsbCBpbmNsdWRlcyB0aGUgYHByZWZpeFVybGAuXG4gICAgSWYgdGhlIFVSTCBkb2Vzbid0IGluY2x1ZGUgaXQgYW55bW9yZSwgaXQgd2lsbCB0aHJvdy5cblxuICAgIEBleGFtcGxlXG4gICAgYGBgXG4gICAgaW1wb3J0IGdvdCBmcm9tICdnb3QnO1xuXG4gICAgYXdhaXQgZ290KCd1bmljb3JuJywge3ByZWZpeFVybDogJ2h0dHBzOi8vY2F0cy5jb20nfSk7XG4gICAgLy89PiAnaHR0cHM6Ly9jYXRzLmNvbS91bmljb3JuJ1xuXG4gICAgY29uc3QgaW5zdGFuY2UgPSBnb3QuZXh0ZW5kKHtcbiAgICAgICAgcHJlZml4VXJsOiAnaHR0cHM6Ly9nb29nbGUuY29tJ1xuICAgIH0pO1xuXG4gICAgYXdhaXQgaW5zdGFuY2UoJ3VuaWNvcm4nLCB7XG4gICAgICAgIGhvb2tzOiB7XG4gICAgICAgICAgICBiZWZvcmVSZXF1ZXN0OiBbXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMucHJlZml4VXJsID0gJ2h0dHBzOi8vY2F0cy5jb20nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIC8vPT4gJ2h0dHBzOi8vY2F0cy5jb20vdW5pY29ybidcbiAgICBgYGBcbiAgICAqL1xuICAgIGdldCBwcmVmaXhVcmwoKSB7XG4gICAgICAgIC8vIFdlIGFsd2F5cyByZXR1cm4gYHN0cmluZ2AgaGVyZS5cbiAgICAgICAgLy8gSXQgaGFzIHRvIGJlIGBzdHJpbmcgfCBVUkxgLCBvdGhlcndpc2UgVHlwZVNjcmlwdCB3aWxsIGVycm9yIGJlY2F1c2UgdGhlIGdldHRlciBhbmQgdGhlIHNldHRlciBoYXZlIGluY29tcGF0aWJsZSB0eXBlcy5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludGVybmFscy5wcmVmaXhVcmw7XG4gICAgfVxuICAgIHNldCBwcmVmaXhVcmwodmFsdWUpIHtcbiAgICAgICAgYXNzZXJ0LmFueShbaXMuc3RyaW5nLCBpcy51cmxJbnN0YW5jZV0sIHZhbHVlKTtcbiAgICAgICAgaWYgKHZhbHVlID09PSAnJykge1xuICAgICAgICAgICAgdGhpcy5faW50ZXJuYWxzLnByZWZpeFVybCA9ICcnO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgaWYgKCF2YWx1ZS5lbmRzV2l0aCgnLycpKSB7XG4gICAgICAgICAgICB2YWx1ZSArPSAnLyc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2ludGVybmFscy5wcmVmaXhVcmwgJiYgdGhpcy5faW50ZXJuYWxzLnVybCkge1xuICAgICAgICAgICAgY29uc3QgeyBocmVmIH0gPSB0aGlzLl9pbnRlcm5hbHMudXJsO1xuICAgICAgICAgICAgdGhpcy5faW50ZXJuYWxzLnVybC5ocmVmID0gdmFsdWUgKyBocmVmLnNsaWNlKHRoaXMuX2ludGVybmFscy5wcmVmaXhVcmwubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbnRlcm5hbHMucHJlZml4VXJsID0gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgIF9fTm90ZSAjMV9fOiBUaGUgYGJvZHlgIG9wdGlvbiBjYW5ub3QgYmUgdXNlZCB3aXRoIHRoZSBganNvbmAgb3IgYGZvcm1gIG9wdGlvbi5cblxuICAgIF9fTm90ZSAjMl9fOiBJZiB5b3UgcHJvdmlkZSB0aGlzIG9wdGlvbiwgYGdvdC5zdHJlYW0oKWAgd2lsbCBiZSByZWFkLW9ubHkuXG5cbiAgICBfX05vdGUgIzNfXzogSWYgeW91IHByb3ZpZGUgYSBwYXlsb2FkIHdpdGggdGhlIGBHRVRgIG9yIGBIRUFEYCBtZXRob2QsIGl0IHdpbGwgdGhyb3cgYSBgVHlwZUVycm9yYCB1bmxlc3MgdGhlIG1ldGhvZCBpcyBgR0VUYCBhbmQgdGhlIGBhbGxvd0dldEJvZHlgIG9wdGlvbiBpcyBzZXQgdG8gYHRydWVgLlxuXG4gICAgX19Ob3RlICM0X186IFRoaXMgb3B0aW9uIGlzIG5vdCBlbnVtZXJhYmxlIGFuZCB3aWxsIG5vdCBiZSBtZXJnZWQgd2l0aCB0aGUgaW5zdGFuY2UgZGVmYXVsdHMuXG5cbiAgICBUaGUgYGNvbnRlbnQtbGVuZ3RoYCBoZWFkZXIgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IHNldCBpZiBgYm9keWAgaXMgYSBgc3RyaW5nYCAvIGBCdWZmZXJgIC8gW2BGb3JtRGF0YWBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Gb3JtRGF0YSkgLyBbYGZvcm0tZGF0YWAgaW5zdGFuY2VdKGh0dHBzOi8vZ2l0aHViLmNvbS9mb3JtLWRhdGEvZm9ybS1kYXRhKSwgYW5kIGBjb250ZW50LWxlbmd0aGAgYW5kIGB0cmFuc2Zlci1lbmNvZGluZ2AgYXJlIG5vdCBtYW51YWxseSBzZXQgaW4gYG9wdGlvbnMuaGVhZGVyc2AuXG5cbiAgICBTaW5jZSBHb3QgMTIsIHRoZSBgY29udGVudC1sZW5ndGhgIGlzIG5vdCBhdXRvbWF0aWNhbGx5IHNldCB3aGVuIGBib2R5YCBpcyBhIGBmcy5jcmVhdGVSZWFkU3RyZWFtYC5cbiAgICAqL1xuICAgIGdldCBib2R5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW50ZXJuYWxzLmJvZHk7XG4gICAgfVxuICAgIHNldCBib2R5KHZhbHVlKSB7XG4gICAgICAgIGFzc2VydC5hbnkoW2lzLnN0cmluZywgaXMuYnVmZmVyLCBpcy5ub2RlU3RyZWFtLCBpcy5nZW5lcmF0b3IsIGlzLmFzeW5jR2VuZXJhdG9yLCBpc0Zvcm1EYXRhLCBpcy51bmRlZmluZWRdLCB2YWx1ZSk7XG4gICAgICAgIGlmIChpcy5ub2RlU3RyZWFtKHZhbHVlKSkge1xuICAgICAgICAgICAgYXNzZXJ0LnRydXRoeSh2YWx1ZS5yZWFkYWJsZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGFzc2VydC51bmRlZmluZWQodGhpcy5faW50ZXJuYWxzLmZvcm0pO1xuICAgICAgICAgICAgYXNzZXJ0LnVuZGVmaW5lZCh0aGlzLl9pbnRlcm5hbHMuanNvbik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faW50ZXJuYWxzLmJvZHkgPSB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgVGhlIGZvcm0gYm9keSBpcyBjb252ZXJ0ZWQgdG8gYSBxdWVyeSBzdHJpbmcgdXNpbmcgW2AobmV3IFVSTFNlYXJjaFBhcmFtcyhvYmplY3QpKS50b1N0cmluZygpYF0oaHR0cHM6Ly9ub2RlanMub3JnL2FwaS91cmwuaHRtbCN1cmxfY29uc3RydWN0b3JfbmV3X3VybHNlYXJjaHBhcmFtc19vYmopLlxuXG4gICAgSWYgdGhlIGBDb250ZW50LVR5cGVgIGhlYWRlciBpcyBub3QgcHJlc2VudCwgaXQgd2lsbCBiZSBzZXQgdG8gYGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZGAuXG5cbiAgICBfX05vdGUgIzFfXzogSWYgeW91IHByb3ZpZGUgdGhpcyBvcHRpb24sIGBnb3Quc3RyZWFtKClgIHdpbGwgYmUgcmVhZC1vbmx5LlxuXG4gICAgX19Ob3RlICMyX186IFRoaXMgb3B0aW9uIGlzIG5vdCBlbnVtZXJhYmxlIGFuZCB3aWxsIG5vdCBiZSBtZXJnZWQgd2l0aCB0aGUgaW5zdGFuY2UgZGVmYXVsdHMuXG4gICAgKi9cbiAgICBnZXQgZm9ybSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludGVybmFscy5mb3JtO1xuICAgIH1cbiAgICBzZXQgZm9ybSh2YWx1ZSkge1xuICAgICAgICBhc3NlcnQuYW55KFtpcy5wbGFpbk9iamVjdCwgaXMudW5kZWZpbmVkXSwgdmFsdWUpO1xuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYXNzZXJ0LnVuZGVmaW5lZCh0aGlzLl9pbnRlcm5hbHMuYm9keSk7XG4gICAgICAgICAgICBhc3NlcnQudW5kZWZpbmVkKHRoaXMuX2ludGVybmFscy5qc29uKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbnRlcm5hbHMuZm9ybSA9IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICBKU09OIGJvZHkuIElmIHRoZSBgQ29udGVudC1UeXBlYCBoZWFkZXIgaXMgbm90IHNldCwgaXQgd2lsbCBiZSBzZXQgdG8gYGFwcGxpY2F0aW9uL2pzb25gLlxuXG4gICAgX19Ob3RlICMxX186IElmIHlvdSBwcm92aWRlIHRoaXMgb3B0aW9uLCBgZ290LnN0cmVhbSgpYCB3aWxsIGJlIHJlYWQtb25seS5cblxuICAgIF9fTm90ZSAjMl9fOiBUaGlzIG9wdGlvbiBpcyBub3QgZW51bWVyYWJsZSBhbmQgd2lsbCBub3QgYmUgbWVyZ2VkIHdpdGggdGhlIGluc3RhbmNlIGRlZmF1bHRzLlxuICAgICovXG4gICAgZ2V0IGpzb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnRlcm5hbHMuanNvbjtcbiAgICB9XG4gICAgc2V0IGpzb24odmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGFzc2VydC51bmRlZmluZWQodGhpcy5faW50ZXJuYWxzLmJvZHkpO1xuICAgICAgICAgICAgYXNzZXJ0LnVuZGVmaW5lZCh0aGlzLl9pbnRlcm5hbHMuZm9ybSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faW50ZXJuYWxzLmpzb24gPSB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgVGhlIFVSTCB0byByZXF1ZXN0LCBhcyBhIHN0cmluZywgYSBbYGh0dHBzLnJlcXVlc3RgIG9wdGlvbnMgb2JqZWN0XShodHRwczovL25vZGVqcy5vcmcvYXBpL2h0dHBzLmh0bWwjaHR0cHNfaHR0cHNfcmVxdWVzdF9vcHRpb25zX2NhbGxiYWNrKSwgb3IgYSBbV0hBVFdHIGBVUkxgXShodHRwczovL25vZGVqcy5vcmcvYXBpL3VybC5odG1sI3VybF9jbGFzc191cmwpLlxuXG4gICAgUHJvcGVydGllcyBmcm9tIGBvcHRpb25zYCB3aWxsIG92ZXJyaWRlIHByb3BlcnRpZXMgaW4gdGhlIHBhcnNlZCBgdXJsYC5cblxuICAgIElmIG5vIHByb3RvY29sIGlzIHNwZWNpZmllZCwgaXQgd2lsbCB0aHJvdyBhIGBUeXBlRXJyb3JgLlxuXG4gICAgX19Ob3RlX186IFRoZSBxdWVyeSBzdHJpbmcgaXMgKipub3QqKiBwYXJzZWQgYXMgc2VhcmNoIHBhcmFtcy5cblxuICAgIEBleGFtcGxlXG4gICAgYGBgXG4gICAgYXdhaXQgZ290KCdodHRwczovL2V4YW1wbGUuY29tLz9xdWVyeT1hIGInKTsgLy89PiBodHRwczovL2V4YW1wbGUuY29tLz9xdWVyeT1hJTIwYlxuICAgIGF3YWl0IGdvdCgnaHR0cHM6Ly9leGFtcGxlLmNvbS8nLCB7c2VhcmNoUGFyYW1zOiB7cXVlcnk6ICdhIGInfX0pOyAvLz0+IGh0dHBzOi8vZXhhbXBsZS5jb20vP3F1ZXJ5PWErYlxuXG4gICAgLy8gVGhlIHF1ZXJ5IHN0cmluZyBpcyBvdmVycmlkZGVuIGJ5IGBzZWFyY2hQYXJhbXNgXG4gICAgYXdhaXQgZ290KCdodHRwczovL2V4YW1wbGUuY29tLz9xdWVyeT1hIGInLCB7c2VhcmNoUGFyYW1zOiB7cXVlcnk6ICdhIGInfX0pOyAvLz0+IGh0dHBzOi8vZXhhbXBsZS5jb20vP3F1ZXJ5PWErYlxuICAgIGBgYFxuICAgICovXG4gICAgZ2V0IHVybCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludGVybmFscy51cmw7XG4gICAgfVxuICAgIHNldCB1cmwodmFsdWUpIHtcbiAgICAgICAgYXNzZXJ0LmFueShbaXMuc3RyaW5nLCBpcy51cmxJbnN0YW5jZSwgaXMudW5kZWZpbmVkXSwgdmFsdWUpO1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5faW50ZXJuYWxzLnVybCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXMuc3RyaW5nKHZhbHVlKSAmJiB2YWx1ZS5zdGFydHNXaXRoKCcvJykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYHVybGAgbXVzdCBub3Qgc3RhcnQgd2l0aCBhIHNsYXNoJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXJsU3RyaW5nID0gYCR7dGhpcy5wcmVmaXhVcmx9JHt2YWx1ZS50b1N0cmluZygpfWA7XG4gICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodXJsU3RyaW5nKTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxzLnVybCA9IHVybDtcbiAgICAgICAgaWYgKHVybC5wcm90b2NvbCA9PT0gJ3VuaXg6Jykge1xuICAgICAgICAgICAgdXJsLmhyZWYgPSBgaHR0cDovL3VuaXgke3VybC5wYXRobmFtZX0ke3VybC5zZWFyY2h9YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXJsLnByb3RvY29sICE9PSAnaHR0cDonICYmIHVybC5wcm90b2NvbCAhPT0gJ2h0dHBzOicpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBwcm90b2NvbDogJHt1cmwucHJvdG9jb2x9YCk7XG4gICAgICAgICAgICBlcnJvci5jb2RlID0gJ0VSUl9VTlNVUFBPUlRFRF9QUk9UT0NPTCc7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faW50ZXJuYWxzLnVzZXJuYW1lKSB7XG4gICAgICAgICAgICB1cmwudXNlcm5hbWUgPSB0aGlzLl9pbnRlcm5hbHMudXNlcm5hbWU7XG4gICAgICAgICAgICB0aGlzLl9pbnRlcm5hbHMudXNlcm5hbWUgPSAnJztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faW50ZXJuYWxzLnBhc3N3b3JkKSB7XG4gICAgICAgICAgICB1cmwucGFzc3dvcmQgPSB0aGlzLl9pbnRlcm5hbHMucGFzc3dvcmQ7XG4gICAgICAgICAgICB0aGlzLl9pbnRlcm5hbHMucGFzc3dvcmQgPSAnJztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faW50ZXJuYWxzLnNlYXJjaFBhcmFtcykge1xuICAgICAgICAgICAgdXJsLnNlYXJjaCA9IHRoaXMuX2ludGVybmFscy5zZWFyY2hQYXJhbXMudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHRoaXMuX2ludGVybmFscy5zZWFyY2hQYXJhbXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVybC5ob3N0bmFtZSA9PT0gJ3VuaXgnKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2ludGVybmFscy5lbmFibGVVbml4U29ja2V0cykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVXNpbmcgVU5JWCBkb21haW4gc29ja2V0cyBidXQgb3B0aW9uIGBlbmFibGVVbml4U29ja2V0c2AgaXMgbm90IGVuYWJsZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSAvKD88c29ja2V0UGF0aD4uKz8pOig/PHBhdGg+LispLy5leGVjKGAke3VybC5wYXRobmFtZX0ke3VybC5zZWFyY2h9YCk7XG4gICAgICAgICAgICBpZiAobWF0Y2hlcz8uZ3JvdXBzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBzb2NrZXRQYXRoLCBwYXRoIH0gPSBtYXRjaGVzLmdyb3VwcztcbiAgICAgICAgICAgICAgICB0aGlzLl91bml4T3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0UGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgICAgICAgICAgaG9zdDogJycsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VuaXhPcHRpb25zID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3VuaXhPcHRpb25zID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICBDb29raWUgc3VwcG9ydC4gWW91IGRvbid0IGhhdmUgdG8gY2FyZSBhYm91dCBwYXJzaW5nIG9yIGhvdyB0byBzdG9yZSB0aGVtLlxuXG4gICAgX19Ob3RlX186IElmIHlvdSBwcm92aWRlIHRoaXMgb3B0aW9uLCBgb3B0aW9ucy5oZWFkZXJzLmNvb2tpZWAgd2lsbCBiZSBvdmVycmlkZGVuLlxuICAgICovXG4gICAgZ2V0IGNvb2tpZUphcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludGVybmFscy5jb29raWVKYXI7XG4gICAgfVxuICAgIHNldCBjb29raWVKYXIodmFsdWUpIHtcbiAgICAgICAgYXNzZXJ0LmFueShbaXMub2JqZWN0LCBpcy51bmRlZmluZWRdLCB2YWx1ZSk7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9pbnRlcm5hbHMuY29va2llSmFyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCB7IHNldENvb2tpZSwgZ2V0Q29va2llU3RyaW5nIH0gPSB2YWx1ZTtcbiAgICAgICAgYXNzZXJ0LmZ1bmN0aW9uXyhzZXRDb29raWUpO1xuICAgICAgICBhc3NlcnQuZnVuY3Rpb25fKGdldENvb2tpZVN0cmluZyk7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBIb3JyaWJsZSBgdG91Z2gtY29va2llYCB2MyBjaGVjayAqL1xuICAgICAgICBpZiAoc2V0Q29va2llLmxlbmd0aCA9PT0gNCAmJiBnZXRDb29raWVTdHJpbmcubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBzZXRDb29raWUgPSBwcm9taXNpZnkoc2V0Q29va2llLmJpbmQodmFsdWUpKTtcbiAgICAgICAgICAgIGdldENvb2tpZVN0cmluZyA9IHByb21pc2lmeShnZXRDb29raWVTdHJpbmcuYmluZCh2YWx1ZSkpO1xuICAgICAgICAgICAgdGhpcy5faW50ZXJuYWxzLmNvb2tpZUphciA9IHtcbiAgICAgICAgICAgICAgICBzZXRDb29raWUsXG4gICAgICAgICAgICAgICAgZ2V0Q29va2llU3RyaW5nOiBnZXRDb29raWVTdHJpbmcsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faW50ZXJuYWxzLmNvb2tpZUphciA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgIFlvdSBjYW4gYWJvcnQgdGhlIGByZXF1ZXN0YCB1c2luZyBbYEFib3J0Q29udHJvbGxlcmBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9BYm9ydENvbnRyb2xsZXIpLlxuXG4gICAgQGV4YW1wbGVcbiAgICBgYGBcbiAgICBpbXBvcnQgZ290IGZyb20gJ2dvdCc7XG5cbiAgICBjb25zdCBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG5cbiAgICBjb25zdCByZXF1ZXN0ID0gZ290KCdodHRwczovL2h0dHBiaW4ub3JnL2FueXRoaW5nJywge1xuICAgICAgICBzaWduYWw6IGFib3J0Q29udHJvbGxlci5zaWduYWxcbiAgICB9KTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBhYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICB9LCAxMDApO1xuICAgIGBgYFxuICAgICovXG4gICAgZ2V0IHNpZ25hbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludGVybmFscy5zaWduYWw7XG4gICAgfVxuICAgIHNldCBzaWduYWwodmFsdWUpIHtcbiAgICAgICAgYXNzZXJ0Lm9iamVjdCh2YWx1ZSk7XG4gICAgICAgIHRoaXMuX2ludGVybmFscy5zaWduYWwgPSB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgSWdub3JlIGludmFsaWQgY29va2llcyBpbnN0ZWFkIG9mIHRocm93aW5nIGFuIGVycm9yLlxuICAgIE9ubHkgdXNlZnVsIHdoZW4gdGhlIGBjb29raWVKYXJgIG9wdGlvbiBoYXMgYmVlbiBzZXQuIE5vdCByZWNvbW1lbmRlZC5cblxuICAgIEBkZWZhdWx0IGZhbHNlXG4gICAgKi9cbiAgICBnZXQgaWdub3JlSW52YWxpZENvb2tpZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnRlcm5hbHMuaWdub3JlSW52YWxpZENvb2tpZXM7XG4gICAgfVxuICAgIHNldCBpZ25vcmVJbnZhbGlkQ29va2llcyh2YWx1ZSkge1xuICAgICAgICBhc3NlcnQuYm9vbGVhbih2YWx1ZSk7XG4gICAgICAgIHRoaXMuX2ludGVybmFscy5pZ25vcmVJbnZhbGlkQ29va2llcyA9IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICBRdWVyeSBzdHJpbmcgdGhhdCB3aWxsIGJlIGFkZGVkIHRvIHRoZSByZXF1ZXN0IFVSTC5cbiAgICBUaGlzIHdpbGwgb3ZlcnJpZGUgdGhlIHF1ZXJ5IHN0cmluZyBpbiBgdXJsYC5cblxuICAgIElmIHlvdSBuZWVkIHRvIHBhc3MgaW4gYW4gYXJyYXksIHlvdSBjYW4gZG8gaXQgdXNpbmcgYSBgVVJMU2VhcmNoUGFyYW1zYCBpbnN0YW5jZS5cblxuICAgIEBleGFtcGxlXG4gICAgYGBgXG4gICAgaW1wb3J0IGdvdCBmcm9tICdnb3QnO1xuXG4gICAgY29uc3Qgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhbWydrZXknLCAnYSddLCBbJ2tleScsICdiJ11dKTtcblxuICAgIGF3YWl0IGdvdCgnaHR0cHM6Ly9leGFtcGxlLmNvbScsIHtzZWFyY2hQYXJhbXN9KTtcblxuICAgIGNvbnNvbGUubG9nKHNlYXJjaFBhcmFtcy50b1N0cmluZygpKTtcbiAgICAvLz0+ICdrZXk9YSZrZXk9YidcbiAgICBgYGBcbiAgICAqL1xuICAgIGdldCBzZWFyY2hQYXJhbXMoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pbnRlcm5hbHMudXJsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW50ZXJuYWxzLnVybC5zZWFyY2hQYXJhbXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2ludGVybmFscy5zZWFyY2hQYXJhbXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5faW50ZXJuYWxzLnNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5faW50ZXJuYWxzLnNlYXJjaFBhcmFtcztcbiAgICB9XG4gICAgc2V0IHNlYXJjaFBhcmFtcyh2YWx1ZSkge1xuICAgICAgICBhc3NlcnQuYW55KFtpcy5zdHJpbmcsIGlzLm9iamVjdCwgaXMudW5kZWZpbmVkXSwgdmFsdWUpO1xuICAgICAgICBjb25zdCB1cmwgPSB0aGlzLl9pbnRlcm5hbHMudXJsO1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5faW50ZXJuYWxzLnNlYXJjaFBhcmFtcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmICh1cmwpIHtcbiAgICAgICAgICAgICAgICB1cmwuc2VhcmNoID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2VhcmNoUGFyYW1ldGVycyA9IHRoaXMuc2VhcmNoUGFyYW1zO1xuICAgICAgICBsZXQgdXBkYXRlZDtcbiAgICAgICAgaWYgKGlzLnN0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHVwZGF0ZWQgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtcykge1xuICAgICAgICAgICAgdXBkYXRlZCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFsaWRhdGVTZWFyY2hQYXJhbWV0ZXJzKHZhbHVlKTtcbiAgICAgICAgICAgIHVwZGF0ZWQgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ3VhcmQtZm9yLWluXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVudHJ5ID0gdmFsdWVba2V5XTtcbiAgICAgICAgICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZC5hcHBlbmQoa2V5LCAnJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGVudHJ5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoUGFyYW1ldGVycy5kZWxldGUoa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQuYXBwZW5kKGtleSwgZW50cnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fbWVyZ2luZykge1xuICAgICAgICAgICAgLy8gVGhlc2Uga2V5cyB3aWxsIGJlIHJlcGxhY2VkXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiB1cGRhdGVkLmtleXMoKSkge1xuICAgICAgICAgICAgICAgIHNlYXJjaFBhcmFtZXRlcnMuZGVsZXRlKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiB1cGRhdGVkKSB7XG4gICAgICAgICAgICAgICAgc2VhcmNoUGFyYW1ldGVycy5hcHBlbmQoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodXJsKSB7XG4gICAgICAgICAgICB1cmwuc2VhcmNoID0gc2VhcmNoUGFyYW1ldGVycy50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faW50ZXJuYWxzLnNlYXJjaFBhcmFtcyA9IHNlYXJjaFBhcmFtZXRlcnM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IHNlYXJjaFBhcmFtZXRlcnMoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGBzZWFyY2hQYXJhbWV0ZXJzYCBvcHRpb24gZG9lcyBub3QgZXhpc3QuIFVzZSBgc2VhcmNoUGFyYW1zYCBpbnN0ZWFkLicpO1xuICAgIH1cbiAgICBzZXQgc2VhcmNoUGFyYW1ldGVycyhfdmFsdWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgYHNlYXJjaFBhcmFtZXRlcnNgIG9wdGlvbiBkb2VzIG5vdCBleGlzdC4gVXNlIGBzZWFyY2hQYXJhbXNgIGluc3RlYWQuJyk7XG4gICAgfVxuICAgIGdldCBkbnNMb29rdXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnRlcm5hbHMuZG5zTG9va3VwO1xuICAgIH1cbiAgICBzZXQgZG5zTG9va3VwKHZhbHVlKSB7XG4gICAgICAgIGFzc2VydC5hbnkoW2lzLmZ1bmN0aW9uXywgaXMudW5kZWZpbmVkXSwgdmFsdWUpO1xuICAgICAgICB0aGlzLl9pbnRlcm5hbHMuZG5zTG9va3VwID0gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgIEFuIGluc3RhbmNlIG9mIFtgQ2FjaGVhYmxlTG9va3VwYF0oaHR0cHM6Ly9naXRodWIuY29tL3N6bWFyY3phay9jYWNoZWFibGUtbG9va3VwKSB1c2VkIGZvciBtYWtpbmcgRE5TIGxvb2t1cHMuXG4gICAgVXNlZnVsIHdoZW4gbWFraW5nIGxvdHMgb2YgcmVxdWVzdHMgdG8gZGlmZmVyZW50ICpwdWJsaWMqIGhvc3RuYW1lcy5cblxuICAgIGBDYWNoZWFibGVMb29rdXBgIHVzZXMgYGRucy5yZXNvbHZlcjQoLi4pYCBhbmQgYGRucy5yZXNvbHZlcjYoLi4uKWAgdW5kZXIgdGhlIGhvb2QgYW5kIGZhbGwgYmFja3MgdG8gYGRucy5sb29rdXAoLi4uKWAgd2hlbiB0aGUgZmlyc3QgdHdvIGZhaWwsIHdoaWNoIG1heSBsZWFkIHRvIGFkZGl0aW9uYWwgZGVsYXkuXG5cbiAgICBfX05vdGVfXzogVGhpcyBzaG91bGQgc3RheSBkaXNhYmxlZCB3aGVuIG1ha2luZyByZXF1ZXN0cyB0byBpbnRlcm5hbCBob3N0bmFtZXMgc3VjaCBhcyBgbG9jYWxob3N0YCwgYGRhdGFiYXNlLmxvY2FsYCBldGMuXG5cbiAgICBAZGVmYXVsdCBmYWxzZVxuICAgICovXG4gICAgZ2V0IGRuc0NhY2hlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW50ZXJuYWxzLmRuc0NhY2hlO1xuICAgIH1cbiAgICBzZXQgZG5zQ2FjaGUodmFsdWUpIHtcbiAgICAgICAgYXNzZXJ0LmFueShbaXMub2JqZWN0LCBpcy5ib29sZWFuLCBpcy51bmRlZmluZWRdLCB2YWx1ZSk7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5faW50ZXJuYWxzLmRuc0NhY2hlID0gZ2V0R2xvYmFsRG5zQ2FjaGUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX2ludGVybmFscy5kbnNDYWNoZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2ludGVybmFscy5kbnNDYWNoZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgIFVzZXIgZGF0YS4gYGNvbnRleHRgIGlzIHNoYWxsb3cgbWVyZ2VkIGFuZCBlbnVtZXJhYmxlLiBJZiBpdCBjb250YWlucyBub24tZW51bWVyYWJsZSBwcm9wZXJ0aWVzIHRoZXkgd2lsbCBOT1QgYmUgbWVyZ2VkLlxuXG4gICAgQGV4YW1wbGVcbiAgICBgYGBcbiAgICBpbXBvcnQgZ290IGZyb20gJ2dvdCc7XG5cbiAgICBjb25zdCBpbnN0YW5jZSA9IGdvdC5leHRlbmQoe1xuICAgICAgICBob29rczoge1xuICAgICAgICAgICAgYmVmb3JlUmVxdWVzdDogW1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMuY29udGV4dCB8fCAhb3B0aW9ucy5jb250ZXh0LnRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Rva2VuIHJlcXVpcmVkJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmhlYWRlcnMudG9rZW4gPSBvcHRpb25zLmNvbnRleHQudG9rZW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgICB0b2tlbjogJ3NlY3JldCdcbiAgICB9O1xuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBpbnN0YW5jZSgnaHR0cHM6Ly9odHRwYmluLm9yZy9oZWFkZXJzJywge2NvbnRleHR9KTtcblxuICAgIC8vIExldCdzIHNlZSB0aGUgaGVhZGVyc1xuICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmJvZHkpO1xuICAgIGBgYFxuICAgICovXG4gICAgZ2V0IGNvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnRlcm5hbHMuY29udGV4dDtcbiAgICB9XG4gICAgc2V0IGNvbnRleHQodmFsdWUpIHtcbiAgICAgICAgYXNzZXJ0Lm9iamVjdCh2YWx1ZSk7XG4gICAgICAgIGlmICh0aGlzLl9tZXJnaW5nKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuX2ludGVybmFscy5jb250ZXh0LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9pbnRlcm5hbHMuY29udGV4dCA9IHsgLi4udmFsdWUgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICBIb29rcyBhbGxvdyBtb2RpZmljYXRpb25zIGR1cmluZyB0aGUgcmVxdWVzdCBsaWZlY3ljbGUuXG4gICAgSG9vayBmdW5jdGlvbnMgbWF5IGJlIGFzeW5jIGFuZCBhcmUgcnVuIHNlcmlhbGx5LlxuICAgICovXG4gICAgZ2V0IGhvb2tzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW50ZXJuYWxzLmhvb2tzO1xuICAgIH1cbiAgICBzZXQgaG9va3ModmFsdWUpIHtcbiAgICAgICAgYXNzZXJ0Lm9iamVjdCh2YWx1ZSk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBndWFyZC1mb3ItaW5cbiAgICAgICAgZm9yIChjb25zdCBrbm93bkhvb2tFdmVudCBpbiB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCEoa25vd25Ib29rRXZlbnQgaW4gdGhpcy5faW50ZXJuYWxzLmhvb2tzKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBob29rIGV2ZW50OiAke2tub3duSG9va0V2ZW50fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdHlwZWRLbm93bkhvb2tFdmVudCA9IGtub3duSG9va0V2ZW50O1xuICAgICAgICAgICAgY29uc3QgaG9va3MgPSB2YWx1ZVt0eXBlZEtub3duSG9va0V2ZW50XTtcbiAgICAgICAgICAgIGFzc2VydC5hbnkoW2lzLmFycmF5LCBpcy51bmRlZmluZWRdLCBob29rcyk7XG4gICAgICAgICAgICBpZiAoaG9va3MpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGhvb2sgb2YgaG9va3MpIHtcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0LmZ1bmN0aW9uXyhob29rKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fbWVyZ2luZykge1xuICAgICAgICAgICAgICAgIGlmIChob29rcykge1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIEZJWE1FXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ludGVybmFscy5ob29rc1t0eXBlZEtub3duSG9va0V2ZW50XS5wdXNoKC4uLmhvb2tzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIWhvb2tzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyBob29rIGV2ZW50OiAke2tub3duSG9va0V2ZW50fWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIEZJWE1FXG4gICAgICAgICAgICAgICAgdGhpcy5faW50ZXJuYWxzLmhvb2tzW2tub3duSG9va0V2ZW50XSA9IFsuLi5ob29rc107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgRGVmaW5lcyBpZiByZWRpcmVjdCByZXNwb25zZXMgc2hvdWxkIGJlIGZvbGxvd2VkIGF1dG9tYXRpY2FsbHkuXG5cbiAgICBOb3RlIHRoYXQgaWYgYSBgMzAzYCBpcyBzZW50IGJ5IHRoZSBzZXJ2ZXIgaW4gcmVzcG9uc2UgdG8gYW55IHJlcXVlc3QgdHlwZSAoYFBPU1RgLCBgREVMRVRFYCwgZXRjLiksIEdvdCB3aWxsIGF1dG9tYXRpY2FsbHkgcmVxdWVzdCB0aGUgcmVzb3VyY2UgcG9pbnRlZCB0byBpbiB0aGUgbG9jYXRpb24gaGVhZGVyIHZpYSBgR0VUYC5cbiAgICBUaGlzIGlzIGluIGFjY29yZGFuY2Ugd2l0aCBbdGhlIHNwZWNdKGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM3MjMxI3NlY3Rpb24tNi40LjQpLiBZb3UgY2FuIG9wdGlvbmFsbHkgdHVybiBvbiB0aGlzIGJlaGF2aW9yIGFsc28gZm9yIG90aGVyIHJlZGlyZWN0IGNvZGVzIC0gc2VlIGBtZXRob2RSZXdyaXRpbmdgLlxuXG4gICAgQGRlZmF1bHQgdHJ1ZVxuICAgICovXG4gICAgZ2V0IGZvbGxvd1JlZGlyZWN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW50ZXJuYWxzLmZvbGxvd1JlZGlyZWN0O1xuICAgIH1cbiAgICBzZXQgZm9sbG93UmVkaXJlY3QodmFsdWUpIHtcbiAgICAgICAgYXNzZXJ0LmJvb2xlYW4odmFsdWUpO1xuICAgICAgICB0aGlzLl9pbnRlcm5hbHMuZm9sbG93UmVkaXJlY3QgPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IGZvbGxvd1JlZGlyZWN0cygpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGBmb2xsb3dSZWRpcmVjdHNgIG9wdGlvbiBkb2VzIG5vdCBleGlzdC4gVXNlIGBmb2xsb3dSZWRpcmVjdGAgaW5zdGVhZC4nKTtcbiAgICB9XG4gICAgc2V0IGZvbGxvd1JlZGlyZWN0cyhfdmFsdWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGBmb2xsb3dSZWRpcmVjdHNgIG9wdGlvbiBkb2VzIG5vdCBleGlzdC4gVXNlIGBmb2xsb3dSZWRpcmVjdGAgaW5zdGVhZC4nKTtcbiAgICB9XG4gICAgLyoqXG4gICAgSWYgZXhjZWVkZWQsIHRoZSByZXF1ZXN0IHdpbGwgYmUgYWJvcnRlZCBhbmQgYSBgTWF4UmVkaXJlY3RzRXJyb3JgIHdpbGwgYmUgdGhyb3duLlxuXG4gICAgQGRlZmF1bHQgMTBcbiAgICAqL1xuICAgIGdldCBtYXhSZWRpcmVjdHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnRlcm5hbHMubWF4UmVkaXJlY3RzO1xuICAgIH1cbiAgICBzZXQgbWF4UmVkaXJlY3RzKHZhbHVlKSB7XG4gICAgICAgIGFzc2VydC5udW1iZXIodmFsdWUpO1xuICAgICAgICB0aGlzLl9pbnRlcm5hbHMubWF4UmVkaXJlY3RzID0gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgIEEgY2FjaGUgYWRhcHRlciBpbnN0YW5jZSBmb3Igc3RvcmluZyBjYWNoZWQgcmVzcG9uc2UgZGF0YS5cblxuICAgIEBkZWZhdWx0IGZhbHNlXG4gICAgKi9cbiAgICBnZXQgY2FjaGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnRlcm5hbHMuY2FjaGU7XG4gICAgfVxuICAgIHNldCBjYWNoZSh2YWx1ZSkge1xuICAgICAgICBhc3NlcnQuYW55KFtpcy5vYmplY3QsIGlzLnN0cmluZywgaXMuYm9vbGVhbiwgaXMudW5kZWZpbmVkXSwgdmFsdWUpO1xuICAgICAgICBpZiAodmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2ludGVybmFscy5jYWNoZSA9IGdsb2JhbENhY2hlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbHVlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5faW50ZXJuYWxzLmNhY2hlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faW50ZXJuYWxzLmNhY2hlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgRGV0ZXJtaW5lcyBpZiBhIGBnb3QuSFRUUEVycm9yYCBpcyB0aHJvd24gZm9yIHVuc3VjY2Vzc2Z1bCByZXNwb25zZXMuXG5cbiAgICBJZiB0aGlzIGlzIGRpc2FibGVkLCByZXF1ZXN0cyB0aGF0IGVuY291bnRlciBhbiBlcnJvciBzdGF0dXMgY29kZSB3aWxsIGJlIHJlc29sdmVkIHdpdGggdGhlIGByZXNwb25zZWAgaW5zdGVhZCBvZiB0aHJvd2luZy5cbiAgICBUaGlzIG1heSBiZSB1c2VmdWwgaWYgeW91IGFyZSBjaGVja2luZyBmb3IgcmVzb3VyY2UgYXZhaWxhYmlsaXR5IGFuZCBhcmUgZXhwZWN0aW5nIGVycm9yIHJlc3BvbnNlcy5cblxuICAgIEBkZWZhdWx0IHRydWVcbiAgICAqL1xuICAgIGdldCB0aHJvd0h0dHBFcnJvcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnRlcm5hbHMudGhyb3dIdHRwRXJyb3JzO1xuICAgIH1cbiAgICBzZXQgdGhyb3dIdHRwRXJyb3JzKHZhbHVlKSB7XG4gICAgICAgIGFzc2VydC5ib29sZWFuKHZhbHVlKTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxzLnRocm93SHR0cEVycm9ycyA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgdXNlcm5hbWUoKSB7XG4gICAgICAgIGNvbnN0IHVybCA9IHRoaXMuX2ludGVybmFscy51cmw7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdXJsID8gdXJsLnVzZXJuYW1lIDogdGhpcy5faW50ZXJuYWxzLnVzZXJuYW1lO1xuICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcbiAgICB9XG4gICAgc2V0IHVzZXJuYW1lKHZhbHVlKSB7XG4gICAgICAgIGFzc2VydC5zdHJpbmcodmFsdWUpO1xuICAgICAgICBjb25zdCB1cmwgPSB0aGlzLl9pbnRlcm5hbHMudXJsO1xuICAgICAgICBjb25zdCBmaXhlZFZhbHVlID0gZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcbiAgICAgICAgaWYgKHVybCkge1xuICAgICAgICAgICAgdXJsLnVzZXJuYW1lID0gZml4ZWRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2ludGVybmFscy51c2VybmFtZSA9IGZpeGVkVmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IHBhc3N3b3JkKCkge1xuICAgICAgICBjb25zdCB1cmwgPSB0aGlzLl9pbnRlcm5hbHMudXJsO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHVybCA/IHVybC5wYXNzd29yZCA6IHRoaXMuX2ludGVybmFscy5wYXNzd29yZDtcbiAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG4gICAgfVxuICAgIHNldCBwYXNzd29yZCh2YWx1ZSkge1xuICAgICAgICBhc3NlcnQuc3RyaW5nKHZhbHVlKTtcbiAgICAgICAgY29uc3QgdXJsID0gdGhpcy5faW50ZXJuYWxzLnVybDtcbiAgICAgICAgY29uc3QgZml4ZWRWYWx1ZSA9IGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG4gICAgICAgIGlmICh1cmwpIHtcbiAgICAgICAgICAgIHVybC5wYXNzd29yZCA9IGZpeGVkVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9pbnRlcm5hbHMucGFzc3dvcmQgPSBmaXhlZFZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgIElmIHNldCB0byBgdHJ1ZWAsIEdvdCB3aWxsIGFkZGl0aW9uYWxseSBhY2NlcHQgSFRUUDIgcmVxdWVzdHMuXG5cbiAgICBJdCB3aWxsIGNob29zZSBlaXRoZXIgSFRUUC8xLjEgb3IgSFRUUC8yIGRlcGVuZGluZyBvbiB0aGUgQUxQTiBwcm90b2NvbC5cblxuICAgIF9fTm90ZV9fOiBUaGlzIG9wdGlvbiByZXF1aXJlcyBOb2RlLmpzIDE1LjEwLjAgb3IgbmV3ZXIgYXMgSFRUUC8yIHN1cHBvcnQgb24gb2xkZXIgTm9kZS5qcyB2ZXJzaW9ucyBpcyB2ZXJ5IGJ1Z2d5LlxuXG4gICAgX19Ob3RlX186IE92ZXJyaWRpbmcgYG9wdGlvbnMucmVxdWVzdGAgd2lsbCBkaXNhYmxlIEhUVFAyIHN1cHBvcnQuXG5cbiAgICBAZGVmYXVsdCBmYWxzZVxuXG4gICAgQGV4YW1wbGVcbiAgICBgYGBcbiAgICBpbXBvcnQgZ290IGZyb20gJ2dvdCc7XG5cbiAgICBjb25zdCB7aGVhZGVyc30gPSBhd2FpdCBnb3QoJ2h0dHBzOi8vbmdodHRwMi5vcmcvaHR0cGJpbi9hbnl0aGluZycsIHtodHRwMjogdHJ1ZX0pO1xuXG4gICAgY29uc29sZS5sb2coaGVhZGVycy52aWEpO1xuICAgIC8vPT4gJzIgbmdodHRweCdcbiAgICBgYGBcbiAgICAqL1xuICAgIGdldCBodHRwMigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludGVybmFscy5odHRwMjtcbiAgICB9XG4gICAgc2V0IGh0dHAyKHZhbHVlKSB7XG4gICAgICAgIGFzc2VydC5ib29sZWFuKHZhbHVlKTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxzLmh0dHAyID0gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgIFNldCB0aGlzIHRvIGB0cnVlYCB0byBhbGxvdyBzZW5kaW5nIGJvZHkgZm9yIHRoZSBgR0VUYCBtZXRob2QuXG4gICAgSG93ZXZlciwgdGhlIFtIVFRQLzIgc3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzc1NDAjc2VjdGlvbi04LjEuMykgc2F5cyB0aGF0IGBBbiBIVFRQIEdFVCByZXF1ZXN0IGluY2x1ZGVzIHJlcXVlc3QgaGVhZGVyIGZpZWxkcyBhbmQgbm8gcGF5bG9hZCBib2R5YCwgdGhlcmVmb3JlIHdoZW4gdXNpbmcgdGhlIEhUVFAvMiBwcm90b2NvbCB0aGlzIG9wdGlvbiB3aWxsIGhhdmUgbm8gZWZmZWN0LlxuICAgIFRoaXMgb3B0aW9uIGlzIG9ubHkgbWVhbnQgdG8gaW50ZXJhY3Qgd2l0aCBub24tY29tcGxpYW50IHNlcnZlcnMgd2hlbiB5b3UgaGF2ZSBubyBvdGhlciBjaG9pY2UuXG5cbiAgICBfX05vdGVfXzogVGhlIFtSRkMgNzIzMV0oaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzcyMzEjc2VjdGlvbi00LjMuMSkgZG9lc24ndCBzcGVjaWZ5IGFueSBwYXJ0aWN1bGFyIGJlaGF2aW9yIGZvciB0aGUgR0VUIG1ldGhvZCBoYXZpbmcgYSBwYXlsb2FkLCB0aGVyZWZvcmUgX19pdCdzIGNvbnNpZGVyZWQgYW4gW2FudGktcGF0dGVybl0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQW50aS1wYXR0ZXJuKV9fLlxuXG4gICAgQGRlZmF1bHQgZmFsc2VcbiAgICAqL1xuICAgIGdldCBhbGxvd0dldEJvZHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnRlcm5hbHMuYWxsb3dHZXRCb2R5O1xuICAgIH1cbiAgICBzZXQgYWxsb3dHZXRCb2R5KHZhbHVlKSB7XG4gICAgICAgIGFzc2VydC5ib29sZWFuKHZhbHVlKTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxzLmFsbG93R2V0Qm9keSA9IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICBSZXF1ZXN0IGhlYWRlcnMuXG5cbiAgICBFeGlzdGluZyBoZWFkZXJzIHdpbGwgYmUgb3ZlcndyaXR0ZW4uIEhlYWRlcnMgc2V0IHRvIGB1bmRlZmluZWRgIHdpbGwgYmUgb21pdHRlZC5cblxuICAgIEBkZWZhdWx0IHt9XG4gICAgKi9cbiAgICBnZXQgaGVhZGVycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludGVybmFscy5oZWFkZXJzO1xuICAgIH1cbiAgICBzZXQgaGVhZGVycyh2YWx1ZSkge1xuICAgICAgICBhc3NlcnQucGxhaW5PYmplY3QodmFsdWUpO1xuICAgICAgICBpZiAodGhpcy5fbWVyZ2luZykge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9pbnRlcm5hbHMuaGVhZGVycywgbG93ZXJjYXNlS2V5cyh2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faW50ZXJuYWxzLmhlYWRlcnMgPSBsb3dlcmNhc2VLZXlzKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICBTcGVjaWZpZXMgaWYgdGhlIEhUVFAgcmVxdWVzdCBtZXRob2Qgc2hvdWxkIGJlIFtyZXdyaXR0ZW4gYXMgYEdFVGBdKGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM3MjMxI3NlY3Rpb24tNi40KSBvbiByZWRpcmVjdHMuXG5cbiAgICBBcyB0aGUgW3NwZWNpZmljYXRpb25dKGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM3MjMxI3NlY3Rpb24tNi40KSBwcmVmZXJzIHRvIHJld3JpdGUgdGhlIEhUVFAgbWV0aG9kIG9ubHkgb24gYDMwM2AgcmVzcG9uc2VzLCB0aGlzIGlzIEdvdCdzIGRlZmF1bHQgYmVoYXZpb3IuXG4gICAgU2V0dGluZyBgbWV0aG9kUmV3cml0aW5nYCB0byBgdHJ1ZWAgd2lsbCBhbHNvIHJld3JpdGUgYDMwMWAgYW5kIGAzMDJgIHJlc3BvbnNlcywgYXMgYWxsb3dlZCBieSB0aGUgc3BlYy4gVGhpcyBpcyB0aGUgYmVoYXZpb3IgZm9sbG93ZWQgYnkgYGN1cmxgIGFuZCBicm93c2Vycy5cblxuICAgIF9fTm90ZV9fOiBHb3QgbmV2ZXIgcGVyZm9ybXMgbWV0aG9kIHJld3JpdGluZyBvbiBgMzA3YCBhbmQgYDMwOGAgcmVzcG9uc2VzLCBhcyB0aGlzIGlzIFtleHBsaWNpdGx5IHByb2hpYml0ZWQgYnkgdGhlIHNwZWNpZmljYXRpb25dKGh0dHBzOi8vd3d3LnJmYy1lZGl0b3Iub3JnL3JmYy9yZmM3MjMxI3NlY3Rpb24tNi40LjcpLlxuXG4gICAgQGRlZmF1bHQgZmFsc2VcbiAgICAqL1xuICAgIGdldCBtZXRob2RSZXdyaXRpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnRlcm5hbHMubWV0aG9kUmV3cml0aW5nO1xuICAgIH1cbiAgICBzZXQgbWV0aG9kUmV3cml0aW5nKHZhbHVlKSB7XG4gICAgICAgIGFzc2VydC5ib29sZWFuKHZhbHVlKTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxzLm1ldGhvZFJld3JpdGluZyA9IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICBJbmRpY2F0ZXMgd2hpY2ggRE5TIHJlY29yZCBmYW1pbHkgdG8gdXNlLlxuXG4gICAgVmFsdWVzOlxuICAgIC0gYHVuZGVmaW5lZGA6IElQdjQgKGlmIHByZXNlbnQpIG9yIElQdjZcbiAgICAtIGA0YDogT25seSBJUHY0XG4gICAgLSBgNmA6IE9ubHkgSVB2NlxuXG4gICAgQGRlZmF1bHQgdW5kZWZpbmVkXG4gICAgKi9cbiAgICBnZXQgZG5zTG9va3VwSXBWZXJzaW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW50ZXJuYWxzLmRuc0xvb2t1cElwVmVyc2lvbjtcbiAgICB9XG4gICAgc2V0IGRuc0xvb2t1cElwVmVyc2lvbih2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gNCAmJiB2YWx1ZSAhPT0gNikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgSW52YWxpZCBETlMgbG9va3VwIElQIHZlcnNpb246ICR7dmFsdWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faW50ZXJuYWxzLmRuc0xvb2t1cElwVmVyc2lvbiA9IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICBBIGZ1bmN0aW9uIHVzZWQgdG8gcGFyc2UgSlNPTiByZXNwb25zZXMuXG5cbiAgICBAZXhhbXBsZVxuICAgIGBgYFxuICAgIGltcG9ydCBnb3QgZnJvbSAnZ290JztcbiAgICBpbXBvcnQgQm91cm5lIGZyb20gJ0BoYXBpL2JvdXJuZSc7XG5cbiAgICBjb25zdCBwYXJzZWQgPSBhd2FpdCBnb3QoJ2h0dHBzOi8vZXhhbXBsZS5jb20nLCB7XG4gICAgICAgIHBhcnNlSnNvbjogdGV4dCA9PiBCb3VybmUucGFyc2UodGV4dClcbiAgICB9KS5qc29uKCk7XG5cbiAgICBjb25zb2xlLmxvZyhwYXJzZWQpO1xuICAgIGBgYFxuICAgICovXG4gICAgZ2V0IHBhcnNlSnNvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludGVybmFscy5wYXJzZUpzb247XG4gICAgfVxuICAgIHNldCBwYXJzZUpzb24odmFsdWUpIHtcbiAgICAgICAgYXNzZXJ0LmZ1bmN0aW9uXyh2YWx1ZSk7XG4gICAgICAgIHRoaXMuX2ludGVybmFscy5wYXJzZUpzb24gPSB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgQSBmdW5jdGlvbiB1c2VkIHRvIHN0cmluZ2lmeSB0aGUgYm9keSBvZiBKU09OIHJlcXVlc3RzLlxuXG4gICAgQGV4YW1wbGVcbiAgICBgYGBcbiAgICBpbXBvcnQgZ290IGZyb20gJ2dvdCc7XG5cbiAgICBhd2FpdCBnb3QucG9zdCgnaHR0cHM6Ly9leGFtcGxlLmNvbScsIHtcbiAgICAgICAgc3RyaW5naWZ5SnNvbjogb2JqZWN0ID0+IEpTT04uc3RyaW5naWZ5KG9iamVjdCwgKGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmIChrZXkuc3RhcnRzV2l0aCgnXycpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0pLFxuICAgICAgICBqc29uOiB7XG4gICAgICAgICAgICBzb21lOiAncGF5bG9hZCcsXG4gICAgICAgICAgICBfaWdub3JlTWU6IDEyMzRcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGBgYFxuXG4gICAgQGV4YW1wbGVcbiAgICBgYGBcbiAgICBpbXBvcnQgZ290IGZyb20gJ2dvdCc7XG5cbiAgICBhd2FpdCBnb3QucG9zdCgnaHR0cHM6Ly9leGFtcGxlLmNvbScsIHtcbiAgICAgICAgc3RyaW5naWZ5SnNvbjogb2JqZWN0ID0+IEpTT04uc3RyaW5naWZ5KG9iamVjdCwgKGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSksXG4gICAgICAgIGpzb246IHtcbiAgICAgICAgICAgIHNvbWU6ICdwYXlsb2FkJyxcbiAgICAgICAgICAgIG51bWJlcjogMVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgYGBgXG4gICAgKi9cbiAgICBnZXQgc3RyaW5naWZ5SnNvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludGVybmFscy5zdHJpbmdpZnlKc29uO1xuICAgIH1cbiAgICBzZXQgc3RyaW5naWZ5SnNvbih2YWx1ZSkge1xuICAgICAgICBhc3NlcnQuZnVuY3Rpb25fKHZhbHVlKTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxzLnN0cmluZ2lmeUpzb24gPSB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgQW4gb2JqZWN0IHJlcHJlc2VudGluZyBgbGltaXRgLCBgY2FsY3VsYXRlRGVsYXlgLCBgbWV0aG9kc2AsIGBzdGF0dXNDb2Rlc2AsIGBtYXhSZXRyeUFmdGVyYCBhbmQgYGVycm9yQ29kZXNgIGZpZWxkcyBmb3IgbWF4aW11bSByZXRyeSBjb3VudCwgcmV0cnkgaGFuZGxlciwgYWxsb3dlZCBtZXRob2RzLCBhbGxvd2VkIHN0YXR1cyBjb2RlcywgbWF4aW11bSBbYFJldHJ5LUFmdGVyYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRUUC9IZWFkZXJzL1JldHJ5LUFmdGVyKSB0aW1lIGFuZCBhbGxvd2VkIGVycm9yIGNvZGVzLlxuXG4gICAgRGVsYXlzIGJldHdlZW4gcmV0cmllcyBjb3VudHMgd2l0aCBmdW5jdGlvbiBgMTAwMCAqIE1hdGgucG93KDIsIHJldHJ5KSArIE1hdGgucmFuZG9tKCkgKiAxMDBgLCB3aGVyZSBgcmV0cnlgIGlzIGF0dGVtcHQgbnVtYmVyIChzdGFydHMgZnJvbSAxKS5cblxuICAgIFRoZSBgY2FsY3VsYXRlRGVsYXlgIHByb3BlcnR5IGlzIGEgYGZ1bmN0aW9uYCB0aGF0IHJlY2VpdmVzIGFuIG9iamVjdCB3aXRoIGBhdHRlbXB0Q291bnRgLCBgcmV0cnlPcHRpb25zYCwgYGVycm9yYCBhbmQgYGNvbXB1dGVkVmFsdWVgIHByb3BlcnRpZXMgZm9yIGN1cnJlbnQgcmV0cnkgY291bnQsIHRoZSByZXRyeSBvcHRpb25zLCBlcnJvciBhbmQgZGVmYXVsdCBjb21wdXRlZCB2YWx1ZS5cbiAgICBUaGUgZnVuY3Rpb24gbXVzdCByZXR1cm4gYSBkZWxheSBpbiBtaWxsaXNlY29uZHMgKG9yIGEgUHJvbWlzZSByZXNvbHZpbmcgd2l0aCBpdCkgKGAwYCByZXR1cm4gdmFsdWUgY2FuY2VscyByZXRyeSkuXG5cbiAgICBCeSBkZWZhdWx0LCBpdCByZXRyaWVzICpvbmx5KiBvbiB0aGUgc3BlY2lmaWVkIG1ldGhvZHMsIHN0YXR1cyBjb2RlcywgYW5kIG9uIHRoZXNlIG5ldHdvcmsgZXJyb3JzOlxuXG4gICAgLSBgRVRJTUVET1VUYDogT25lIG9mIHRoZSBbdGltZW91dF0oI3RpbWVvdXQpIGxpbWl0cyB3ZXJlIHJlYWNoZWQuXG4gICAgLSBgRUNPTk5SRVNFVGA6IENvbm5lY3Rpb24gd2FzIGZvcmNpYmx5IGNsb3NlZCBieSBhIHBlZXIuXG4gICAgLSBgRUFERFJJTlVTRWA6IENvdWxkIG5vdCBiaW5kIHRvIGFueSBmcmVlIHBvcnQuXG4gICAgLSBgRUNPTk5SRUZVU0VEYDogQ29ubmVjdGlvbiB3YXMgcmVmdXNlZCBieSB0aGUgc2VydmVyLlxuICAgIC0gYEVQSVBFYDogVGhlIHJlbW90ZSBzaWRlIG9mIHRoZSBzdHJlYW0gYmVpbmcgd3JpdHRlbiBoYXMgYmVlbiBjbG9zZWQuXG4gICAgLSBgRU5PVEZPVU5EYDogQ291bGRuJ3QgcmVzb2x2ZSB0aGUgaG9zdG5hbWUgdG8gYW4gSVAgYWRkcmVzcy5cbiAgICAtIGBFTkVUVU5SRUFDSGA6IE5vIGludGVybmV0IGNvbm5lY3Rpb24uXG4gICAgLSBgRUFJX0FHQUlOYDogRE5TIGxvb2t1cCB0aW1lZCBvdXQuXG5cbiAgICBfX05vdGVfXzogSWYgYG1heFJldHJ5QWZ0ZXJgIGlzIHNldCB0byBgdW5kZWZpbmVkYCwgaXQgd2lsbCB1c2UgYG9wdGlvbnMudGltZW91dGAuXG4gICAgX19Ob3RlX186IElmIFtgUmV0cnktQWZ0ZXJgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVFRQL0hlYWRlcnMvUmV0cnktQWZ0ZXIpIGhlYWRlciBpcyBncmVhdGVyIHRoYW4gYG1heFJldHJ5QWZ0ZXJgLCBpdCB3aWxsIGNhbmNlbCB0aGUgcmVxdWVzdC5cbiAgICAqL1xuICAgIGdldCByZXRyeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludGVybmFscy5yZXRyeTtcbiAgICB9XG4gICAgc2V0IHJldHJ5KHZhbHVlKSB7XG4gICAgICAgIGFzc2VydC5wbGFpbk9iamVjdCh2YWx1ZSk7XG4gICAgICAgIGFzc2VydC5hbnkoW2lzLmZ1bmN0aW9uXywgaXMudW5kZWZpbmVkXSwgdmFsdWUuY2FsY3VsYXRlRGVsYXkpO1xuICAgICAgICBhc3NlcnQuYW55KFtpcy5udW1iZXIsIGlzLnVuZGVmaW5lZF0sIHZhbHVlLm1heFJldHJ5QWZ0ZXIpO1xuICAgICAgICBhc3NlcnQuYW55KFtpcy5udW1iZXIsIGlzLnVuZGVmaW5lZF0sIHZhbHVlLmxpbWl0KTtcbiAgICAgICAgYXNzZXJ0LmFueShbaXMuYXJyYXksIGlzLnVuZGVmaW5lZF0sIHZhbHVlLm1ldGhvZHMpO1xuICAgICAgICBhc3NlcnQuYW55KFtpcy5hcnJheSwgaXMudW5kZWZpbmVkXSwgdmFsdWUuc3RhdHVzQ29kZXMpO1xuICAgICAgICBhc3NlcnQuYW55KFtpcy5hcnJheSwgaXMudW5kZWZpbmVkXSwgdmFsdWUuZXJyb3JDb2Rlcyk7XG4gICAgICAgIGFzc2VydC5hbnkoW2lzLm51bWJlciwgaXMudW5kZWZpbmVkXSwgdmFsdWUubm9pc2UpO1xuICAgICAgICBpZiAodmFsdWUubm9pc2UgJiYgTWF0aC5hYnModmFsdWUubm9pc2UpID4gMTAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBtYXhpbXVtIGFjY2VwdGFibGUgcmV0cnkgbm9pc2UgaXMgKy8tIDEwMG1zLCBnb3QgJHt2YWx1ZS5ub2lzZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCEoa2V5IGluIHRoaXMuX2ludGVybmFscy5yZXRyeSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgcmV0cnkgb3B0aW9uOiAke2tleX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fbWVyZ2luZykge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9pbnRlcm5hbHMucmV0cnksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2ludGVybmFscy5yZXRyeSA9IHsgLi4udmFsdWUgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHJldHJ5IH0gPSB0aGlzLl9pbnRlcm5hbHM7XG4gICAgICAgIHJldHJ5Lm1ldGhvZHMgPSBbLi4ubmV3IFNldChyZXRyeS5tZXRob2RzLm1hcChtZXRob2QgPT4gbWV0aG9kLnRvVXBwZXJDYXNlKCkpKV07XG4gICAgICAgIHJldHJ5LnN0YXR1c0NvZGVzID0gWy4uLm5ldyBTZXQocmV0cnkuc3RhdHVzQ29kZXMpXTtcbiAgICAgICAgcmV0cnkuZXJyb3JDb2RlcyA9IFsuLi5uZXcgU2V0KHJldHJ5LmVycm9yQ29kZXMpXTtcbiAgICB9XG4gICAgLyoqXG4gICAgRnJvbSBgaHR0cC5SZXF1ZXN0T3B0aW9uc2AuXG5cbiAgICBUaGUgSVAgYWRkcmVzcyB1c2VkIHRvIHNlbmQgdGhlIHJlcXVlc3QgZnJvbS5cbiAgICAqL1xuICAgIGdldCBsb2NhbEFkZHJlc3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnRlcm5hbHMubG9jYWxBZGRyZXNzO1xuICAgIH1cbiAgICBzZXQgbG9jYWxBZGRyZXNzKHZhbHVlKSB7XG4gICAgICAgIGFzc2VydC5hbnkoW2lzLnN0cmluZywgaXMudW5kZWZpbmVkXSwgdmFsdWUpO1xuICAgICAgICB0aGlzLl9pbnRlcm5hbHMubG9jYWxBZGRyZXNzID0gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBIVFRQIG1ldGhvZCB1c2VkIHRvIG1ha2UgdGhlIHJlcXVlc3QuXG5cbiAgICBAZGVmYXVsdCAnR0VUJ1xuICAgICovXG4gICAgZ2V0IG1ldGhvZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludGVybmFscy5tZXRob2Q7XG4gICAgfVxuICAgIHNldCBtZXRob2QodmFsdWUpIHtcbiAgICAgICAgYXNzZXJ0LnN0cmluZyh2YWx1ZSk7XG4gICAgICAgIHRoaXMuX2ludGVybmFscy5tZXRob2QgPSB2YWx1ZS50b1VwcGVyQ2FzZSgpO1xuICAgIH1cbiAgICBnZXQgY3JlYXRlQ29ubmVjdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludGVybmFscy5jcmVhdGVDb25uZWN0aW9uO1xuICAgIH1cbiAgICBzZXQgY3JlYXRlQ29ubmVjdGlvbih2YWx1ZSkge1xuICAgICAgICBhc3NlcnQuYW55KFtpcy5mdW5jdGlvbl8sIGlzLnVuZGVmaW5lZF0sIHZhbHVlKTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxzLmNyZWF0ZUNvbm5lY3Rpb24gPSB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgRnJvbSBgaHR0cC1jYWNoZS1zZW1hbnRpY3NgXG5cbiAgICBAZGVmYXVsdCB7fVxuICAgICovXG4gICAgZ2V0IGNhY2hlT3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludGVybmFscy5jYWNoZU9wdGlvbnM7XG4gICAgfVxuICAgIHNldCBjYWNoZU9wdGlvbnModmFsdWUpIHtcbiAgICAgICAgYXNzZXJ0LnBsYWluT2JqZWN0KHZhbHVlKTtcbiAgICAgICAgYXNzZXJ0LmFueShbaXMuYm9vbGVhbiwgaXMudW5kZWZpbmVkXSwgdmFsdWUuc2hhcmVkKTtcbiAgICAgICAgYXNzZXJ0LmFueShbaXMubnVtYmVyLCBpcy51bmRlZmluZWRdLCB2YWx1ZS5jYWNoZUhldXJpc3RpYyk7XG4gICAgICAgIGFzc2VydC5hbnkoW2lzLm51bWJlciwgaXMudW5kZWZpbmVkXSwgdmFsdWUuaW1tdXRhYmxlTWluVGltZVRvTGl2ZSk7XG4gICAgICAgIGFzc2VydC5hbnkoW2lzLmJvb2xlYW4sIGlzLnVuZGVmaW5lZF0sIHZhbHVlLmlnbm9yZUNhcmdvQ3VsdCk7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoIShrZXkgaW4gdGhpcy5faW50ZXJuYWxzLmNhY2hlT3B0aW9ucykpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhY2hlIG9wdGlvbiBcXGAke2tleX1cXGAgZG9lcyBub3QgZXhpc3RgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fbWVyZ2luZykge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9pbnRlcm5hbHMuY2FjaGVPcHRpb25zLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9pbnRlcm5hbHMuY2FjaGVPcHRpb25zID0geyAuLi52YWx1ZSB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgIE9wdGlvbnMgZm9yIHRoZSBhZHZhbmNlZCBIVFRQUyBBUEkuXG4gICAgKi9cbiAgICBnZXQgaHR0cHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnRlcm5hbHMuaHR0cHM7XG4gICAgfVxuICAgIHNldCBodHRwcyh2YWx1ZSkge1xuICAgICAgICBhc3NlcnQucGxhaW5PYmplY3QodmFsdWUpO1xuICAgICAgICBhc3NlcnQuYW55KFtpcy5ib29sZWFuLCBpcy51bmRlZmluZWRdLCB2YWx1ZS5yZWplY3RVbmF1dGhvcml6ZWQpO1xuICAgICAgICBhc3NlcnQuYW55KFtpcy5mdW5jdGlvbl8sIGlzLnVuZGVmaW5lZF0sIHZhbHVlLmNoZWNrU2VydmVySWRlbnRpdHkpO1xuICAgICAgICBhc3NlcnQuYW55KFtpcy5zdHJpbmcsIGlzLm9iamVjdCwgaXMuYXJyYXksIGlzLnVuZGVmaW5lZF0sIHZhbHVlLmNlcnRpZmljYXRlQXV0aG9yaXR5KTtcbiAgICAgICAgYXNzZXJ0LmFueShbaXMuc3RyaW5nLCBpcy5vYmplY3QsIGlzLmFycmF5LCBpcy51bmRlZmluZWRdLCB2YWx1ZS5rZXkpO1xuICAgICAgICBhc3NlcnQuYW55KFtpcy5zdHJpbmcsIGlzLm9iamVjdCwgaXMuYXJyYXksIGlzLnVuZGVmaW5lZF0sIHZhbHVlLmNlcnRpZmljYXRlKTtcbiAgICAgICAgYXNzZXJ0LmFueShbaXMuc3RyaW5nLCBpcy51bmRlZmluZWRdLCB2YWx1ZS5wYXNzcGhyYXNlKTtcbiAgICAgICAgYXNzZXJ0LmFueShbaXMuc3RyaW5nLCBpcy5idWZmZXIsIGlzLmFycmF5LCBpcy51bmRlZmluZWRdLCB2YWx1ZS5wZngpO1xuICAgICAgICBhc3NlcnQuYW55KFtpcy5hcnJheSwgaXMudW5kZWZpbmVkXSwgdmFsdWUuYWxwblByb3RvY29scyk7XG4gICAgICAgIGFzc2VydC5hbnkoW2lzLnN0cmluZywgaXMudW5kZWZpbmVkXSwgdmFsdWUuY2lwaGVycyk7XG4gICAgICAgIGFzc2VydC5hbnkoW2lzLnN0cmluZywgaXMuYnVmZmVyLCBpcy51bmRlZmluZWRdLCB2YWx1ZS5kaHBhcmFtKTtcbiAgICAgICAgYXNzZXJ0LmFueShbaXMuc3RyaW5nLCBpcy51bmRlZmluZWRdLCB2YWx1ZS5zaWduYXR1cmVBbGdvcml0aG1zKTtcbiAgICAgICAgYXNzZXJ0LmFueShbaXMuc3RyaW5nLCBpcy51bmRlZmluZWRdLCB2YWx1ZS5taW5WZXJzaW9uKTtcbiAgICAgICAgYXNzZXJ0LmFueShbaXMuc3RyaW5nLCBpcy51bmRlZmluZWRdLCB2YWx1ZS5tYXhWZXJzaW9uKTtcbiAgICAgICAgYXNzZXJ0LmFueShbaXMuYm9vbGVhbiwgaXMudW5kZWZpbmVkXSwgdmFsdWUuaG9ub3JDaXBoZXJPcmRlcik7XG4gICAgICAgIGFzc2VydC5hbnkoW2lzLm51bWJlciwgaXMudW5kZWZpbmVkXSwgdmFsdWUudGxzU2Vzc2lvbkxpZmV0aW1lKTtcbiAgICAgICAgYXNzZXJ0LmFueShbaXMuc3RyaW5nLCBpcy51bmRlZmluZWRdLCB2YWx1ZS5lY2RoQ3VydmUpO1xuICAgICAgICBhc3NlcnQuYW55KFtpcy5zdHJpbmcsIGlzLmJ1ZmZlciwgaXMuYXJyYXksIGlzLnVuZGVmaW5lZF0sIHZhbHVlLmNlcnRpZmljYXRlUmV2b2NhdGlvbkxpc3RzKTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghKGtleSBpbiB0aGlzLl9pbnRlcm5hbHMuaHR0cHMpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQUyBvcHRpb24gXFxgJHtrZXl9XFxgIGRvZXMgbm90IGV4aXN0YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX21lcmdpbmcpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5faW50ZXJuYWxzLmh0dHBzLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9pbnRlcm5hbHMuaHR0cHMgPSB7IC4uLnZhbHVlIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgW0VuY29kaW5nXShodHRwczovL25vZGVqcy5vcmcvYXBpL2J1ZmZlci5odG1sI2J1ZmZlcl9idWZmZXJzX2FuZF9jaGFyYWN0ZXJfZW5jb2RpbmdzKSB0byBiZSB1c2VkIG9uIGBzZXRFbmNvZGluZ2Agb2YgdGhlIHJlc3BvbnNlIGRhdGEuXG5cbiAgICBUbyBnZXQgYSBbYEJ1ZmZlcmBdKGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvYnVmZmVyLmh0bWwpLCB5b3UgbmVlZCB0byBzZXQgYHJlc3BvbnNlVHlwZWAgdG8gYGJ1ZmZlcmAgaW5zdGVhZC5cbiAgICBEb24ndCBzZXQgdGhpcyBvcHRpb24gdG8gYG51bGxgLlxuXG4gICAgX19Ob3RlX186IFRoaXMgZG9lc24ndCBhZmZlY3Qgc3RyZWFtcyEgSW5zdGVhZCwgeW91IG5lZWQgdG8gZG8gYGdvdC5zdHJlYW0oLi4uKS5zZXRFbmNvZGluZyhlbmNvZGluZylgLlxuXG4gICAgQGRlZmF1bHQgJ3V0Zi04J1xuICAgICovXG4gICAgZ2V0IGVuY29kaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW50ZXJuYWxzLmVuY29kaW5nO1xuICAgIH1cbiAgICBzZXQgZW5jb2RpbmcodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUbyBnZXQgYSBCdWZmZXIsIHNldCBgb3B0aW9ucy5yZXNwb25zZVR5cGVgIHRvIGBidWZmZXJgIGluc3RlYWQnKTtcbiAgICAgICAgfVxuICAgICAgICBhc3NlcnQuYW55KFtpcy5zdHJpbmcsIGlzLnVuZGVmaW5lZF0sIHZhbHVlKTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxzLmVuY29kaW5nID0gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgIFdoZW4gc2V0IHRvIGB0cnVlYCB0aGUgcHJvbWlzZSB3aWxsIHJldHVybiB0aGUgUmVzcG9uc2UgYm9keSBpbnN0ZWFkIG9mIHRoZSBSZXNwb25zZSBvYmplY3QuXG5cbiAgICBAZGVmYXVsdCBmYWxzZVxuICAgICovXG4gICAgZ2V0IHJlc29sdmVCb2R5T25seSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludGVybmFscy5yZXNvbHZlQm9keU9ubHk7XG4gICAgfVxuICAgIHNldCByZXNvbHZlQm9keU9ubHkodmFsdWUpIHtcbiAgICAgICAgYXNzZXJ0LmJvb2xlYW4odmFsdWUpO1xuICAgICAgICB0aGlzLl9pbnRlcm5hbHMucmVzb2x2ZUJvZHlPbmx5ID0gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgIFJldHVybnMgYSBgU3RyZWFtYCBpbnN0ZWFkIG9mIGEgYFByb21pc2VgLlxuICAgIFRoaXMgaXMgZXF1aXZhbGVudCB0byBjYWxsaW5nIGBnb3Quc3RyZWFtKHVybCwgb3B0aW9ucz8pYC5cblxuICAgIEBkZWZhdWx0IGZhbHNlXG4gICAgKi9cbiAgICBnZXQgaXNTdHJlYW0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnRlcm5hbHMuaXNTdHJlYW07XG4gICAgfVxuICAgIHNldCBpc1N0cmVhbSh2YWx1ZSkge1xuICAgICAgICBhc3NlcnQuYm9vbGVhbih2YWx1ZSk7XG4gICAgICAgIHRoaXMuX2ludGVybmFscy5pc1N0cmVhbSA9IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICBUaGUgcGFyc2luZyBtZXRob2QuXG5cbiAgICBUaGUgcHJvbWlzZSBhbHNvIGhhcyBgLnRleHQoKWAsIGAuanNvbigpYCBhbmQgYC5idWZmZXIoKWAgbWV0aG9kcyB3aGljaCByZXR1cm4gYW5vdGhlciBHb3QgcHJvbWlzZSBmb3IgdGhlIHBhcnNlZCBib2R5LlxuXG4gICAgSXQncyBsaWtlIHNldHRpbmcgdGhlIG9wdGlvbnMgdG8gYHtyZXNwb25zZVR5cGU6ICdqc29uJywgcmVzb2x2ZUJvZHlPbmx5OiB0cnVlfWAgYnV0IHdpdGhvdXQgYWZmZWN0aW5nIHRoZSBtYWluIEdvdCBwcm9taXNlLlxuXG4gICAgX19Ob3RlX186IFdoZW4gdXNpbmcgc3RyZWFtcywgdGhpcyBvcHRpb24gaXMgaWdub3JlZC5cblxuICAgIEBleGFtcGxlXG4gICAgYGBgXG4gICAgY29uc3QgcmVzcG9uc2VQcm9taXNlID0gZ290KHVybCk7XG4gICAgY29uc3QgYnVmZmVyUHJvbWlzZSA9IHJlc3BvbnNlUHJvbWlzZS5idWZmZXIoKTtcbiAgICBjb25zdCBqc29uUHJvbWlzZSA9IHJlc3BvbnNlUHJvbWlzZS5qc29uKCk7XG5cbiAgICBjb25zdCBbcmVzcG9uc2UsIGJ1ZmZlciwganNvbl0gPSBQcm9taXNlLmFsbChbcmVzcG9uc2VQcm9taXNlLCBidWZmZXJQcm9taXNlLCBqc29uUHJvbWlzZV0pO1xuICAgIC8vIGByZXNwb25zZWAgaXMgYW4gaW5zdGFuY2Ugb2YgR290IFJlc3BvbnNlXG4gICAgLy8gYGJ1ZmZlcmAgaXMgYW4gaW5zdGFuY2Ugb2YgQnVmZmVyXG4gICAgLy8gYGpzb25gIGlzIGFuIG9iamVjdFxuICAgIGBgYFxuXG4gICAgQGV4YW1wbGVcbiAgICBgYGBcbiAgICAvLyBUaGlzXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IGdvdCh1cmwpLmpzb24oKTtcblxuICAgIC8vIGlzIHNlbWFudGljYWxseSB0aGUgc2FtZSBhcyB0aGlzXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IGdvdCh1cmwsIHtyZXNwb25zZVR5cGU6ICdqc29uJywgcmVzb2x2ZUJvZHlPbmx5OiB0cnVlfSk7XG4gICAgYGBgXG4gICAgKi9cbiAgICBnZXQgcmVzcG9uc2VUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW50ZXJuYWxzLnJlc3BvbnNlVHlwZTtcbiAgICB9XG4gICAgc2V0IHJlc3BvbnNlVHlwZSh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5faW50ZXJuYWxzLnJlc3BvbnNlVHlwZSA9ICd0ZXh0JztcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgIT09ICd0ZXh0JyAmJiB2YWx1ZSAhPT0gJ2J1ZmZlcicgJiYgdmFsdWUgIT09ICdqc29uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIFxcYHJlc3BvbnNlVHlwZVxcYCBvcHRpb246ICR7dmFsdWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faW50ZXJuYWxzLnJlc3BvbnNlVHlwZSA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgcGFnaW5hdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludGVybmFscy5wYWdpbmF0aW9uO1xuICAgIH1cbiAgICBzZXQgcGFnaW5hdGlvbih2YWx1ZSkge1xuICAgICAgICBhc3NlcnQub2JqZWN0KHZhbHVlKTtcbiAgICAgICAgaWYgKHRoaXMuX21lcmdpbmcpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5faW50ZXJuYWxzLnBhZ2luYXRpb24sIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2ludGVybmFscy5wYWdpbmF0aW9uID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGF1dGgoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUGFyYW1ldGVyIGBhdXRoYCBpcyBkZXByZWNhdGVkLiBVc2UgYHVzZXJuYW1lYCAvIGBwYXNzd29yZGAgaW5zdGVhZC4nKTtcbiAgICB9XG4gICAgc2V0IGF1dGgoX3ZhbHVlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUGFyYW1ldGVyIGBhdXRoYCBpcyBkZXByZWNhdGVkLiBVc2UgYHVzZXJuYW1lYCAvIGBwYXNzd29yZGAgaW5zdGVhZC4nKTtcbiAgICB9XG4gICAgZ2V0IHNldEhvc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnRlcm5hbHMuc2V0SG9zdDtcbiAgICB9XG4gICAgc2V0IHNldEhvc3QodmFsdWUpIHtcbiAgICAgICAgYXNzZXJ0LmJvb2xlYW4odmFsdWUpO1xuICAgICAgICB0aGlzLl9pbnRlcm5hbHMuc2V0SG9zdCA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgbWF4SGVhZGVyU2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludGVybmFscy5tYXhIZWFkZXJTaXplO1xuICAgIH1cbiAgICBzZXQgbWF4SGVhZGVyU2l6ZSh2YWx1ZSkge1xuICAgICAgICBhc3NlcnQuYW55KFtpcy5udW1iZXIsIGlzLnVuZGVmaW5lZF0sIHZhbHVlKTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxzLm1heEhlYWRlclNpemUgPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IGVuYWJsZVVuaXhTb2NrZXRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW50ZXJuYWxzLmVuYWJsZVVuaXhTb2NrZXRzO1xuICAgIH1cbiAgICBzZXQgZW5hYmxlVW5peFNvY2tldHModmFsdWUpIHtcbiAgICAgICAgYXNzZXJ0LmJvb2xlYW4odmFsdWUpO1xuICAgICAgICB0aGlzLl9pbnRlcm5hbHMuZW5hYmxlVW5peFNvY2tldHMgPSB2YWx1ZTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uYW1pbmctY29udmVudGlvblxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHsgLi4udGhpcy5faW50ZXJuYWxzIH07XG4gICAgfVxuICAgIFtTeW1ib2wuZm9yKCdub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbScpXShfZGVwdGgsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGluc3BlY3QodGhpcy5faW50ZXJuYWxzLCBvcHRpb25zKTtcbiAgICB9XG4gICAgY3JlYXRlTmF0aXZlUmVxdWVzdE9wdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IGludGVybmFscyA9IHRoaXMuX2ludGVybmFscztcbiAgICAgICAgY29uc3QgdXJsID0gaW50ZXJuYWxzLnVybDtcbiAgICAgICAgbGV0IGFnZW50O1xuICAgICAgICBpZiAodXJsLnByb3RvY29sID09PSAnaHR0cHM6Jykge1xuICAgICAgICAgICAgYWdlbnQgPSBpbnRlcm5hbHMuaHR0cDIgPyBpbnRlcm5hbHMuYWdlbnQgOiBpbnRlcm5hbHMuYWdlbnQuaHR0cHM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhZ2VudCA9IGludGVybmFscy5hZ2VudC5odHRwO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgaHR0cHMgfSA9IGludGVybmFscztcbiAgICAgICAgbGV0IHsgcGZ4IH0gPSBodHRwcztcbiAgICAgICAgaWYgKGlzLmFycmF5KHBmeCkgJiYgaXMucGxhaW5PYmplY3QocGZ4WzBdKSkge1xuICAgICAgICAgICAgcGZ4ID0gcGZ4Lm1hcChvYmplY3QgPT4gKHtcbiAgICAgICAgICAgICAgICBidWY6IG9iamVjdC5idWZmZXIsXG4gICAgICAgICAgICAgICAgcGFzc3BocmFzZTogb2JqZWN0LnBhc3NwaHJhc2UsXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmludGVybmFscy5jYWNoZU9wdGlvbnMsXG4gICAgICAgICAgICAuLi50aGlzLl91bml4T3B0aW9ucyxcbiAgICAgICAgICAgIC8vIEhUVFBTIG9wdGlvbnNcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbmFtaW5nLWNvbnZlbnRpb25cbiAgICAgICAgICAgIEFMUE5Qcm90b2NvbHM6IGh0dHBzLmFscG5Qcm90b2NvbHMsXG4gICAgICAgICAgICBjYTogaHR0cHMuY2VydGlmaWNhdGVBdXRob3JpdHksXG4gICAgICAgICAgICBjZXJ0OiBodHRwcy5jZXJ0aWZpY2F0ZSxcbiAgICAgICAgICAgIGtleTogaHR0cHMua2V5LFxuICAgICAgICAgICAgcGFzc3BocmFzZTogaHR0cHMucGFzc3BocmFzZSxcbiAgICAgICAgICAgIHBmeDogaHR0cHMucGZ4LFxuICAgICAgICAgICAgcmVqZWN0VW5hdXRob3JpemVkOiBodHRwcy5yZWplY3RVbmF1dGhvcml6ZWQsXG4gICAgICAgICAgICBjaGVja1NlcnZlcklkZW50aXR5OiBodHRwcy5jaGVja1NlcnZlcklkZW50aXR5ID8/IGNoZWNrU2VydmVySWRlbnRpdHksXG4gICAgICAgICAgICBjaXBoZXJzOiBodHRwcy5jaXBoZXJzLFxuICAgICAgICAgICAgaG9ub3JDaXBoZXJPcmRlcjogaHR0cHMuaG9ub3JDaXBoZXJPcmRlcixcbiAgICAgICAgICAgIG1pblZlcnNpb246IGh0dHBzLm1pblZlcnNpb24sXG4gICAgICAgICAgICBtYXhWZXJzaW9uOiBodHRwcy5tYXhWZXJzaW9uLFxuICAgICAgICAgICAgc2lnYWxnczogaHR0cHMuc2lnbmF0dXJlQWxnb3JpdGhtcyxcbiAgICAgICAgICAgIHNlc3Npb25UaW1lb3V0OiBodHRwcy50bHNTZXNzaW9uTGlmZXRpbWUsXG4gICAgICAgICAgICBkaHBhcmFtOiBodHRwcy5kaHBhcmFtLFxuICAgICAgICAgICAgZWNkaEN1cnZlOiBodHRwcy5lY2RoQ3VydmUsXG4gICAgICAgICAgICBjcmw6IGh0dHBzLmNlcnRpZmljYXRlUmV2b2NhdGlvbkxpc3RzLFxuICAgICAgICAgICAgLy8gSFRUUCBvcHRpb25zXG4gICAgICAgICAgICBsb29rdXA6IGludGVybmFscy5kbnNMb29rdXAgPz8gaW50ZXJuYWxzLmRuc0NhY2hlPy5sb29rdXAsXG4gICAgICAgICAgICBmYW1pbHk6IGludGVybmFscy5kbnNMb29rdXBJcFZlcnNpb24sXG4gICAgICAgICAgICBhZ2VudCxcbiAgICAgICAgICAgIHNldEhvc3Q6IGludGVybmFscy5zZXRIb3N0LFxuICAgICAgICAgICAgbWV0aG9kOiBpbnRlcm5hbHMubWV0aG9kLFxuICAgICAgICAgICAgbWF4SGVhZGVyU2l6ZTogaW50ZXJuYWxzLm1heEhlYWRlclNpemUsXG4gICAgICAgICAgICBsb2NhbEFkZHJlc3M6IGludGVybmFscy5sb2NhbEFkZHJlc3MsXG4gICAgICAgICAgICBoZWFkZXJzOiBpbnRlcm5hbHMuaGVhZGVycyxcbiAgICAgICAgICAgIGNyZWF0ZUNvbm5lY3Rpb246IGludGVybmFscy5jcmVhdGVDb25uZWN0aW9uLFxuICAgICAgICAgICAgdGltZW91dDogaW50ZXJuYWxzLmh0dHAyID8gZ2V0SHR0cDJUaW1lb3V0T3B0aW9uKGludGVybmFscykgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAvLyBIVFRQLzIgb3B0aW9uc1xuICAgICAgICAgICAgaDJzZXNzaW9uOiBpbnRlcm5hbHMuaDJzZXNzaW9uLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXRSZXF1ZXN0RnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnN0IHVybCA9IHRoaXMuX2ludGVybmFscy51cmw7XG4gICAgICAgIGNvbnN0IHsgcmVxdWVzdCB9ID0gdGhpcy5faW50ZXJuYWxzO1xuICAgICAgICBpZiAoIXJlcXVlc3QgJiYgdXJsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRGYWxsYmFja1JlcXVlc3RGdW5jdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXF1ZXN0O1xuICAgIH1cbiAgICBnZXRGYWxsYmFja1JlcXVlc3RGdW5jdGlvbigpIHtcbiAgICAgICAgY29uc3QgdXJsID0gdGhpcy5faW50ZXJuYWxzLnVybDtcbiAgICAgICAgaWYgKCF1cmwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXJsLnByb3RvY29sID09PSAnaHR0cHM6Jykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ludGVybmFscy5odHRwMikge1xuICAgICAgICAgICAgICAgIGlmIChtYWpvciA8IDE1IHx8IChtYWpvciA9PT0gMTUgJiYgbWlub3IgPCAxMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ1RvIHVzZSB0aGUgYGh0dHAyYCBvcHRpb24sIGluc3RhbGwgTm9kZS5qcyAxNS4xMC4wIG9yIGFib3ZlJyk7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yLmNvZGUgPSAnRVVOU1VQUE9SVEVEJztcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBodHRwMndyYXBwZXIuYXV0bztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBodHRwcy5yZXF1ZXN0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBodHRwLnJlcXVlc3Q7XG4gICAgfVxuICAgIGZyZWV6ZSgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuX2ludGVybmFscztcbiAgICAgICAgT2JqZWN0LmZyZWV6ZShvcHRpb25zKTtcbiAgICAgICAgT2JqZWN0LmZyZWV6ZShvcHRpb25zLmhvb2tzKTtcbiAgICAgICAgT2JqZWN0LmZyZWV6ZShvcHRpb25zLmhvb2tzLmFmdGVyUmVzcG9uc2UpO1xuICAgICAgICBPYmplY3QuZnJlZXplKG9wdGlvbnMuaG9va3MuYmVmb3JlRXJyb3IpO1xuICAgICAgICBPYmplY3QuZnJlZXplKG9wdGlvbnMuaG9va3MuYmVmb3JlUmVkaXJlY3QpO1xuICAgICAgICBPYmplY3QuZnJlZXplKG9wdGlvbnMuaG9va3MuYmVmb3JlUmVxdWVzdCk7XG4gICAgICAgIE9iamVjdC5mcmVlemUob3B0aW9ucy5ob29rcy5iZWZvcmVSZXRyeSk7XG4gICAgICAgIE9iamVjdC5mcmVlemUob3B0aW9ucy5ob29rcy5pbml0KTtcbiAgICAgICAgT2JqZWN0LmZyZWV6ZShvcHRpb25zLmh0dHBzKTtcbiAgICAgICAgT2JqZWN0LmZyZWV6ZShvcHRpb25zLmNhY2hlT3B0aW9ucyk7XG4gICAgICAgIE9iamVjdC5mcmVlemUob3B0aW9ucy5hZ2VudCk7XG4gICAgICAgIE9iamVjdC5mcmVlemUob3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgT2JqZWN0LmZyZWV6ZShvcHRpb25zLnRpbWVvdXQpO1xuICAgICAgICBPYmplY3QuZnJlZXplKG9wdGlvbnMucmV0cnkpO1xuICAgICAgICBPYmplY3QuZnJlZXplKG9wdGlvbnMucmV0cnkuZXJyb3JDb2Rlcyk7XG4gICAgICAgIE9iamVjdC5mcmVlemUob3B0aW9ucy5yZXRyeS5tZXRob2RzKTtcbiAgICAgICAgT2JqZWN0LmZyZWV6ZShvcHRpb25zLnJldHJ5LnN0YXR1c0NvZGVzKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/got/dist/source/core/options.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/got/dist/source/core/parse-link-header.js":
/*!****************************************************************!*\
  !*** ./node_modules/got/dist/source/core/parse-link-header.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ parseLinkHeader)\n/* harmony export */ });\nfunction parseLinkHeader(link) {\n    const parsed = [];\n    const items = link.split(',');\n    for (const item of items) {\n        // https://tools.ietf.org/html/rfc5988#section-5\n        const [rawUriReference, ...rawLinkParameters] = item.split(';');\n        const trimmedUriReference = rawUriReference.trim();\n        // eslint-disable-next-line @typescript-eslint/prefer-string-starts-ends-with\n        if (trimmedUriReference[0] !== '<' || trimmedUriReference[trimmedUriReference.length - 1] !== '>') {\n            throw new Error(`Invalid format of the Link header reference: ${trimmedUriReference}`);\n        }\n        const reference = trimmedUriReference.slice(1, -1);\n        const parameters = {};\n        if (rawLinkParameters.length === 0) {\n            throw new Error(`Unexpected end of Link header parameters: ${rawLinkParameters.join(';')}`);\n        }\n        for (const rawParameter of rawLinkParameters) {\n            const trimmedRawParameter = rawParameter.trim();\n            const center = trimmedRawParameter.indexOf('=');\n            if (center === -1) {\n                throw new Error(`Failed to parse Link header: ${link}`);\n            }\n            const name = trimmedRawParameter.slice(0, center).trim();\n            const value = trimmedRawParameter.slice(center + 1).trim();\n            parameters[name] = value;\n        }\n        parsed.push({\n            reference,\n            parameters,\n        });\n    }\n    return parsed;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2NvcmUvcGFyc2UtbGluay1oZWFkZXIuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUU7QUFDckU7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFLG9CQUFvQjtBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBLHlFQUF5RSx5QkFBeUIsR0FBRztBQUNyRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLEtBQUs7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kbmZtLWJvdC8uL25vZGVfbW9kdWxlcy9nb3QvZGlzdC9zb3VyY2UvY29yZS9wYXJzZS1saW5rLWhlYWRlci5qcz9kN2JlIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBhcnNlTGlua0hlYWRlcihsaW5rKSB7XG4gICAgY29uc3QgcGFyc2VkID0gW107XG4gICAgY29uc3QgaXRlbXMgPSBsaW5rLnNwbGl0KCcsJyk7XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM1OTg4I3NlY3Rpb24tNVxuICAgICAgICBjb25zdCBbcmF3VXJpUmVmZXJlbmNlLCAuLi5yYXdMaW5rUGFyYW1ldGVyc10gPSBpdGVtLnNwbGl0KCc7Jyk7XG4gICAgICAgIGNvbnN0IHRyaW1tZWRVcmlSZWZlcmVuY2UgPSByYXdVcmlSZWZlcmVuY2UudHJpbSgpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3ByZWZlci1zdHJpbmctc3RhcnRzLWVuZHMtd2l0aFxuICAgICAgICBpZiAodHJpbW1lZFVyaVJlZmVyZW5jZVswXSAhPT0gJzwnIHx8IHRyaW1tZWRVcmlSZWZlcmVuY2VbdHJpbW1lZFVyaVJlZmVyZW5jZS5sZW5ndGggLSAxXSAhPT0gJz4nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZm9ybWF0IG9mIHRoZSBMaW5rIGhlYWRlciByZWZlcmVuY2U6ICR7dHJpbW1lZFVyaVJlZmVyZW5jZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZWZlcmVuY2UgPSB0cmltbWVkVXJpUmVmZXJlbmNlLnNsaWNlKDEsIC0xKTtcbiAgICAgICAgY29uc3QgcGFyYW1ldGVycyA9IHt9O1xuICAgICAgICBpZiAocmF3TGlua1BhcmFtZXRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgZW5kIG9mIExpbmsgaGVhZGVyIHBhcmFtZXRlcnM6ICR7cmF3TGlua1BhcmFtZXRlcnMuam9pbignOycpfWApO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgcmF3UGFyYW1ldGVyIG9mIHJhd0xpbmtQYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgICBjb25zdCB0cmltbWVkUmF3UGFyYW1ldGVyID0gcmF3UGFyYW1ldGVyLnRyaW0oKTtcbiAgICAgICAgICAgIGNvbnN0IGNlbnRlciA9IHRyaW1tZWRSYXdQYXJhbWV0ZXIuaW5kZXhPZignPScpO1xuICAgICAgICAgICAgaWYgKGNlbnRlciA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBwYXJzZSBMaW5rIGhlYWRlcjogJHtsaW5rfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbmFtZSA9IHRyaW1tZWRSYXdQYXJhbWV0ZXIuc2xpY2UoMCwgY2VudGVyKS50cmltKCk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRyaW1tZWRSYXdQYXJhbWV0ZXIuc2xpY2UoY2VudGVyICsgMSkudHJpbSgpO1xuICAgICAgICAgICAgcGFyYW1ldGVyc1tuYW1lXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHBhcnNlZC5wdXNoKHtcbiAgICAgICAgICAgIHJlZmVyZW5jZSxcbiAgICAgICAgICAgIHBhcmFtZXRlcnMsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VkO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/got/dist/source/core/parse-link-header.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/got/dist/source/core/response.js":
/*!*******************************************************!*\
  !*** ./node_modules/got/dist/source/core/response.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ParseError: () => (/* binding */ ParseError),\n/* harmony export */   isResponseOk: () => (/* binding */ isResponseOk),\n/* harmony export */   parseBody: () => (/* binding */ parseBody)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errors.js */ \"(rsc)/./node_modules/got/dist/source/core/errors.js\");\n\nconst isResponseOk = (response) => {\n    const { statusCode } = response;\n    const limitStatusCode = response.request.options.followRedirect ? 299 : 399;\n    return (statusCode >= 200 && statusCode <= limitStatusCode) || statusCode === 304;\n};\n/**\nAn error to be thrown when server response code is 2xx, and parsing body fails.\nIncludes a `response` property.\n*/\nclass ParseError extends _errors_js__WEBPACK_IMPORTED_MODULE_0__.RequestError {\n    constructor(error, response) {\n        const { options } = response.request;\n        super(`${error.message} in \"${options.url.toString()}\"`, error, response.request);\n        this.name = 'ParseError';\n        this.code = 'ERR_BODY_PARSE_FAILURE';\n    }\n}\nconst parseBody = (response, responseType, parseJson, encoding) => {\n    const { rawBody } = response;\n    try {\n        if (responseType === 'text') {\n            return rawBody.toString(encoding);\n        }\n        if (responseType === 'json') {\n            return rawBody.length === 0 ? '' : parseJson(rawBody.toString(encoding));\n        }\n        if (responseType === 'buffer') {\n            return rawBody;\n        }\n    }\n    catch (error) {\n        throw new ParseError(error, response);\n    }\n    throw new ParseError({\n        message: `Unknown body type '${responseType}'`,\n        name: 'Error',\n    }, response);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2NvcmUvcmVzcG9uc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEyQztBQUNwQztBQUNQLFlBQVksYUFBYTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHlCQUF5QixvREFBWTtBQUM1QztBQUNBLGdCQUFnQixVQUFVO0FBQzFCLGlCQUFpQixlQUFlLE1BQU0sdUJBQXVCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLGFBQWE7QUFDcEQ7QUFDQSxLQUFLO0FBQ0wiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kbmZtLWJvdC8uL25vZGVfbW9kdWxlcy9nb3QvZGlzdC9zb3VyY2UvY29yZS9yZXNwb25zZS5qcz81ZDhhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlcXVlc3RFcnJvciB9IGZyb20gJy4vZXJyb3JzLmpzJztcbmV4cG9ydCBjb25zdCBpc1Jlc3BvbnNlT2sgPSAocmVzcG9uc2UpID0+IHtcbiAgICBjb25zdCB7IHN0YXR1c0NvZGUgfSA9IHJlc3BvbnNlO1xuICAgIGNvbnN0IGxpbWl0U3RhdHVzQ29kZSA9IHJlc3BvbnNlLnJlcXVlc3Qub3B0aW9ucy5mb2xsb3dSZWRpcmVjdCA/IDI5OSA6IDM5OTtcbiAgICByZXR1cm4gKHN0YXR1c0NvZGUgPj0gMjAwICYmIHN0YXR1c0NvZGUgPD0gbGltaXRTdGF0dXNDb2RlKSB8fCBzdGF0dXNDb2RlID09PSAzMDQ7XG59O1xuLyoqXG5BbiBlcnJvciB0byBiZSB0aHJvd24gd2hlbiBzZXJ2ZXIgcmVzcG9uc2UgY29kZSBpcyAyeHgsIGFuZCBwYXJzaW5nIGJvZHkgZmFpbHMuXG5JbmNsdWRlcyBhIGByZXNwb25zZWAgcHJvcGVydHkuXG4qL1xuZXhwb3J0IGNsYXNzIFBhcnNlRXJyb3IgZXh0ZW5kcyBSZXF1ZXN0RXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGVycm9yLCByZXNwb25zZSkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMgfSA9IHJlc3BvbnNlLnJlcXVlc3Q7XG4gICAgICAgIHN1cGVyKGAke2Vycm9yLm1lc3NhZ2V9IGluIFwiJHtvcHRpb25zLnVybC50b1N0cmluZygpfVwiYCwgZXJyb3IsIHJlc3BvbnNlLnJlcXVlc3QpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnUGFyc2VFcnJvcic7XG4gICAgICAgIHRoaXMuY29kZSA9ICdFUlJfQk9EWV9QQVJTRV9GQUlMVVJFJztcbiAgICB9XG59XG5leHBvcnQgY29uc3QgcGFyc2VCb2R5ID0gKHJlc3BvbnNlLCByZXNwb25zZVR5cGUsIHBhcnNlSnNvbiwgZW5jb2RpbmcpID0+IHtcbiAgICBjb25zdCB7IHJhd0JvZHkgfSA9IHJlc3BvbnNlO1xuICAgIHRyeSB7XG4gICAgICAgIGlmIChyZXNwb25zZVR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgcmV0dXJuIHJhd0JvZHkudG9TdHJpbmcoZW5jb2RpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXNwb25zZVR5cGUgPT09ICdqc29uJykge1xuICAgICAgICAgICAgcmV0dXJuIHJhd0JvZHkubGVuZ3RoID09PSAwID8gJycgOiBwYXJzZUpzb24ocmF3Qm9keS50b1N0cmluZyhlbmNvZGluZykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXNwb25zZVR5cGUgPT09ICdidWZmZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gcmF3Qm9keTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IFBhcnNlRXJyb3IoZXJyb3IsIHJlc3BvbnNlKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IFBhcnNlRXJyb3Ioe1xuICAgICAgICBtZXNzYWdlOiBgVW5rbm93biBib2R5IHR5cGUgJyR7cmVzcG9uc2VUeXBlfSdgLFxuICAgICAgICBuYW1lOiAnRXJyb3InLFxuICAgIH0sIHJlc3BvbnNlKTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/got/dist/source/core/response.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/got/dist/source/core/timed-out.js":
/*!********************************************************!*\
  !*** ./node_modules/got/dist/source/core/timed-out.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TimeoutError: () => (/* binding */ TimeoutError),\n/* harmony export */   \"default\": () => (/* binding */ timedOut)\n/* harmony export */ });\n/* harmony import */ var node_net__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node:net */ \"node:net\");\n/* harmony import */ var _utils_unhandle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/unhandle.js */ \"(rsc)/./node_modules/got/dist/source/core/utils/unhandle.js\");\n\n\nconst reentry = Symbol('reentry');\nconst noop = () => { };\nclass TimeoutError extends Error {\n    constructor(threshold, event) {\n        super(`Timeout awaiting '${event}' for ${threshold}ms`);\n        Object.defineProperty(this, \"event\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: event\n        });\n        Object.defineProperty(this, \"code\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.name = 'TimeoutError';\n        this.code = 'ETIMEDOUT';\n    }\n}\nfunction timedOut(request, delays, options) {\n    if (reentry in request) {\n        return noop;\n    }\n    request[reentry] = true;\n    const cancelers = [];\n    const { once, unhandleAll } = (0,_utils_unhandle_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n    const addTimeout = (delay, callback, event) => {\n        const timeout = setTimeout(callback, delay, delay, event);\n        timeout.unref?.();\n        const cancel = () => {\n            clearTimeout(timeout);\n        };\n        cancelers.push(cancel);\n        return cancel;\n    };\n    const { host, hostname } = options;\n    const timeoutHandler = (delay, event) => {\n        request.destroy(new TimeoutError(delay, event));\n    };\n    const cancelTimeouts = () => {\n        for (const cancel of cancelers) {\n            cancel();\n        }\n        unhandleAll();\n    };\n    request.once('error', error => {\n        cancelTimeouts();\n        // Save original behavior\n        /* istanbul ignore next */\n        if (request.listenerCount('error') === 0) {\n            throw error;\n        }\n    });\n    if (delays.request !== undefined) {\n        const cancelTimeout = addTimeout(delays.request, timeoutHandler, 'request');\n        once(request, 'response', (response) => {\n            once(response, 'end', cancelTimeout);\n        });\n    }\n    if (delays.socket !== undefined) {\n        const { socket } = delays;\n        const socketTimeoutHandler = () => {\n            timeoutHandler(socket, 'socket');\n        };\n        request.setTimeout(socket, socketTimeoutHandler);\n        // `request.setTimeout(0)` causes a memory leak.\n        // We can just remove the listener and forget about the timer - it's unreffed.\n        // See https://github.com/sindresorhus/got/issues/690\n        cancelers.push(() => {\n            request.removeListener('timeout', socketTimeoutHandler);\n        });\n    }\n    const hasLookup = delays.lookup !== undefined;\n    const hasConnect = delays.connect !== undefined;\n    const hasSecureConnect = delays.secureConnect !== undefined;\n    const hasSend = delays.send !== undefined;\n    if (hasLookup || hasConnect || hasSecureConnect || hasSend) {\n        once(request, 'socket', (socket) => {\n            const { socketPath } = request;\n            /* istanbul ignore next: hard to test */\n            if (socket.connecting) {\n                const hasPath = Boolean(socketPath ?? node_net__WEBPACK_IMPORTED_MODULE_0__.isIP(hostname ?? host ?? '') !== 0);\n                if (hasLookup && !hasPath && socket.address().address === undefined) {\n                    const cancelTimeout = addTimeout(delays.lookup, timeoutHandler, 'lookup');\n                    once(socket, 'lookup', cancelTimeout);\n                }\n                if (hasConnect) {\n                    const timeConnect = () => addTimeout(delays.connect, timeoutHandler, 'connect');\n                    if (hasPath) {\n                        once(socket, 'connect', timeConnect());\n                    }\n                    else {\n                        once(socket, 'lookup', (error) => {\n                            if (error === null) {\n                                once(socket, 'connect', timeConnect());\n                            }\n                        });\n                    }\n                }\n                if (hasSecureConnect && options.protocol === 'https:') {\n                    once(socket, 'connect', () => {\n                        const cancelTimeout = addTimeout(delays.secureConnect, timeoutHandler, 'secureConnect');\n                        once(socket, 'secureConnect', cancelTimeout);\n                    });\n                }\n            }\n            if (hasSend) {\n                const timeRequest = () => addTimeout(delays.send, timeoutHandler, 'send');\n                /* istanbul ignore next: hard to test */\n                if (socket.connecting) {\n                    once(socket, 'connect', () => {\n                        once(request, 'upload-complete', timeRequest());\n                    });\n                }\n                else {\n                    once(request, 'upload-complete', timeRequest());\n                }\n            }\n        });\n    }\n    if (delays.response !== undefined) {\n        once(request, 'upload-complete', () => {\n            const cancelTimeout = addTimeout(delays.response, timeoutHandler, 'response');\n            once(request, 'response', cancelTimeout);\n        });\n    }\n    if (delays.read !== undefined) {\n        once(request, 'response', (response) => {\n            const cancelTimeout = addTimeout(delays.read, timeoutHandler, 'read');\n            once(response, 'end', cancelTimeout);\n        });\n    }\n    return cancelTimeouts;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2NvcmUvdGltZWQtb3V0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBMkI7QUFDaUI7QUFDNUM7QUFDQTtBQUNPO0FBQ1A7QUFDQSxtQ0FBbUMsTUFBTSxRQUFRLFVBQVU7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ2U7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxvQkFBb0IsRUFBRSw4REFBUztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGlCQUFpQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsZ0JBQWdCLFNBQVM7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGFBQWE7QUFDakM7QUFDQTtBQUNBLHNEQUFzRCwwQ0FBUTtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RuZm0tYm90Ly4vbm9kZV9tb2R1bGVzL2dvdC9kaXN0L3NvdXJjZS9jb3JlL3RpbWVkLW91dC5qcz81MjE3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBuZXQgZnJvbSAnbm9kZTpuZXQnO1xuaW1wb3J0IHVuaGFuZGxlciBmcm9tICcuL3V0aWxzL3VuaGFuZGxlLmpzJztcbmNvbnN0IHJlZW50cnkgPSBTeW1ib2woJ3JlZW50cnknKTtcbmNvbnN0IG5vb3AgPSAoKSA9PiB7IH07XG5leHBvcnQgY2xhc3MgVGltZW91dEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHRocmVzaG9sZCwgZXZlbnQpIHtcbiAgICAgICAgc3VwZXIoYFRpbWVvdXQgYXdhaXRpbmcgJyR7ZXZlbnR9JyBmb3IgJHt0aHJlc2hvbGR9bXNgKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZXZlbnRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGV2ZW50XG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb2RlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdUaW1lb3V0RXJyb3InO1xuICAgICAgICB0aGlzLmNvZGUgPSAnRVRJTUVET1VUJztcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0aW1lZE91dChyZXF1ZXN0LCBkZWxheXMsIG9wdGlvbnMpIHtcbiAgICBpZiAocmVlbnRyeSBpbiByZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiBub29wO1xuICAgIH1cbiAgICByZXF1ZXN0W3JlZW50cnldID0gdHJ1ZTtcbiAgICBjb25zdCBjYW5jZWxlcnMgPSBbXTtcbiAgICBjb25zdCB7IG9uY2UsIHVuaGFuZGxlQWxsIH0gPSB1bmhhbmRsZXIoKTtcbiAgICBjb25zdCBhZGRUaW1lb3V0ID0gKGRlbGF5LCBjYWxsYmFjaywgZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGltZW91dCA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIGRlbGF5LCBkZWxheSwgZXZlbnQpO1xuICAgICAgICB0aW1lb3V0LnVucmVmPy4oKTtcbiAgICAgICAgY29uc3QgY2FuY2VsID0gKCkgPT4ge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICB9O1xuICAgICAgICBjYW5jZWxlcnMucHVzaChjYW5jZWwpO1xuICAgICAgICByZXR1cm4gY2FuY2VsO1xuICAgIH07XG4gICAgY29uc3QgeyBob3N0LCBob3N0bmFtZSB9ID0gb3B0aW9ucztcbiAgICBjb25zdCB0aW1lb3V0SGFuZGxlciA9IChkZWxheSwgZXZlbnQpID0+IHtcbiAgICAgICAgcmVxdWVzdC5kZXN0cm95KG5ldyBUaW1lb3V0RXJyb3IoZGVsYXksIGV2ZW50KSk7XG4gICAgfTtcbiAgICBjb25zdCBjYW5jZWxUaW1lb3V0cyA9ICgpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBjYW5jZWwgb2YgY2FuY2VsZXJzKSB7XG4gICAgICAgICAgICBjYW5jZWwoKTtcbiAgICAgICAgfVxuICAgICAgICB1bmhhbmRsZUFsbCgpO1xuICAgIH07XG4gICAgcmVxdWVzdC5vbmNlKCdlcnJvcicsIGVycm9yID0+IHtcbiAgICAgICAgY2FuY2VsVGltZW91dHMoKTtcbiAgICAgICAgLy8gU2F2ZSBvcmlnaW5hbCBiZWhhdmlvclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBpZiAocmVxdWVzdC5saXN0ZW5lckNvdW50KCdlcnJvcicpID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChkZWxheXMucmVxdWVzdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IGNhbmNlbFRpbWVvdXQgPSBhZGRUaW1lb3V0KGRlbGF5cy5yZXF1ZXN0LCB0aW1lb3V0SGFuZGxlciwgJ3JlcXVlc3QnKTtcbiAgICAgICAgb25jZShyZXF1ZXN0LCAncmVzcG9uc2UnLCAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIG9uY2UocmVzcG9uc2UsICdlbmQnLCBjYW5jZWxUaW1lb3V0KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChkZWxheXMuc29ja2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgeyBzb2NrZXQgfSA9IGRlbGF5cztcbiAgICAgICAgY29uc3Qgc29ja2V0VGltZW91dEhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aW1lb3V0SGFuZGxlcihzb2NrZXQsICdzb2NrZXQnKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVxdWVzdC5zZXRUaW1lb3V0KHNvY2tldCwgc29ja2V0VGltZW91dEhhbmRsZXIpO1xuICAgICAgICAvLyBgcmVxdWVzdC5zZXRUaW1lb3V0KDApYCBjYXVzZXMgYSBtZW1vcnkgbGVhay5cbiAgICAgICAgLy8gV2UgY2FuIGp1c3QgcmVtb3ZlIHRoZSBsaXN0ZW5lciBhbmQgZm9yZ2V0IGFib3V0IHRoZSB0aW1lciAtIGl0J3MgdW5yZWZmZWQuXG4gICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vc2luZHJlc29yaHVzL2dvdC9pc3N1ZXMvNjkwXG4gICAgICAgIGNhbmNlbGVycy5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgIHJlcXVlc3QucmVtb3ZlTGlzdGVuZXIoJ3RpbWVvdXQnLCBzb2NrZXRUaW1lb3V0SGFuZGxlcik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBoYXNMb29rdXAgPSBkZWxheXMubG9va3VwICE9PSB1bmRlZmluZWQ7XG4gICAgY29uc3QgaGFzQ29ubmVjdCA9IGRlbGF5cy5jb25uZWN0ICE9PSB1bmRlZmluZWQ7XG4gICAgY29uc3QgaGFzU2VjdXJlQ29ubmVjdCA9IGRlbGF5cy5zZWN1cmVDb25uZWN0ICE9PSB1bmRlZmluZWQ7XG4gICAgY29uc3QgaGFzU2VuZCA9IGRlbGF5cy5zZW5kICE9PSB1bmRlZmluZWQ7XG4gICAgaWYgKGhhc0xvb2t1cCB8fCBoYXNDb25uZWN0IHx8IGhhc1NlY3VyZUNvbm5lY3QgfHwgaGFzU2VuZCkge1xuICAgICAgICBvbmNlKHJlcXVlc3QsICdzb2NrZXQnLCAoc29ja2V0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHNvY2tldFBhdGggfSA9IHJlcXVlc3Q7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dDogaGFyZCB0byB0ZXN0ICovXG4gICAgICAgICAgICBpZiAoc29ja2V0LmNvbm5lY3RpbmcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBoYXNQYXRoID0gQm9vbGVhbihzb2NrZXRQYXRoID8/IG5ldC5pc0lQKGhvc3RuYW1lID8/IGhvc3QgPz8gJycpICE9PSAwKTtcbiAgICAgICAgICAgICAgICBpZiAoaGFzTG9va3VwICYmICFoYXNQYXRoICYmIHNvY2tldC5hZGRyZXNzKCkuYWRkcmVzcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbmNlbFRpbWVvdXQgPSBhZGRUaW1lb3V0KGRlbGF5cy5sb29rdXAsIHRpbWVvdXRIYW5kbGVyLCAnbG9va3VwJyk7XG4gICAgICAgICAgICAgICAgICAgIG9uY2Uoc29ja2V0LCAnbG9va3VwJywgY2FuY2VsVGltZW91dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChoYXNDb25uZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVDb25uZWN0ID0gKCkgPT4gYWRkVGltZW91dChkZWxheXMuY29ubmVjdCwgdGltZW91dEhhbmRsZXIsICdjb25uZWN0Jyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXNQYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbmNlKHNvY2tldCwgJ2Nvbm5lY3QnLCB0aW1lQ29ubmVjdCgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uY2Uoc29ja2V0LCAnbG9va3VwJywgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2Uoc29ja2V0LCAnY29ubmVjdCcsIHRpbWVDb25uZWN0KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChoYXNTZWN1cmVDb25uZWN0ICYmIG9wdGlvbnMucHJvdG9jb2wgPT09ICdodHRwczonKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uY2Uoc29ja2V0LCAnY29ubmVjdCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbmNlbFRpbWVvdXQgPSBhZGRUaW1lb3V0KGRlbGF5cy5zZWN1cmVDb25uZWN0LCB0aW1lb3V0SGFuZGxlciwgJ3NlY3VyZUNvbm5lY3QnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uY2Uoc29ja2V0LCAnc2VjdXJlQ29ubmVjdCcsIGNhbmNlbFRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaGFzU2VuZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVSZXF1ZXN0ID0gKCkgPT4gYWRkVGltZW91dChkZWxheXMuc2VuZCwgdGltZW91dEhhbmRsZXIsICdzZW5kJyk7XG4gICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IGhhcmQgdG8gdGVzdCAqL1xuICAgICAgICAgICAgICAgIGlmIChzb2NrZXQuY29ubmVjdGluZykge1xuICAgICAgICAgICAgICAgICAgICBvbmNlKHNvY2tldCwgJ2Nvbm5lY3QnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbmNlKHJlcXVlc3QsICd1cGxvYWQtY29tcGxldGUnLCB0aW1lUmVxdWVzdCgpKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvbmNlKHJlcXVlc3QsICd1cGxvYWQtY29tcGxldGUnLCB0aW1lUmVxdWVzdCgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoZGVsYXlzLnJlc3BvbnNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgb25jZShyZXF1ZXN0LCAndXBsb2FkLWNvbXBsZXRlJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2FuY2VsVGltZW91dCA9IGFkZFRpbWVvdXQoZGVsYXlzLnJlc3BvbnNlLCB0aW1lb3V0SGFuZGxlciwgJ3Jlc3BvbnNlJyk7XG4gICAgICAgICAgICBvbmNlKHJlcXVlc3QsICdyZXNwb25zZScsIGNhbmNlbFRpbWVvdXQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGRlbGF5cy5yZWFkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgb25jZShyZXF1ZXN0LCAncmVzcG9uc2UnLCAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNhbmNlbFRpbWVvdXQgPSBhZGRUaW1lb3V0KGRlbGF5cy5yZWFkLCB0aW1lb3V0SGFuZGxlciwgJ3JlYWQnKTtcbiAgICAgICAgICAgIG9uY2UocmVzcG9uc2UsICdlbmQnLCBjYW5jZWxUaW1lb3V0KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBjYW5jZWxUaW1lb3V0cztcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/got/dist/source/core/timed-out.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/got/dist/source/core/utils/get-body-size.js":
/*!******************************************************************!*\
  !*** ./node_modules/got/dist/source/core/utils/get-body-size.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ getBodySize)\n/* harmony export */ });\n/* harmony import */ var node_buffer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node:buffer */ \"node:buffer\");\n/* harmony import */ var node_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! node:util */ \"node:util\");\n/* harmony import */ var _sindresorhus_is__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sindresorhus/is */ \"(rsc)/./node_modules/@sindresorhus/is/dist/index.js\");\n/* harmony import */ var _is_form_data_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./is-form-data.js */ \"(rsc)/./node_modules/got/dist/source/core/utils/is-form-data.js\");\n\n\n\n\nasync function getBodySize(body, headers) {\n    if (headers && 'content-length' in headers) {\n        return Number(headers['content-length']);\n    }\n    if (!body) {\n        return 0;\n    }\n    if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_2__[\"default\"].string(body)) {\n        return node_buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.byteLength(body);\n    }\n    if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_2__[\"default\"].buffer(body)) {\n        return body.length;\n    }\n    if ((0,_is_form_data_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(body)) {\n        return (0,node_util__WEBPACK_IMPORTED_MODULE_1__.promisify)(body.getLength.bind(body))();\n    }\n    return undefined;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2NvcmUvdXRpbHMvZ2V0LWJvZHktc2l6ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFxQztBQUNDO0FBQ0o7QUFDUztBQUM1QjtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsd0RBQUU7QUFDVixlQUFlLCtDQUFNO0FBQ3JCO0FBQ0EsUUFBUSx3REFBRTtBQUNWO0FBQ0E7QUFDQSxRQUFRLDREQUFVO0FBQ2xCLGVBQWUsb0RBQVM7QUFDeEI7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG5mbS1ib3QvLi9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2NvcmUvdXRpbHMvZ2V0LWJvZHktc2l6ZS5qcz84Mzg1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJ1ZmZlciB9IGZyb20gJ25vZGU6YnVmZmVyJztcbmltcG9ydCB7IHByb21pc2lmeSB9IGZyb20gJ25vZGU6dXRpbCc7XG5pbXBvcnQgaXMgZnJvbSAnQHNpbmRyZXNvcmh1cy9pcyc7XG5pbXBvcnQgaXNGb3JtRGF0YSBmcm9tICcuL2lzLWZvcm0tZGF0YS5qcyc7XG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBnZXRCb2R5U2l6ZShib2R5LCBoZWFkZXJzKSB7XG4gICAgaWYgKGhlYWRlcnMgJiYgJ2NvbnRlbnQtbGVuZ3RoJyBpbiBoZWFkZXJzKSB7XG4gICAgICAgIHJldHVybiBOdW1iZXIoaGVhZGVyc1snY29udGVudC1sZW5ndGgnXSk7XG4gICAgfVxuICAgIGlmICghYm9keSkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgaWYgKGlzLnN0cmluZyhib2R5KSkge1xuICAgICAgICByZXR1cm4gQnVmZmVyLmJ5dGVMZW5ndGgoYm9keSk7XG4gICAgfVxuICAgIGlmIChpcy5idWZmZXIoYm9keSkpIHtcbiAgICAgICAgcmV0dXJuIGJvZHkubGVuZ3RoO1xuICAgIH1cbiAgICBpZiAoaXNGb3JtRGF0YShib2R5KSkge1xuICAgICAgICByZXR1cm4gcHJvbWlzaWZ5KGJvZHkuZ2V0TGVuZ3RoLmJpbmQoYm9keSkpKCk7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/got/dist/source/core/utils/get-body-size.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/got/dist/source/core/utils/is-client-request.js":
/*!**********************************************************************!*\
  !*** ./node_modules/got/dist/source/core/utils/is-client-request.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction isClientRequest(clientRequest) {\n    return clientRequest.writable && !clientRequest.writableEnded;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (isClientRequest);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2NvcmUvdXRpbHMvaXMtY2xpZW50LXJlcXVlc3QuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBLGlFQUFlLGVBQWUsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2RuZm0tYm90Ly4vbm9kZV9tb2R1bGVzL2dvdC9kaXN0L3NvdXJjZS9jb3JlL3V0aWxzL2lzLWNsaWVudC1yZXF1ZXN0LmpzPzU3MGUiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gaXNDbGllbnRSZXF1ZXN0KGNsaWVudFJlcXVlc3QpIHtcbiAgICByZXR1cm4gY2xpZW50UmVxdWVzdC53cml0YWJsZSAmJiAhY2xpZW50UmVxdWVzdC53cml0YWJsZUVuZGVkO1xufVxuZXhwb3J0IGRlZmF1bHQgaXNDbGllbnRSZXF1ZXN0O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/got/dist/source/core/utils/is-client-request.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/got/dist/source/core/utils/is-form-data.js":
/*!*****************************************************************!*\
  !*** ./node_modules/got/dist/source/core/utils/is-form-data.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ isFormData)\n/* harmony export */ });\n/* harmony import */ var _sindresorhus_is__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sindresorhus/is */ \"(rsc)/./node_modules/@sindresorhus/is/dist/index.js\");\n\nfunction isFormData(body) {\n    return _sindresorhus_is__WEBPACK_IMPORTED_MODULE_0__[\"default\"].nodeStream(body) && _sindresorhus_is__WEBPACK_IMPORTED_MODULE_0__[\"default\"].function_(body.getBoundary);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2NvcmUvdXRpbHMvaXMtZm9ybS1kYXRhLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWtDO0FBQ25CO0FBQ2YsV0FBVyx3REFBRSxxQkFBcUIsd0RBQUU7QUFDcEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kbmZtLWJvdC8uL25vZGVfbW9kdWxlcy9nb3QvZGlzdC9zb3VyY2UvY29yZS91dGlscy9pcy1mb3JtLWRhdGEuanM/MzY3NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaXMgZnJvbSAnQHNpbmRyZXNvcmh1cy9pcyc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0Zvcm1EYXRhKGJvZHkpIHtcbiAgICByZXR1cm4gaXMubm9kZVN0cmVhbShib2R5KSAmJiBpcy5mdW5jdGlvbl8oYm9keS5nZXRCb3VuZGFyeSk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/got/dist/source/core/utils/is-form-data.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/got/dist/source/core/utils/is-unix-socket-url.js":
/*!***********************************************************************!*\
  !*** ./node_modules/got/dist/source/core/utils/is-unix-socket-url.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ isUnixSocketURL)\n/* harmony export */ });\n// eslint-disable-next-line @typescript-eslint/naming-convention\nfunction isUnixSocketURL(url) {\n    return url.protocol === 'unix:' || url.hostname === 'unix';\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2NvcmUvdXRpbHMvaXMtdW5peC1zb2NrZXQtdXJsLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNlO0FBQ2Y7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RuZm0tYm90Ly4vbm9kZV9tb2R1bGVzL2dvdC9kaXN0L3NvdXJjZS9jb3JlL3V0aWxzL2lzLXVuaXgtc29ja2V0LXVybC5qcz85MmYxIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbmFtaW5nLWNvbnZlbnRpb25cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzVW5peFNvY2tldFVSTCh1cmwpIHtcbiAgICByZXR1cm4gdXJsLnByb3RvY29sID09PSAndW5peDonIHx8IHVybC5ob3N0bmFtZSA9PT0gJ3VuaXgnO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/got/dist/source/core/utils/is-unix-socket-url.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/got/dist/source/core/utils/proxy-events.js":
/*!*****************************************************************!*\
  !*** ./node_modules/got/dist/source/core/utils/proxy-events.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ proxyEvents)\n/* harmony export */ });\nfunction proxyEvents(from, to, events) {\n    const eventFunctions = {};\n    for (const event of events) {\n        const eventFunction = (...args) => {\n            to.emit(event, ...args);\n        };\n        eventFunctions[event] = eventFunction;\n        from.on(event, eventFunction);\n    }\n    return () => {\n        for (const [event, eventFunction] of Object.entries(eventFunctions)) {\n            from.off(event, eventFunction);\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2NvcmUvdXRpbHMvcHJveHktZXZlbnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kbmZtLWJvdC8uL25vZGVfbW9kdWxlcy9nb3QvZGlzdC9zb3VyY2UvY29yZS91dGlscy9wcm94eS1ldmVudHMuanM/NWE1OSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwcm94eUV2ZW50cyhmcm9tLCB0bywgZXZlbnRzKSB7XG4gICAgY29uc3QgZXZlbnRGdW5jdGlvbnMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGV2ZW50IG9mIGV2ZW50cykge1xuICAgICAgICBjb25zdCBldmVudEZ1bmN0aW9uID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIHRvLmVtaXQoZXZlbnQsIC4uLmFyZ3MpO1xuICAgICAgICB9O1xuICAgICAgICBldmVudEZ1bmN0aW9uc1tldmVudF0gPSBldmVudEZ1bmN0aW9uO1xuICAgICAgICBmcm9tLm9uKGV2ZW50LCBldmVudEZ1bmN0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBbZXZlbnQsIGV2ZW50RnVuY3Rpb25dIG9mIE9iamVjdC5lbnRyaWVzKGV2ZW50RnVuY3Rpb25zKSkge1xuICAgICAgICAgICAgZnJvbS5vZmYoZXZlbnQsIGV2ZW50RnVuY3Rpb24pO1xuICAgICAgICB9XG4gICAgfTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/got/dist/source/core/utils/proxy-events.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/got/dist/source/core/utils/unhandle.js":
/*!*************************************************************!*\
  !*** ./node_modules/got/dist/source/core/utils/unhandle.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ unhandle)\n/* harmony export */ });\n// When attaching listeners, it's very easy to forget about them.\n// Especially if you do error handling and set timeouts.\n// So instead of checking if it's proper to throw an error on every timeout ever,\n// use this simple tool which will remove all listeners you have attached.\nfunction unhandle() {\n    const handlers = [];\n    return {\n        once(origin, event, fn) {\n            origin.once(event, fn);\n            handlers.push({ origin, event, fn });\n        },\n        unhandleAll() {\n            for (const handler of handlers) {\n                const { origin, event, fn } = handler;\n                origin.removeListener(event, fn);\n            }\n            handlers.length = 0;\n        },\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2NvcmUvdXRpbHMvdW5oYW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ2U7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixtQkFBbUI7QUFDL0MsU0FBUztBQUNUO0FBQ0E7QUFDQSx3QkFBd0Isb0JBQW9CO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG5mbS1ib3QvLi9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2NvcmUvdXRpbHMvdW5oYW5kbGUuanM/ZDJiYSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBXaGVuIGF0dGFjaGluZyBsaXN0ZW5lcnMsIGl0J3MgdmVyeSBlYXN5IHRvIGZvcmdldCBhYm91dCB0aGVtLlxuLy8gRXNwZWNpYWxseSBpZiB5b3UgZG8gZXJyb3IgaGFuZGxpbmcgYW5kIHNldCB0aW1lb3V0cy5cbi8vIFNvIGluc3RlYWQgb2YgY2hlY2tpbmcgaWYgaXQncyBwcm9wZXIgdG8gdGhyb3cgYW4gZXJyb3Igb24gZXZlcnkgdGltZW91dCBldmVyLFxuLy8gdXNlIHRoaXMgc2ltcGxlIHRvb2wgd2hpY2ggd2lsbCByZW1vdmUgYWxsIGxpc3RlbmVycyB5b3UgaGF2ZSBhdHRhY2hlZC5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVuaGFuZGxlKCkge1xuICAgIGNvbnN0IGhhbmRsZXJzID0gW107XG4gICAgcmV0dXJuIHtcbiAgICAgICAgb25jZShvcmlnaW4sIGV2ZW50LCBmbikge1xuICAgICAgICAgICAgb3JpZ2luLm9uY2UoZXZlbnQsIGZuKTtcbiAgICAgICAgICAgIGhhbmRsZXJzLnB1c2goeyBvcmlnaW4sIGV2ZW50LCBmbiB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgdW5oYW5kbGVBbGwoKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGhhbmRsZXIgb2YgaGFuZGxlcnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IG9yaWdpbiwgZXZlbnQsIGZuIH0gPSBoYW5kbGVyO1xuICAgICAgICAgICAgICAgIG9yaWdpbi5yZW1vdmVMaXN0ZW5lcihldmVudCwgZm4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGFuZGxlcnMubGVuZ3RoID0gMDtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/got/dist/source/core/utils/unhandle.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/got/dist/source/core/utils/url-to-options.js":
/*!*******************************************************************!*\
  !*** ./node_modules/got/dist/source/core/utils/url-to-options.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ urlToOptions)\n/* harmony export */ });\n/* harmony import */ var _sindresorhus_is__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sindresorhus/is */ \"(rsc)/./node_modules/@sindresorhus/is/dist/index.js\");\n\nfunction urlToOptions(url) {\n    // Cast to URL\n    url = url;\n    const options = {\n        protocol: url.protocol,\n        hostname: _sindresorhus_is__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string(url.hostname) && url.hostname.startsWith('[') ? url.hostname.slice(1, -1) : url.hostname,\n        host: url.host,\n        hash: url.hash,\n        search: url.search,\n        pathname: url.pathname,\n        href: url.href,\n        path: `${url.pathname || ''}${url.search || ''}`,\n    };\n    if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_0__[\"default\"].string(url.port) && url.port.length > 0) {\n        options.port = Number(url.port);\n    }\n    if (url.username || url.password) {\n        options.auth = `${url.username || ''}:${url.password || ''}`;\n    }\n    return options;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2NvcmUvdXRpbHMvdXJsLXRvLW9wdGlvbnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBa0M7QUFDbkI7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix3REFBRTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLG1CQUFtQixFQUFFLGlCQUFpQjtBQUN2RDtBQUNBLFFBQVEsd0RBQUU7QUFDVjtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsbUJBQW1CLEdBQUcsbUJBQW1CO0FBQ25FO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RuZm0tYm90Ly4vbm9kZV9tb2R1bGVzL2dvdC9kaXN0L3NvdXJjZS9jb3JlL3V0aWxzL3VybC10by1vcHRpb25zLmpzPzdjNzEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGlzIGZyb20gJ0BzaW5kcmVzb3JodXMvaXMnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXJsVG9PcHRpb25zKHVybCkge1xuICAgIC8vIENhc3QgdG8gVVJMXG4gICAgdXJsID0gdXJsO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIHByb3RvY29sOiB1cmwucHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lOiBpcy5zdHJpbmcodXJsLmhvc3RuYW1lKSAmJiB1cmwuaG9zdG5hbWUuc3RhcnRzV2l0aCgnWycpID8gdXJsLmhvc3RuYW1lLnNsaWNlKDEsIC0xKSA6IHVybC5ob3N0bmFtZSxcbiAgICAgICAgaG9zdDogdXJsLmhvc3QsXG4gICAgICAgIGhhc2g6IHVybC5oYXNoLFxuICAgICAgICBzZWFyY2g6IHVybC5zZWFyY2gsXG4gICAgICAgIHBhdGhuYW1lOiB1cmwucGF0aG5hbWUsXG4gICAgICAgIGhyZWY6IHVybC5ocmVmLFxuICAgICAgICBwYXRoOiBgJHt1cmwucGF0aG5hbWUgfHwgJyd9JHt1cmwuc2VhcmNoIHx8ICcnfWAsXG4gICAgfTtcbiAgICBpZiAoaXMuc3RyaW5nKHVybC5wb3J0KSAmJiB1cmwucG9ydC5sZW5ndGggPiAwKSB7XG4gICAgICAgIG9wdGlvbnMucG9ydCA9IE51bWJlcih1cmwucG9ydCk7XG4gICAgfVxuICAgIGlmICh1cmwudXNlcm5hbWUgfHwgdXJsLnBhc3N3b3JkKSB7XG4gICAgICAgIG9wdGlvbnMuYXV0aCA9IGAke3VybC51c2VybmFtZSB8fCAnJ306JHt1cmwucGFzc3dvcmQgfHwgJyd9YDtcbiAgICB9XG4gICAgcmV0dXJuIG9wdGlvbnM7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/got/dist/source/core/utils/url-to-options.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/got/dist/source/core/utils/weakable-map.js":
/*!*****************************************************************!*\
  !*** ./node_modules/got/dist/source/core/utils/weakable-map.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ WeakableMap)\n/* harmony export */ });\nclass WeakableMap {\n    constructor() {\n        Object.defineProperty(this, \"weakMap\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"map\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.weakMap = new WeakMap();\n        this.map = new Map();\n    }\n    set(key, value) {\n        if (typeof key === 'object') {\n            this.weakMap.set(key, value);\n        }\n        else {\n            this.map.set(key, value);\n        }\n    }\n    get(key) {\n        if (typeof key === 'object') {\n            return this.weakMap.get(key);\n        }\n        return this.map.get(key);\n    }\n    has(key) {\n        if (typeof key === 'object') {\n            return this.weakMap.has(key);\n        }\n        return this.map.has(key);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2NvcmUvdXRpbHMvd2Vha2FibGUtbWFwLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RuZm0tYm90Ly4vbm9kZV9tb2R1bGVzL2dvdC9kaXN0L3NvdXJjZS9jb3JlL3V0aWxzL3dlYWthYmxlLW1hcC5qcz9kZDQ4Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFdlYWthYmxlTWFwIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwid2Vha01hcFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtYXBcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy53ZWFrTWFwID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgdGhpcy5tYXAgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIHNldChrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2Yga2V5ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgdGhpcy53ZWFrTWFwLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubWFwLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQoa2V5KSB7XG4gICAgICAgIGlmICh0eXBlb2Yga2V5ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMud2Vha01hcC5nZXQoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5tYXAuZ2V0KGtleSk7XG4gICAgfVxuICAgIGhhcyhrZXkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBrZXkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy53ZWFrTWFwLmhhcyhrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLm1hcC5oYXMoa2V5KTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/got/dist/source/core/utils/weakable-map.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/got/dist/source/create.js":
/*!************************************************!*\
  !*** ./node_modules/got/dist/source/create.js ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _sindresorhus_is__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sindresorhus/is */ \"(rsc)/./node_modules/@sindresorhus/is/dist/index.js\");\n/* harmony import */ var _as_promise_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./as-promise/index.js */ \"(rsc)/./node_modules/got/dist/source/as-promise/index.js\");\n/* harmony import */ var _core_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./core/index.js */ \"(rsc)/./node_modules/got/dist/source/core/index.js\");\n/* harmony import */ var _core_options_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core/options.js */ \"(rsc)/./node_modules/got/dist/source/core/options.js\");\n\n\n\n\n// The `delay` package weighs 10KB (!)\nconst delay = async (ms) => new Promise(resolve => {\n    setTimeout(resolve, ms);\n});\nconst isGotInstance = (value) => _sindresorhus_is__WEBPACK_IMPORTED_MODULE_0__[\"default\"].function_(value);\nconst aliases = [\n    'get',\n    'post',\n    'put',\n    'patch',\n    'head',\n    'delete',\n];\nconst create = (defaults) => {\n    defaults = {\n        options: new _core_options_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](undefined, undefined, defaults.options),\n        handlers: [...defaults.handlers],\n        mutableDefaults: defaults.mutableDefaults,\n    };\n    Object.defineProperty(defaults, 'mutableDefaults', {\n        enumerable: true,\n        configurable: false,\n        writable: false,\n    });\n    // Got interface\n    const got = ((url, options, defaultOptions = defaults.options) => {\n        const request = new _core_index_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](url, options, defaultOptions);\n        let promise;\n        const lastHandler = (normalized) => {\n            // Note: `options` is `undefined` when `new Options(...)` fails\n            request.options = normalized;\n            request._noPipe = !normalized.isStream;\n            void request.flush();\n            if (normalized.isStream) {\n                return request;\n            }\n            if (!promise) {\n                promise = (0,_as_promise_index_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(request);\n            }\n            return promise;\n        };\n        let iteration = 0;\n        const iterateHandlers = (newOptions) => {\n            const handler = defaults.handlers[iteration++] ?? lastHandler;\n            const result = handler(newOptions, iterateHandlers);\n            if (_sindresorhus_is__WEBPACK_IMPORTED_MODULE_0__[\"default\"].promise(result) && !request.options.isStream) {\n                if (!promise) {\n                    promise = (0,_as_promise_index_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(request);\n                }\n                if (result !== promise) {\n                    const descriptors = Object.getOwnPropertyDescriptors(promise);\n                    for (const key in descriptors) {\n                        if (key in result) {\n                            // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n                            delete descriptors[key];\n                        }\n                    }\n                    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n                    Object.defineProperties(result, descriptors);\n                    result.cancel = promise.cancel;\n                }\n            }\n            return result;\n        };\n        return iterateHandlers(request.options);\n    });\n    got.extend = (...instancesOrOptions) => {\n        const options = new _core_options_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](undefined, undefined, defaults.options);\n        const handlers = [...defaults.handlers];\n        let mutableDefaults;\n        for (const value of instancesOrOptions) {\n            if (isGotInstance(value)) {\n                options.merge(value.defaults.options);\n                handlers.push(...value.defaults.handlers);\n                mutableDefaults = value.defaults.mutableDefaults;\n            }\n            else {\n                options.merge(value);\n                if (value.handlers) {\n                    handlers.push(...value.handlers);\n                }\n                mutableDefaults = value.mutableDefaults;\n            }\n        }\n        return create({\n            options,\n            handlers,\n            mutableDefaults: Boolean(mutableDefaults),\n        });\n    };\n    // Pagination\n    const paginateEach = (async function* (url, options) {\n        let normalizedOptions = new _core_options_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](url, options, defaults.options);\n        normalizedOptions.resolveBodyOnly = false;\n        const { pagination } = normalizedOptions;\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_0__.assert.function_(pagination.transform);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_0__.assert.function_(pagination.shouldContinue);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_0__.assert.function_(pagination.filter);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_0__.assert.function_(pagination.paginate);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_0__.assert.number(pagination.countLimit);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_0__.assert.number(pagination.requestLimit);\n        _sindresorhus_is__WEBPACK_IMPORTED_MODULE_0__.assert.number(pagination.backoff);\n        const allItems = [];\n        let { countLimit } = pagination;\n        let numberOfRequests = 0;\n        while (numberOfRequests < pagination.requestLimit) {\n            if (numberOfRequests !== 0) {\n                // eslint-disable-next-line no-await-in-loop\n                await delay(pagination.backoff);\n            }\n            // eslint-disable-next-line no-await-in-loop\n            const response = (await got(undefined, undefined, normalizedOptions));\n            // eslint-disable-next-line no-await-in-loop\n            const parsed = await pagination.transform(response);\n            const currentItems = [];\n            _sindresorhus_is__WEBPACK_IMPORTED_MODULE_0__.assert.array(parsed);\n            for (const item of parsed) {\n                if (pagination.filter({ item, currentItems, allItems })) {\n                    if (!pagination.shouldContinue({ item, currentItems, allItems })) {\n                        return;\n                    }\n                    yield item;\n                    if (pagination.stackAllItems) {\n                        allItems.push(item);\n                    }\n                    currentItems.push(item);\n                    if (--countLimit <= 0) {\n                        return;\n                    }\n                }\n            }\n            const optionsToMerge = pagination.paginate({\n                response,\n                currentItems,\n                allItems,\n            });\n            if (optionsToMerge === false) {\n                return;\n            }\n            if (optionsToMerge === response.request.options) {\n                normalizedOptions = response.request.options;\n            }\n            else {\n                normalizedOptions.merge(optionsToMerge);\n                _sindresorhus_is__WEBPACK_IMPORTED_MODULE_0__.assert.any([_sindresorhus_is__WEBPACK_IMPORTED_MODULE_0__[\"default\"].urlInstance, _sindresorhus_is__WEBPACK_IMPORTED_MODULE_0__[\"default\"].undefined], optionsToMerge.url);\n                if (optionsToMerge.url !== undefined) {\n                    normalizedOptions.prefixUrl = '';\n                    normalizedOptions.url = optionsToMerge.url;\n                }\n            }\n            numberOfRequests++;\n        }\n    });\n    got.paginate = paginateEach;\n    got.paginate.all = (async (url, options) => {\n        const results = [];\n        for await (const item of paginateEach(url, options)) {\n            results.push(item);\n        }\n        return results;\n    });\n    // For those who like very descriptive names\n    got.paginate.each = paginateEach;\n    // Stream API\n    got.stream = ((url, options) => got(url, { ...options, isStream: true }));\n    // Shortcuts\n    for (const method of aliases) {\n        got[method] = ((url, options) => got(url, { ...options, method }));\n        got.stream[method] = ((url, options) => got(url, { ...options, method, isStream: true }));\n    }\n    if (!defaults.mutableDefaults) {\n        Object.freeze(defaults.handlers);\n        defaults.options.freeze();\n    }\n    Object.defineProperty(got, 'defaults', {\n        value: defaults,\n        writable: false,\n        configurable: false,\n        enumerable: true,\n    });\n    return got;\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (create);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2NyZWF0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUE4QztBQUNBO0FBQ1I7QUFDRTtBQUN4QztBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsaUNBQWlDLHdEQUFFO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHdEQUFPO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSw0QkFBNEIsc0RBQU87QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsZ0VBQVM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isd0RBQUU7QUFDbEI7QUFDQSw4QkFBOEIsZ0VBQVM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLDRCQUE0Qix3REFBTztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyx3REFBTztBQUMzQztBQUNBLGdCQUFnQixhQUFhO0FBQzdCLFFBQVEsb0RBQU07QUFDZCxRQUFRLG9EQUFNO0FBQ2QsUUFBUSxvREFBTTtBQUNkLFFBQVEsb0RBQU07QUFDZCxRQUFRLG9EQUFNO0FBQ2QsUUFBUSxvREFBTTtBQUNkLFFBQVEsb0RBQU07QUFDZDtBQUNBLGNBQWMsYUFBYTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxvREFBTTtBQUNsQjtBQUNBLHdDQUF3Qyw4QkFBOEI7QUFDdEUscURBQXFELDhCQUE4QjtBQUNuRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG9EQUFNLE1BQU0sd0RBQUUsY0FBYyx3REFBRTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsNEJBQTRCO0FBQzNFO0FBQ0E7QUFDQSxvREFBb0Qsb0JBQW9CO0FBQ3hFLDJEQUEyRCxvQ0FBb0M7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGlFQUFlLE1BQU0sRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2RuZm0tYm90Ly4vbm9kZV9tb2R1bGVzL2dvdC9kaXN0L3NvdXJjZS9jcmVhdGUuanM/ZWE3YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaXMsIHsgYXNzZXJ0IH0gZnJvbSAnQHNpbmRyZXNvcmh1cy9pcyc7XG5pbXBvcnQgYXNQcm9taXNlIGZyb20gJy4vYXMtcHJvbWlzZS9pbmRleC5qcyc7XG5pbXBvcnQgUmVxdWVzdCBmcm9tICcuL2NvcmUvaW5kZXguanMnO1xuaW1wb3J0IE9wdGlvbnMgZnJvbSAnLi9jb3JlL29wdGlvbnMuanMnO1xuLy8gVGhlIGBkZWxheWAgcGFja2FnZSB3ZWlnaHMgMTBLQiAoISlcbmNvbnN0IGRlbGF5ID0gYXN5bmMgKG1zKSA9PiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKTtcbn0pO1xuY29uc3QgaXNHb3RJbnN0YW5jZSA9ICh2YWx1ZSkgPT4gaXMuZnVuY3Rpb25fKHZhbHVlKTtcbmNvbnN0IGFsaWFzZXMgPSBbXG4gICAgJ2dldCcsXG4gICAgJ3Bvc3QnLFxuICAgICdwdXQnLFxuICAgICdwYXRjaCcsXG4gICAgJ2hlYWQnLFxuICAgICdkZWxldGUnLFxuXTtcbmNvbnN0IGNyZWF0ZSA9IChkZWZhdWx0cykgPT4ge1xuICAgIGRlZmF1bHRzID0ge1xuICAgICAgICBvcHRpb25zOiBuZXcgT3B0aW9ucyh1bmRlZmluZWQsIHVuZGVmaW5lZCwgZGVmYXVsdHMub3B0aW9ucyksXG4gICAgICAgIGhhbmRsZXJzOiBbLi4uZGVmYXVsdHMuaGFuZGxlcnNdLFxuICAgICAgICBtdXRhYmxlRGVmYXVsdHM6IGRlZmF1bHRzLm11dGFibGVEZWZhdWx0cyxcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkZWZhdWx0cywgJ211dGFibGVEZWZhdWx0cycsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgIH0pO1xuICAgIC8vIEdvdCBpbnRlcmZhY2VcbiAgICBjb25zdCBnb3QgPSAoKHVybCwgb3B0aW9ucywgZGVmYXVsdE9wdGlvbnMgPSBkZWZhdWx0cy5vcHRpb25zKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCh1cmwsIG9wdGlvbnMsIGRlZmF1bHRPcHRpb25zKTtcbiAgICAgICAgbGV0IHByb21pc2U7XG4gICAgICAgIGNvbnN0IGxhc3RIYW5kbGVyID0gKG5vcm1hbGl6ZWQpID0+IHtcbiAgICAgICAgICAgIC8vIE5vdGU6IGBvcHRpb25zYCBpcyBgdW5kZWZpbmVkYCB3aGVuIGBuZXcgT3B0aW9ucyguLi4pYCBmYWlsc1xuICAgICAgICAgICAgcmVxdWVzdC5vcHRpb25zID0gbm9ybWFsaXplZDtcbiAgICAgICAgICAgIHJlcXVlc3QuX25vUGlwZSA9ICFub3JtYWxpemVkLmlzU3RyZWFtO1xuICAgICAgICAgICAgdm9pZCByZXF1ZXN0LmZsdXNoKCk7XG4gICAgICAgICAgICBpZiAobm9ybWFsaXplZC5pc1N0cmVhbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFwcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcHJvbWlzZSA9IGFzUHJvbWlzZShyZXF1ZXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICB9O1xuICAgICAgICBsZXQgaXRlcmF0aW9uID0gMDtcbiAgICAgICAgY29uc3QgaXRlcmF0ZUhhbmRsZXJzID0gKG5ld09wdGlvbnMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZXIgPSBkZWZhdWx0cy5oYW5kbGVyc1tpdGVyYXRpb24rK10gPz8gbGFzdEhhbmRsZXI7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBoYW5kbGVyKG5ld09wdGlvbnMsIGl0ZXJhdGVIYW5kbGVycyk7XG4gICAgICAgICAgICBpZiAoaXMucHJvbWlzZShyZXN1bHQpICYmICFyZXF1ZXN0Lm9wdGlvbnMuaXNTdHJlYW0pIHtcbiAgICAgICAgICAgICAgICBpZiAoIXByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZSA9IGFzUHJvbWlzZShyZXF1ZXN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gcHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXNjcmlwdG9ycyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHByb21pc2UpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkZXNjcmlwdG9ycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleSBpbiByZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWR5bmFtaWMtZGVsZXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGRlc2NyaXB0b3JzW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhyZXN1bHQsIGRlc2NyaXB0b3JzKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmNhbmNlbCA9IHByb21pc2UuY2FuY2VsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBpdGVyYXRlSGFuZGxlcnMocmVxdWVzdC5vcHRpb25zKTtcbiAgICB9KTtcbiAgICBnb3QuZXh0ZW5kID0gKC4uLmluc3RhbmNlc09yT3B0aW9ucykgPT4ge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gbmV3IE9wdGlvbnModW5kZWZpbmVkLCB1bmRlZmluZWQsIGRlZmF1bHRzLm9wdGlvbnMpO1xuICAgICAgICBjb25zdCBoYW5kbGVycyA9IFsuLi5kZWZhdWx0cy5oYW5kbGVyc107XG4gICAgICAgIGxldCBtdXRhYmxlRGVmYXVsdHM7XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgaW5zdGFuY2VzT3JPcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAoaXNHb3RJbnN0YW5jZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLm1lcmdlKHZhbHVlLmRlZmF1bHRzLm9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGhhbmRsZXJzLnB1c2goLi4udmFsdWUuZGVmYXVsdHMuaGFuZGxlcnMpO1xuICAgICAgICAgICAgICAgIG11dGFibGVEZWZhdWx0cyA9IHZhbHVlLmRlZmF1bHRzLm11dGFibGVEZWZhdWx0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubWVyZ2UodmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5oYW5kbGVycykge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVycy5wdXNoKC4uLnZhbHVlLmhhbmRsZXJzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbXV0YWJsZURlZmF1bHRzID0gdmFsdWUubXV0YWJsZURlZmF1bHRzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjcmVhdGUoe1xuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIGhhbmRsZXJzLFxuICAgICAgICAgICAgbXV0YWJsZURlZmF1bHRzOiBCb29sZWFuKG11dGFibGVEZWZhdWx0cyksXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLy8gUGFnaW5hdGlvblxuICAgIGNvbnN0IHBhZ2luYXRlRWFjaCA9IChhc3luYyBmdW5jdGlvbiogKHVybCwgb3B0aW9ucykge1xuICAgICAgICBsZXQgbm9ybWFsaXplZE9wdGlvbnMgPSBuZXcgT3B0aW9ucyh1cmwsIG9wdGlvbnMsIGRlZmF1bHRzLm9wdGlvbnMpO1xuICAgICAgICBub3JtYWxpemVkT3B0aW9ucy5yZXNvbHZlQm9keU9ubHkgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgeyBwYWdpbmF0aW9uIH0gPSBub3JtYWxpemVkT3B0aW9ucztcbiAgICAgICAgYXNzZXJ0LmZ1bmN0aW9uXyhwYWdpbmF0aW9uLnRyYW5zZm9ybSk7XG4gICAgICAgIGFzc2VydC5mdW5jdGlvbl8ocGFnaW5hdGlvbi5zaG91bGRDb250aW51ZSk7XG4gICAgICAgIGFzc2VydC5mdW5jdGlvbl8ocGFnaW5hdGlvbi5maWx0ZXIpO1xuICAgICAgICBhc3NlcnQuZnVuY3Rpb25fKHBhZ2luYXRpb24ucGFnaW5hdGUpO1xuICAgICAgICBhc3NlcnQubnVtYmVyKHBhZ2luYXRpb24uY291bnRMaW1pdCk7XG4gICAgICAgIGFzc2VydC5udW1iZXIocGFnaW5hdGlvbi5yZXF1ZXN0TGltaXQpO1xuICAgICAgICBhc3NlcnQubnVtYmVyKHBhZ2luYXRpb24uYmFja29mZik7XG4gICAgICAgIGNvbnN0IGFsbEl0ZW1zID0gW107XG4gICAgICAgIGxldCB7IGNvdW50TGltaXQgfSA9IHBhZ2luYXRpb247XG4gICAgICAgIGxldCBudW1iZXJPZlJlcXVlc3RzID0gMDtcbiAgICAgICAgd2hpbGUgKG51bWJlck9mUmVxdWVzdHMgPCBwYWdpbmF0aW9uLnJlcXVlc3RMaW1pdCkge1xuICAgICAgICAgICAgaWYgKG51bWJlck9mUmVxdWVzdHMgIT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYXdhaXQtaW4tbG9vcFxuICAgICAgICAgICAgICAgIGF3YWl0IGRlbGF5KHBhZ2luYXRpb24uYmFja29mZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYXdhaXQtaW4tbG9vcFxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSAoYXdhaXQgZ290KHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBub3JtYWxpemVkT3B0aW9ucykpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWF3YWl0LWluLWxvb3BcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IGF3YWl0IHBhZ2luYXRpb24udHJhbnNmb3JtKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRJdGVtcyA9IFtdO1xuICAgICAgICAgICAgYXNzZXJ0LmFycmF5KHBhcnNlZCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgcGFyc2VkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhZ2luYXRpb24uZmlsdGVyKHsgaXRlbSwgY3VycmVudEl0ZW1zLCBhbGxJdGVtcyB9KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXBhZ2luYXRpb24uc2hvdWxkQ29udGludWUoeyBpdGVtLCBjdXJyZW50SXRlbXMsIGFsbEl0ZW1zIH0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgeWllbGQgaXRlbTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2luYXRpb24uc3RhY2tBbGxJdGVtcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxsSXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50SXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKC0tY291bnRMaW1pdCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zVG9NZXJnZSA9IHBhZ2luYXRpb24ucGFnaW5hdGUoe1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVtcyxcbiAgICAgICAgICAgICAgICBhbGxJdGVtcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnNUb01lcmdlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zVG9NZXJnZSA9PT0gcmVzcG9uc2UucmVxdWVzdC5vcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZE9wdGlvbnMgPSByZXNwb25zZS5yZXF1ZXN0Lm9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkT3B0aW9ucy5tZXJnZShvcHRpb25zVG9NZXJnZSk7XG4gICAgICAgICAgICAgICAgYXNzZXJ0LmFueShbaXMudXJsSW5zdGFuY2UsIGlzLnVuZGVmaW5lZF0sIG9wdGlvbnNUb01lcmdlLnVybCk7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnNUb01lcmdlLnVybCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRPcHRpb25zLnByZWZpeFVybCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkT3B0aW9ucy51cmwgPSBvcHRpb25zVG9NZXJnZS51cmw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbnVtYmVyT2ZSZXF1ZXN0cysrO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgZ290LnBhZ2luYXRlID0gcGFnaW5hdGVFYWNoO1xuICAgIGdvdC5wYWdpbmF0ZS5hbGwgPSAoYXN5bmMgKHVybCwgb3B0aW9ucykgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHRzID0gW107XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgaXRlbSBvZiBwYWdpbmF0ZUVhY2godXJsLCBvcHRpb25zKSkge1xuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH0pO1xuICAgIC8vIEZvciB0aG9zZSB3aG8gbGlrZSB2ZXJ5IGRlc2NyaXB0aXZlIG5hbWVzXG4gICAgZ290LnBhZ2luYXRlLmVhY2ggPSBwYWdpbmF0ZUVhY2g7XG4gICAgLy8gU3RyZWFtIEFQSVxuICAgIGdvdC5zdHJlYW0gPSAoKHVybCwgb3B0aW9ucykgPT4gZ290KHVybCwgeyAuLi5vcHRpb25zLCBpc1N0cmVhbTogdHJ1ZSB9KSk7XG4gICAgLy8gU2hvcnRjdXRzXG4gICAgZm9yIChjb25zdCBtZXRob2Qgb2YgYWxpYXNlcykge1xuICAgICAgICBnb3RbbWV0aG9kXSA9ICgodXJsLCBvcHRpb25zKSA9PiBnb3QodXJsLCB7IC4uLm9wdGlvbnMsIG1ldGhvZCB9KSk7XG4gICAgICAgIGdvdC5zdHJlYW1bbWV0aG9kXSA9ICgodXJsLCBvcHRpb25zKSA9PiBnb3QodXJsLCB7IC4uLm9wdGlvbnMsIG1ldGhvZCwgaXNTdHJlYW06IHRydWUgfSkpO1xuICAgIH1cbiAgICBpZiAoIWRlZmF1bHRzLm11dGFibGVEZWZhdWx0cykge1xuICAgICAgICBPYmplY3QuZnJlZXplKGRlZmF1bHRzLmhhbmRsZXJzKTtcbiAgICAgICAgZGVmYXVsdHMub3B0aW9ucy5mcmVlemUoKTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGdvdCwgJ2RlZmF1bHRzJywge1xuICAgICAgICB2YWx1ZTogZGVmYXVsdHMsXG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICB9KTtcbiAgICByZXR1cm4gZ290O1xufTtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/got/dist/source/create.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/got/dist/source/index.js":
/*!***********************************************!*\
  !*** ./node_modules/got/dist/source/index.js ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbortError: () => (/* reexport safe */ _core_errors_js__WEBPACK_IMPORTED_MODULE_3__.AbortError),\n/* harmony export */   CacheError: () => (/* reexport safe */ _core_errors_js__WEBPACK_IMPORTED_MODULE_3__.CacheError),\n/* harmony export */   CancelError: () => (/* reexport safe */ _as_promise_types_js__WEBPACK_IMPORTED_MODULE_5__.CancelError),\n/* harmony export */   HTTPError: () => (/* reexport safe */ _core_errors_js__WEBPACK_IMPORTED_MODULE_3__.HTTPError),\n/* harmony export */   MaxRedirectsError: () => (/* reexport safe */ _core_errors_js__WEBPACK_IMPORTED_MODULE_3__.MaxRedirectsError),\n/* harmony export */   Options: () => (/* reexport safe */ _core_options_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   ParseError: () => (/* reexport safe */ _core_response_js__WEBPACK_IMPORTED_MODULE_2__.ParseError),\n/* harmony export */   ReadError: () => (/* reexport safe */ _core_errors_js__WEBPACK_IMPORTED_MODULE_3__.ReadError),\n/* harmony export */   RequestError: () => (/* reexport safe */ _core_errors_js__WEBPACK_IMPORTED_MODULE_3__.RequestError),\n/* harmony export */   RetryError: () => (/* reexport safe */ _core_errors_js__WEBPACK_IMPORTED_MODULE_3__.RetryError),\n/* harmony export */   TimeoutError: () => (/* reexport safe */ _core_errors_js__WEBPACK_IMPORTED_MODULE_3__.TimeoutError),\n/* harmony export */   UploadError: () => (/* reexport safe */ _core_errors_js__WEBPACK_IMPORTED_MODULE_3__.UploadError),\n/* harmony export */   calculateRetryDelay: () => (/* reexport safe */ _core_calculate_retry_delay_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\n/* harmony export */   create: () => (/* reexport safe */ _create_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   got: () => (/* binding */ got),\n/* harmony export */   isResponseOk: () => (/* reexport safe */ _core_response_js__WEBPACK_IMPORTED_MODULE_2__.isResponseOk),\n/* harmony export */   parseBody: () => (/* reexport safe */ _core_response_js__WEBPACK_IMPORTED_MODULE_2__.parseBody),\n/* harmony export */   parseLinkHeader: () => (/* reexport safe */ _core_parse_link_header_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _create_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./create.js */ \"(rsc)/./node_modules/got/dist/source/create.js\");\n/* harmony import */ var _core_options_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core/options.js */ \"(rsc)/./node_modules/got/dist/source/core/options.js\");\n/* harmony import */ var _core_response_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./core/response.js */ \"(rsc)/./node_modules/got/dist/source/core/response.js\");\n/* harmony import */ var _core_errors_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./core/errors.js */ \"(rsc)/./node_modules/got/dist/source/core/errors.js\");\n/* harmony import */ var _core_calculate_retry_delay_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./core/calculate-retry-delay.js */ \"(rsc)/./node_modules/got/dist/source/core/calculate-retry-delay.js\");\n/* harmony import */ var _as_promise_types_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./as-promise/types.js */ \"(rsc)/./node_modules/got/dist/source/as-promise/types.js\");\n/* harmony import */ var _core_parse_link_header_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./core/parse-link-header.js */ \"(rsc)/./node_modules/got/dist/source/core/parse-link-header.js\");\n\n\nconst defaults = {\n    options: new _core_options_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](),\n    handlers: [],\n    mutableDefaults: false,\n};\nconst got = (0,_create_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(defaults);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (got);\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWlDO0FBQ087QUFDeEM7QUFDQSxpQkFBaUIsd0RBQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0EsWUFBWSxzREFBTTtBQUNsQixpRUFBZSxHQUFHLEVBQUM7QUFDSjtBQUN3QztBQUNyQjtBQUNDO0FBQ0g7QUFDQztBQUNnRDtBQUMzQztBQUNYO0FBQ3FCO0FBQ3lCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG5mbS1ib3QvLi9ub2RlX21vZHVsZXMvZ290L2Rpc3Qvc291cmNlL2luZGV4LmpzP2RmY2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyZWF0ZSBmcm9tICcuL2NyZWF0ZS5qcyc7XG5pbXBvcnQgT3B0aW9ucyBmcm9tICcuL2NvcmUvb3B0aW9ucy5qcyc7XG5jb25zdCBkZWZhdWx0cyA9IHtcbiAgICBvcHRpb25zOiBuZXcgT3B0aW9ucygpLFxuICAgIGhhbmRsZXJzOiBbXSxcbiAgICBtdXRhYmxlRGVmYXVsdHM6IGZhbHNlLFxufTtcbmNvbnN0IGdvdCA9IGNyZWF0ZShkZWZhdWx0cyk7XG5leHBvcnQgZGVmYXVsdCBnb3Q7XG5leHBvcnQgeyBnb3QgfTtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgT3B0aW9ucyB9IGZyb20gJy4vY29yZS9vcHRpb25zLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vY29yZS9vcHRpb25zLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vY29yZS9yZXNwb25zZS5qcyc7XG5leHBvcnQgKiBmcm9tICcuL2NvcmUvaW5kZXguanMnO1xuZXhwb3J0ICogZnJvbSAnLi9jb3JlL2Vycm9ycy5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGNhbGN1bGF0ZVJldHJ5RGVsYXkgfSBmcm9tICcuL2NvcmUvY2FsY3VsYXRlLXJldHJ5LWRlbGF5LmpzJztcbmV4cG9ydCAqIGZyb20gJy4vYXMtcHJvbWlzZS90eXBlcy5qcyc7XG5leHBvcnQgKiBmcm9tICcuL3R5cGVzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgY3JlYXRlIH0gZnJvbSAnLi9jcmVhdGUuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBwYXJzZUxpbmtIZWFkZXIgfSBmcm9tICcuL2NvcmUvcGFyc2UtbGluay1oZWFkZXIuanMnO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/got/dist/source/index.js\n");

/***/ })

};
;