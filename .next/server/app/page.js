(()=>{var e={};e.id=931,e.ids=[931],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},55315:e=>{"use strict";e.exports=require("path")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},74026:e=>{"use strict";e.exports=require("string_decoder")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},98061:e=>{"use strict";e.exports=require("node:assert")},92761:e=>{"use strict";e.exports=require("node:async_hooks")},72254:e=>{"use strict";e.exports=require("node:buffer")},40027:e=>{"use strict";e.exports=require("node:console")},6005:e=>{"use strict";e.exports=require("node:crypto")},65714:e=>{"use strict";e.exports=require("node:diagnostics_channel")},30604:e=>{"use strict";e.exports=require("node:dns")},15673:e=>{"use strict";e.exports=require("node:events")},93977:e=>{"use strict";e.exports=require("node:fs/promises")},88849:e=>{"use strict";e.exports=require("node:http")},42725:e=>{"use strict";e.exports=require("node:http2")},22286:e=>{"use strict";e.exports=require("node:https")},87503:e=>{"use strict";e.exports=require("node:net")},70612:e=>{"use strict";e.exports=require("node:os")},49411:e=>{"use strict";e.exports=require("node:path")},38846:e=>{"use strict";e.exports=require("node:perf_hooks")},97742:e=>{"use strict";e.exports=require("node:process")},39630:e=>{"use strict";e.exports=require("node:querystring")},55467:e=>{"use strict";e.exports=require("node:sqlite")},84492:e=>{"use strict";e.exports=require("node:stream")},92332:e=>{"use strict";e.exports=require("node:timers")},31764:e=>{"use strict";e.exports=require("node:tls")},41041:e=>{"use strict";e.exports=require("node:url")},47261:e=>{"use strict";e.exports=require("node:util")},93746:e=>{"use strict";e.exports=require("node:util/types")},24086:e=>{"use strict";e.exports=require("node:worker_threads")},65628:e=>{"use strict";e.exports=require("node:zlib")},82747:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>d}),s(20324),s(11506),s(35866);var r=s(23191),i=s(88716),o=s(37922),n=s.n(o),a=s(95231),l={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);s.d(t,l);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,20324)),"C:\\Users\\PMS\\Desktop\\dnfm\\app\\page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,4998))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,11506)),"C:\\Users\\PMS\\Desktop\\dnfm\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,4998))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\PMS\\Desktop\\dnfm\\app\\page.tsx"],x="/page",p={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},37650:()=>{},31102:(e,t,s)=>{Promise.resolve().then(s.bind(s,5061)),Promise.resolve().then(s.bind(s,93726))},66524:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},5061:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var r=s(10326),i=s(17577);function o({badge:e}){let[t,s]=(0,i.useState)(!1);return(0,r.jsxs)("div",{className:"relative inline-block",children:[r.jsx("div",{className:"w-8 h-8 rounded-full cursor-pointer transition-all duration-200 hover:scale-110 flex items-center justify-center overflow-hidden",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onClick:()=>s(!t),children:e.iconUrl?r.jsx("div",{className:"w-8 h-8 rounded-full bg-center bg-cover bg-no-repeat",style:{backgroundImage:`url("${e.iconUrl}")`},title:e.name}):r.jsx("span",{className:"text-xs font-bold text-gray-600",children:e.name?.charAt(0)||"?"})}),t&&r.jsx("div",{className:"absolute top-full left-0 mt-2 z-50",children:(0,r.jsxs)("div",{className:"bg-gray-900 text-white text-xs rounded-lg p-3 shadow-lg min-w-[200px] max-w-[300px]",children:[r.jsx("div",{className:"font-semibold mb-2 text-yellow-400",children:e.name}),(0,r.jsxs)("div",{className:"border-t border-gray-700 pt-2",children:[(0,r.jsxs)("div",{className:"text-gray-400 text-xs mb-1",children:["획득 조건 : ",e.earnedCondition]}),(0,r.jsxs)("div",{className:"text-gray-400 text-xs",children:["획득일 : ",new Date(e.earnedAt).toLocaleDateString()]})]}),r.jsx("div",{className:"absolute bottom-full left-4 w-0 h-0 border-l-4 border-r-4 border-b-4 border-l-transparent border-r-transparent border-b-gray-900"})]})})]})}},93726:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var r=s(10326);let i={common:{bg:"bg-gray-200",border:"border-gray-400",text:"text-gray-800"},uncommon:{bg:"bg-blue-200",border:"border-blue-400",text:"text-blue-800"},rare:{bg:"bg-purple-200",border:"border-purple-400",text:"text-purple-800"},unique:{bg:"bg-pink-200",border:"border-pink-400",text:"text-pink-800"},epic:{bg:"bg-yellow-200",border:"border-yellow-600",text:"text-yellow-900"}};function o({title:e,rarity:t="common"}){let s=i[t];return r.jsx("div",{className:`inline-flex items-center ${s.bg} ${s.text} px-2 py-1 rounded-md text-xs font-bold shadow-sm border-2 ${s.border}`,children:e})}},11506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o,metadata:()=>i});var r=s(19510);s(67272),s(71159);let i={title:"결투장 해",description:"던파M 길드 랭킹 사이트"};function o({children:e}){return r.jsx("html",{lang:"ko",children:r.jsx("body",{className:"text-gray-800 bg-gray-50 antialiased",children:(0,r.jsxs)("div",{className:"min-h-screen",children:[r.jsx("header",{className:"sticky top-0 z-20 backdrop-blur bg-white/80 border-b border-gray-200 shadow-sm",children:r.jsx("div",{className:"mx-auto max-w-6xl px-4 py-4 flex items-center justify-center",children:r.jsx("a",{href:"/",className:"font-bold text-xl text-gray-800",children:"결투장 해"})})}),r.jsx("main",{children:e})]})})})}},20324:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(19510);s(71159);var i=s(88190);let o={다크로드:{file:"char_thumbs_1_second.png",position:0,total:4},블러드이블:{file:"char_thumbs_1_second.png",position:1,total:4},검신:{file:"char_thumbs_1_second.png",position:2,total:4},인다라천:{file:"char_thumbs_1_second.png",position:3,total:4},마제스티:{file:"char_thumbs_2_second.png",position:0,total:4},네메시스:{file:"char_thumbs_2_second.png",position:1,total:4},디어사이드:{file:"char_thumbs_2_second.png",position:2,total:4},검제:{file:"char_thumbs_2_second.png",position:3,total:4},염제폐월수화:{file:"char_thumbs_3_second.png",position:0,total:4},카이저:{file:"char_thumbs_3_second.png",position:1,total:4},용독문주:{file:"char_thumbs_3_second.png",position:2,total:4},얼티밋디바:{file:"char_thumbs_3_second.png",position:3,total:4},레이븐:{file:"char_thumbs_4_second.png",position:0,total:4},디스트로이어:{file:"char_thumbs_4_second.png",position:1,total:4},프라임:{file:"char_thumbs_4_second.png",position:2,total:4},커맨더:{file:"char_thumbs_4_second.png",position:3,total:4},오버마인드:{file:"char_thumbs_5_second.png",position:0,total:4},지니위즈:{file:"char_thumbs_5_second.png",position:1,total:4},아슈타르테:{file:"char_thumbs_5_second.png",position:2,total:4},헤카테:{file:"char_thumbs_5_second.png",position:3,total:4},세라핌:{file:"char_thumbs_6_second.png",position:0,total:5},인페르노:{file:"char_thumbs_6_second.png",position:1,total:5},천선낭랑:{file:"char_thumbs_6_second.png",position:2,total:5},리디머:{file:"char_thumbs_6_second.png",position:3,total:5},이그제큐터:{file:"char_thumbs_6_second.png",position:4,total:5},세인트:{file:"char_thumbs_7_second.png",position:0,total:2},저스티스:{file:"char_thumbs_7_second.png",position:1,total:2},테라치프:{file:"char_thumbs_8_second.png",position:0,total:2},트라이브윙:{file:"char_thumbs_8_second.png",position:1,total:2},크림슨로제:{file:"char_thumbs_9_second.png",position:0,total:4},스톰트루퍼:{file:"char_thumbs_9_second.png",position:1,total:4},옵티머스:{file:"char_thumbs_9_second.png",position:2,total:4},프레이야:{file:"char_thumbs_9_second.png",position:3,total:4},워로드:{file:"char_thumbs_10_second.png",position:0,total:2},에레보스:{file:"char_thumbs_10_second.png",position:1,total:2},알키오네:{file:"char_thumbs_11_second.png",position:0,total:2},시라누이:{file:"char_thumbs_11_second.png",position:1,total:2}};function n({job:e,size:t=70,className:s=""}){let i=function(e){if(!e)return null;let t=e.replace(/\s+/g,"").toLowerCase();for(let[e,s]of Object.entries(o)){let r=e.replace(/\s+/g,"").toLowerCase();if(t.includes(r)||r.includes(t))return s}return null}(e);if(!i)return r.jsx("div",{className:`relative overflow-hidden bg-slate-800 rounded-full flex-shrink-0 flex items-center justify-center ${s}`,style:{width:t,height:t},title:e||"알 수 없는 직업",children:r.jsx("span",{className:"text-xs text-slate-400",children:e?e.charAt(0):"?"})});let{file:n,position:a,total:l}=i,d=`/images/${n}`;return(0,r.jsxs)("div",{className:`relative overflow-hidden bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex-shrink-0 ${s}`,style:{width:t,height:t},title:e||"알 수 없는 직업",children:[r.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url(${d})`,backgroundSize:`${l*t}px ${t}px`,backgroundPosition:`-${a*t}px center`,backgroundRepeat:"no-repeat",borderRadius:"50%"}}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-xs text-gray-600 opacity-0 hover:opacity-100 transition-opacity",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:"50%"},children:r.jsx("span",{className:"font-bold",children:e?e.charAt(0):"?"})})]})}var a=s(80719),l=s(82057),d=s(9487);function c({delta:e,className:t=""}){if(0===e)return r.jsx("span",{className:`bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full text-xs font-medium ${t}`,children:"➖ 변동없음"});let s=e>0;return(0,r.jsxs)("span",{className:`${s?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"} px-2 py-0.5 rounded-full text-xs font-medium ${t}`,children:[s?"↗️":"↘️"," ",s?"+":"",e.toLocaleString()]})}async function x(){let e=(0,d.z)();try{let{data:t,error:s}=await e.from("user_titles").select("author_key, title, rarity");s&&console.error("칭호 데이터 조회 실패:",s);let{data:r,error:i}=await e.from("user_badges").select(`
        author_key,
        badge_id,
        earned_at,
        earned_condition,
        badge_definitions!inner (
          id,
          name,
          description,
          icon_url
        )
      `);if(i)return console.error("Error fetching badges:",i),{titleMap:new Map,badgeMap:new Map};let o=new Map;t?.forEach(e=>{o.set(e.author_key,{title:e.title,rarity:e.rarity})});let n=new Map;return r?.forEach(e=>{let t=e.author_key;n.has(t)||n.set(t,[]),console.log("Processing badge for",t,":",{badgeId:e.badge_id,badgeDefinitions:e.badge_definitions}),n.get(t).push({id:e.badge_definitions?.id,name:e.badge_definitions?.name,description:e.badge_definitions?.description,iconUrl:e.badge_definitions?.icon_url,earnedAt:e.earned_at,earnedCondition:e.earned_condition})}),console.log("DB에서 가져온 칭호 데이터:",Array.from(o.entries())),console.log("DB에서 가져온 뱃지 데이터:",Array.from(n.entries())),{titleMap:o,badgeMap:n}}catch(e){return console.error("Error fetching user data:",e),{titleMap:new Map,badgeMap:new Map}}}async function p(){let e=await (0,i.ff)("항마압축파",100),{titleMap:t,badgeMap:s}=await x(),o={members:e,sampledPages:0,generatedAt:new Date().toISOString()};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-4 sm:p-6 lg:p-8",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsxs)("div",{className:"inline-flex items-center gap-3 mb-4",children:[r.jsx("img",{src:"/images/logo1.png",alt:"Logo 1",className:"h-12 w-auto"}),r.jsx("h1",{className:"text-3xl sm:text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"항마압축파 랭킹"}),r.jsx("img",{src:"/images/logo2.png",alt:"Logo 2",className:"h-12 w-auto"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-600",children:[r.jsx("span",{children:"만든놈 :"}),r.jsx("img",{src:"/images/profile.png",alt:"Profile",className:"h-6 w-6 rounded-full"}),r.jsx("span",{className:"font-medium",children:"정신나간메짱"})]})]}),0===o.members.length?(0,r.jsxs)("div",{className:"text-center py-16",children:[r.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("span",{className:"text-3xl",children:"\uD83D\uDE14"})}),r.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"등록된 길드원이 없습니다"}),r.jsx("p",{className:"text-gray-500",children:"길드원 프로필 등록을 먼저 실행해주세요"})]}):r.jsx("div",{className:"grid gap-3 sm:gap-4",children:o.members.map((e,i)=>{let o=`${e.server}:${e.nickname}`.toLowerCase(),d=t.get(o),x=s.get(o)||[];return console.log(`${e.nickname} 매칭 확인:`,{authorKey:o,title:d?.title,rarity:d?.rarity,badgeCount:x.length,hasTitle:t.has(o),titleData:d}),(0,r.jsxs)("div",{className:`relative bg-white rounded-xl shadow-sm border border-gray-100 p-4 sm:p-6 transition-all duration-200 hover:shadow-md hover:scale-[1.02] ${0===i?"ring-2 ring-yellow-400 bg-gradient-to-r from-yellow-50 to-orange-50":1===i?"ring-2 ring-gray-400 bg-gradient-to-r from-gray-50 to-slate-50":2===i?"ring-2 ring-amber-600 bg-gradient-to-r from-amber-50 to-yellow-50":""}`,children:[r.jsx("div",{className:`absolute -top-2 -left-2 w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${0===i?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white shadow-lg":1===i?"bg-gradient-to-r from-gray-400 to-gray-500 text-white shadow-lg":2===i?"bg-gradient-to-r from-amber-600 to-yellow-600 text-white shadow-lg":"bg-gradient-to-r from-blue-500 to-purple-600 text-white"}`,children:e.rank}),(0,r.jsxs)("div",{className:"flex items-start gap-3 xs:gap-4 sm:gap-6",children:[(0,r.jsxs)("div",{className:"flex-shrink-0 flex flex-col items-center",children:[(0,r.jsxs)("div",{className:"relative mb-2",children:[r.jsx(n,{job:e.job,size:70,className:"w-[60px] h-[60px] xs:w-[70px] xs:h-[70px] sm:w-[80px] sm:h-[80px] ring-3 xs:ring-4 ring-white shadow-xl"}),i<3&&(0,r.jsxs)("div",{className:"absolute -top-1 -right-1 xs:-top-2 xs:-right-2",children:[0===i&&r.jsx("span",{className:"text-lg xs:text-xl sm:text-2xl",children:"\uD83D\uDC51"}),1===i&&r.jsx("span",{className:"text-lg xs:text-xl sm:text-2xl",children:"\uD83E\uDD48"}),2===i&&r.jsx("span",{className:"text-lg xs:text-xl sm:text-2xl",children:"\uD83E\uDD49"})]})]}),d&&(0,r.jsxs)("div",{className:"flex flex-col items-center gap-1 w-full",children:[r.jsx("div",{className:"w-full text-black text-xs font-bold text-center py-1 px-2",children:"칭호"}),r.jsx(a.Z,{title:d.title,rarity:d.rarity})]})]}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[x.length>0&&r.jsx("div",{className:"flex items-center gap-2 mb-2",children:r.jsx("div",{className:"flex gap-1",children:x.map(e=>r.jsx(l.Z,{badge:e},e.id))})}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1.5 xs:mb-2",children:[(0,r.jsxs)("span",{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white px-2 xs:px-3 py-1 rounded-full text-xs xs:text-sm font-bold shadow-sm flex-shrink-0",children:["Lv.",e.level]}),r.jsx("h3",{className:"text-lg xs:text-xl sm:text-2xl font-black text-gray-900 truncate",children:e.nickname})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5 xs:gap-2 sm:gap-3 mb-1.5 xs:mb-2 flex-wrap",children:[r.jsx("span",{className:"bg-gradient-to-r from-indigo-100 to-purple-100 text-indigo-700 px-2 xs:px-3 py-1 xs:py-1.5 rounded-full text-xs xs:text-sm sm:text-base font-semibold",children:e.job}),(0,r.jsxs)("span",{className:"bg-gradient-to-r from-green-100 to-emerald-100 text-green-700 px-2 xs:px-3 py-1 xs:py-1.5 rounded-full text-xs xs:text-sm sm:text-base font-bold",children:["⚔️ ",e.combatPower?.toLocaleString?.()??e.combatPower]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5 xs:gap-2 flex-wrap",children:[(0,r.jsxs)("span",{className:"bg-purple-100 text-purple-700 px-2 xs:px-3 py-1 rounded-full text-xs xs:text-sm font-medium",children:["\uD83D\uDCCD ",e.server]}),e.adventureName&&(0,r.jsxs)("span",{className:"bg-gradient-to-r from-orange-100 to-yellow-100 text-orange-700 px-2 xs:px-3 py-1 rounded-full text-xs xs:text-sm font-medium truncate max-w-[140px] xs:max-w-none",title:`${e.adventureName} Lv.${e.adventureLevel}`,children:["\uD83C\uDFF0 ",e.adventureName," Lv.",e.adventureLevel]})]}),void 0!==e.combatPowerDelta&&0!==e.combatPowerDelta&&(0,r.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"어제 대비"}),r.jsx(c,{delta:e.combatPowerDelta})]})]})]})]},e.nickname+e.server)})})]})})}},82057:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(68570).createProxy)(String.raw`C:\Users\PMS\Desktop\dnfm\components\Badge.tsx#default`)},80719:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(68570).createProxy)(String.raw`C:\Users\PMS\Desktop\dnfm\components\Title.tsx#default`)},4998:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(66621);let i=e=>[{type:"image/png",sizes:"210x210",url:(0,r.fillMetadataSegment)(".",e.params,"icon.png")+"?2b5bee993761cbe4"}]},67272:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,917,498,462,471,621,937],()=>s(82747));module.exports=r})();